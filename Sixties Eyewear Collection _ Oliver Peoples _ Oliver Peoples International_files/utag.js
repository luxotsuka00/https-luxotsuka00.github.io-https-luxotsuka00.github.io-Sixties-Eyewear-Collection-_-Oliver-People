//tealium universal tag - utag.loader ut4.0.202509221016, Copyright 2025 Tealium.com Inc. All Rights Reserved.
(function(w){if(typeof w.utag!=='undefined'&&typeof w.utag.e==='object'){w.utag_events=w.utag.e;delete w.utag;}}(window));if(typeof utag_err=='undefined')var utag_err=[];window._tealium_old_error=window._tealium_old_error||window.onerror||function(){};window.onerror=function(m,u,l){if(typeof u!=='undefined'&&u.indexOf('/utag.')>0&&utag_err.length<5)utag_err.push({e:m,s:u,l:l,t:'js'});window._tealium_old_error(m,u,l)};var utag_condload=false;try{(function(){function ul(src,a,b){a=document;b=a.createElement('script');b.language='javascript';b.type='text/javascript';b.src=src;a.getElementsByTagName('head')[0].appendChild(b)};var match=(""+document.cookie).match("(^|;\\s)utag_env_luxottica_oliverpeoples=(\/\/tags\.tiqcdn\.com\/utag\/luxottica\/[a-z0-9\\.-]{1,30}\\/[^\\s;]*)");if(match){if(match[2].indexOf("/prod/")===-1){var s=match[2];while(s.indexOf("%")!=-1){s=decodeURIComponent(s);}s=s.replace(/\.\./g,"");ul(s);utag_condload=true;__tealium_default_path='//tags.tiqcdn.com/utag/luxottica/oliverpeoples/prod/';}}})();}catch(e){};try{try{var TealiumBetaExtService=function TealiumBetaExtServiceCTRL(DEBUG_MODE){var __cname='TealiumBetaExtService';try{var CommonUtils=function CommonUtilsCTRL(){var __cname='TealiumBetaExtService.CommonUtils';try{var __tryCatch=function(fn,params,ret,cname){try{return fn.apply(this,params);}catch(e){if(window.console&&window.sessionStorage&&window.sessionStorage.getItem('analyticsLog_User')==='lwa')console.error('###',(cname||'<CLASS_NAME>')+'.'+(fn.name||'<FUNCTION_NAME>')+' --- '+e.stack);return ret;}};var __isInteger=function(elem){return typeof elem==='number'&&elem>=0;};var __isString=function(elem){return typeof elem==='string'||elem instanceof String;};var __isBoolean=function(elem){return typeof elem==='boolean';};var __isFunction=function(elem){return typeof elem==='function';};var __isPlainObject=function(elem){return elem!==undefined&&elem!==null&&typeof elem==='object'&&elem.constructor===Object;};this.export={tryCatch:function(fn,params,ret,cname){return __tryCatch(fn,params,ret,cname);},isInteger:function(elem){return __tryCatch(__isInteger,[elem],false,__cname);},isString:function(elem){return __tryCatch(__isString,[elem],false,__cname);},isBoolean:function(elem){return __tryCatch(__isBoolean,[elem],false,__cname);},isFunction:function(elem){return __tryCatch(__isFunction,[elem],false,__cname);},isPlainObject:function(elem){return __tryCatch(__isPlainObject,[elem],false,__cname);},};}catch(e){if(window.console&&window.sessionStorage&&window.sessionStorage.getItem('analyticsLog_User')==='lwa')console.error('###',__cname+' has not been completed successfully! => caused by: '+e.stack);}
return Object.freeze(Object.setPrototypeOf(this.export||{},CommonUtilsCTRL.prototype));};var RegisterTable=function RegisterTableCTRL(){var __cname='TealiumBetaExtService.RegisterTable';try{var __table={};var __defaultStorageIdPrefix='beta_ext';var __customStorageIdPrefix='';var __separatorTableUniqueID='___';var __lastTableId=0;var __getStorageIdPrefix=function(){return __customStorageIdPrefix+__defaultStorageIdPrefix;};var __setCustomStorageIdPrefix=function(prefix){if(__.isString(prefix))__customStorageIdPrefix=prefix;};var __getTableUniqueId=function(tableId){var name=__getName(tableId);return tableId+(name?(__separatorTableUniqueID+name):'');};var __resolveStorageId=function(tableId){return __getStorageIdPrefix()+__getTableUniqueId(tableId);};var __resolveTableUniqueId=function(storageId){return(''+storageId).replace(__getStorageIdPrefix(),'');};var __resolveId=function(uniqueId){return(''+uniqueId).split(__separatorTableUniqueID)[0]||'';};var __resolveName=function(uniqueId){return(''+uniqueId).split(__separatorTableUniqueID)[1]||'';};var __getInfo=function(id,prop){return __table.hasOwnProperty(id)?(__table[id].hasOwnProperty(prop)?__table[id][prop]:__table[id]):null;};var __getName=function(id){return __getInfo(id,'name')||'';};var __getEnabled=function(id){return __getInfo(id,'enabled')||false;};var __getIds=function(){return Object.keys(__table);};var __setInfo=function(id,obj){if((__table.hasOwnProperty(id)||__.isInteger(id)||(id&&__.isString(id)))&&__.isPlainObject(obj)){var info=__table[id]||{};if(obj.hasOwnProperty('name')&&obj.name&&__.isString(obj.name))info.name=obj.name;if(obj.hasOwnProperty('enabled')&&__.isBoolean(obj.enabled))info.enabled=obj.enabled;if(Object.keys(info).length>0)__table[id]=info;}};var __setName=function(id,name){__setInfo(id,{name:name});};var __setEnabled=function(id,enabled){__setInfo(id,{enabled:enabled});};var __updateLastTableId=function(){while(__table.hasOwnProperty(__lastTableId))__lastTableId++;};var __resetLastTableId=function(){__lastTableId=0;};var __add=function(name,enabled){__updateLastTableId();__setInfo(__lastTableId,{name:name,enabled:(name&&__.isString(name)?(__.isBoolean(enabled)?enabled:false):null)});return __lastTableId;};var __remove=function(id){if(__table.hasOwnProperty(id))delete __table[id];};var __lookUp=function(name){var results=[];if(name&&__.isString(name)){for(var id in __table)if(__table.hasOwnProperty(id)&&__table[id].hasOwnProperty('name')&&__table[id].name===name)results.push(id);}
return results;};var __getCode=function(id){var storageId=__table.hasOwnProperty(id)?__resolveStorageId(id):'';return(storageId&&window.sessionStorage&&window.sessionStorage.getItem(storageId))||'';};var __setCode=function(id,code){var storageId=__table.hasOwnProperty(id)?__resolveStorageId(id):'';if(storageId&&window.sessionStorage&&__.isString(code))window.sessionStorage.setItem(storageId,code);};var __removeCode=function(id){var storageId=__table.hasOwnProperty(id)?__resolveStorageId(id):'';if(storageId&&window.sessionStorage)window.sessionStorage.removeItem(storageId);};var __clear=function(){for(var id in __table){if(__table.hasOwnProperty(id)){__removeCode(id);delete __table[id];}}
__resetLastTableId();};var __recovery=function(){for(var id in window.sessionStorage){if(window.sessionStorage.hasOwnProperty(id)&&(new RegExp('^'+__getStorageIdPrefix()).test(id))&&window.sessionStorage.getItem(id)){var uniqueId=__resolveTableUniqueId(id);__setInfo(__resolveId(uniqueId),{name:__resolveName(uniqueId),enabled:false});}}};var __isAvailable=function(){for(var id in __table)if(__getCode(id))return true;return false;};this.export={getStorageIdPrefix:function(){return __.tryCatch(__getStorageIdPrefix,[],'',__cname);},setCustomStorageIdPrefix:function(prefix){return __.tryCatch(__setCustomStorageIdPrefix,[prefix],null,__cname);},getName:function(id){return __.tryCatch(__getName,[id],'',__cname);},getIds:function(){return __.tryCatch(__getIds,[],[],__cname);},add:function(name,enabled){return __.tryCatch(__add,[name,enabled],null,__cname);},remove:function(id){return __.tryCatch(__remove,[id],null,__cname);},lookUp:function(name){return __.tryCatch(__lookUp,[name],[],__cname);},getCode:function(id){return __.tryCatch(__getCode,[id],'',__cname);},setCode:function(id,code){return __.tryCatch(__setCode,[id,code],null,__cname);},removeCode:function(id){return __.tryCatch(__removeCode,[id],null,__cname);},clear:function(){return __.tryCatch(__clear,[],null,__cname);},recovery:function(){return __.tryCatch(__recovery,[],null,__cname);},isAvailable:function(){return __.tryCatch(__isAvailable,[],false,__cname);},isBetaModeEnabled:function(id){return __.tryCatch(__getEnabled,[id],false,__cname);},setBetaMode:function(id,enabled){__.tryCatch(__setEnabled,[id,enabled],null,__cname);},};}catch(e){if(window.console&&window.sessionStorage&&window.sessionStorage.getItem('analyticsLog_User')==='lwa')console.error('###',__cname+' has not been completed successfully! => caused by: '+e.stack);}
return Object.freeze(Object.setPrototypeOf(this.export||{},RegisterTableCTRL.prototype));};var __configure=function(options){if(__.isPlainObject(options)){if(options.hasOwnProperty('prefix')&&__.isString(options.prefix))RT.setCustomStorageIdPrefix(__customStorageIdPrefix=options.prefix);if(options.hasOwnProperty('preconditions')&&__.isFunction(options.preconditions))__preConditionsCallback=options.preconditions;}};var __init=function(){if(__INIT_MODE)return;RT.recovery();__INIT_MODE=true;};var __create=function(extName,extCodeCallback,extClosureVars){__init();if(!__.isFunction(extCodeCallback))throw new Error('extCodeCallback is not a valid input => required a function callback');if(__preConditionsCallback&&(!__preConditionsCallback())){extCodeCallback();return null;}
if(!__.isString(extName)||extName===''){extCodeCallback();throw new Error('extName is not a valid input => required a string not empty',extName);}
var betaExtensionCode;var betaExtensionId=RT.lookUp(extName)[0]||'';if(betaExtensionId){betaExtensionCode=RT.getCode(betaExtensionId);if(!betaExtensionCode){extCodeCallback();return null;}
else{if(!RT.isBetaModeEnabled(betaExtensionId)){RT.setBetaMode(betaExtensionId,true);try{extClosureVars=__.isPlainObject(extClosureVars)?extClosureVars:{};var extClosureVarsKeys=Object.keys(extClosureVars);var extClosureVarsValues=extClosureVarsKeys.map(function(key){return extClosureVars[key];});Function(extClosureVarsKeys,betaExtensionCode).apply(null,extClosureVarsValues);}catch(e){throw new Error(e.stack);}finally{RT.setBetaMode(betaExtensionId,false);if(DEBUG_MODE)return'beta';}}
else{RT.setBetaMode(betaExtensionId,false);extCodeCallback();if(DEBUG_MODE)return'beta';}}}
else{RT.add(extName);extCodeCallback();if(DEBUG_MODE)return'original';}};var __getConfiguration=function(){return{prefix:__customStorageIdPrefix,preconditions:__preConditionsCallback};};var __isInitialized=function(){return __INIT_MODE;};var __reset=function(){__customStorageIdPrefix='';__preConditionsCallback=null;__INIT_MODE=false;RT.clear();RT.setCustomStorageIdPrefix(__customStorageIdPrefix);};var __=new CommonUtils();var RT=new RegisterTable();var __customStorageIdPrefix='';var __preConditionsCallback=null;var __INIT_MODE=false;DEBUG_MODE=__.isBoolean(DEBUG_MODE)?DEBUG_MODE:false;this.export={configure:function(options){return __.tryCatch(__configure,[options],null,__cname);},init:function(){return __.tryCatch(__init,[],null,__cname);},create:function(extName,extCodeCallback,extClosureVars){return __.tryCatch(__create,[extName,extCodeCallback,extClosureVars],null,__cname);},clear:RT.clear,atleastOneAvailable:RT.isAvailable,getIds:RT.getIds,getName:RT.getName,getCode:RT.getCode,setCode:RT.setCode,removeCode:RT.removeCode,CommonUtils:DEBUG_MODE?new CommonUtils():undefined,RegisterTable:DEBUG_MODE?new RegisterTable():undefined,getConfiguration:DEBUG_MODE?function(){return __.tryCatch(__getConfiguration,[],{},__cname);}:undefined,isInitialized:DEBUG_MODE?function(){return __.tryCatch(__isInitialized,[],false,__cname);}:undefined,reset:DEBUG_MODE?function(){return __.tryCatch(__reset,[],null,__cname);}:undefined,};}catch(e){if(window.console&&window.sessionStorage&&window.sessionStorage.getItem('analyticsLog_User')==='lwa')console.error('###',__cname+' has not been completed successfully! => caused by: '+e.stack);}
return Object.freeze(Object.setPrototypeOf(this.export||{},TealiumBetaExtServiceCTRL.prototype));}(Boolean(window.sessionStorage&&window.sessionStorage.getItem('tealium_debug_mode')));window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.beta_extension_service="25-03-04";}catch(e){console.log(e)}}catch(e){console.log(e);}
if(!utag_condload){try{try{var TealiumBetaExtConfiguration=function(){try{if(TealiumBetaExtService&&TealiumBetaExtService.configure)TealiumBetaExtService.configure({prefix:'tealium_',preconditions:function(){return window.sessionStorage&&window.sessionStorage.getItem('analyticsLog_User');},});}catch(e){if(window.console&&window.sessionStorage&&window.sessionStorage.getItem('analyticsLog_User')==='lwa')console.error('### TealiumBetaExtConfiguration has not been completed successfully! => caused by: '+e.stack);}}();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.beta_extension_conf="24-11-01";}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.3 - Utils';var tealiumExtensionCode=function(){var __getAnalyticsLogUser=function(){return window.sessionStorage?(window.sessionStorage.getItem('analyticsLog_User')||''):'';};if(__getAnalyticsLogUser()==='lwa'&&window.console)console.time('UTILS: CREATION');window.__Utils__=function UtilsCTRL(){var __cname='__Utils__';try{this.export={getAnalyticsLogUser:__getAnalyticsLogUser};var SystemError=function SystemErrorCTRL(){var __cname='__Utils__.SystemError';try{var __adobeTagSource={basePathUrl:'https://luxottica.d2.sc.omtrdc.net/b/ss/',reportSuite:'luxray-ban-prod-junk',restOfPathUrl:'/1/G.4--NS/',params:{},};var __getErrorSource=function(error){var errorSource=[];if(error){if(error.component)errorSource.push(error.component);if(error.context)errorSource.push(error.context);}
return errorSource.join(' > ');};var __getErrorInfo=function(error){var errorInfo=[];if(error&&error.details)errorInfo.push(error.details.name+': '+error.details.message);return errorInfo.join(': ');};var __getErrorDetails=function(error){if(error&&error.details&&error.details.stack){var errorStack=error.details.stack.replace(/\s{2,}|\n/g,' ');if(/(http[^\s]+) ?/.test(errorStack))return(errorStack.match(/(http[^\s]+) ?/)[1]||'').replace(/[\), ]{0,3}$/g,'');else return errorStack;}
return'';};var __getAdobeTagPathUrl=function(){return __adobeTagSource.basePathUrl+__adobeTagSource.reportSuite+__adobeTagSource.restOfPathUrl+(new Date().getTime());};var __getAdobeTagParams=function(){var params=[];for(var key in __adobeTagSource.params){var value=__adobeTagSource.params[key];if(value)params.push(key+'='+encodeURIComponent(value));}
return params.join('&');};var __getAdobeTagSource=function(){return __getAdobeTagPathUrl()+'?'+__getAdobeTagParams();};var __setAdobeTagParams=function(datalayer,error){datalayer=datalayer&&typeof datalayer==='object'?datalayer:{};error=error&&typeof error==='object'?error:{};__adobeTagSource.params={events:'event69',pageName:window.location.href,g:window.location.href,server:window.location.hostname,c8:window.location.pathname,c67:window.location.search,c3:datalayer.id||'',c2:datalayer.Page_Country||'',c25:__getErrorSource(error),c30:__getErrorInfo(error),c36:__getErrorDetails(error),};try{__adobeTagSource.params.c74=UTAG.getUtagProfile();__adobeTagSource.params.c48=datalayer['ut.version']?UTAG.getCustomUtagVersion(datalayer['ut.version']):STORAGE.getItem('tealium_version','');}catch(e){}};var __createAdobeTagPixel=function(){var adobeTagPixel=document.createElement('img');adobeTagPixel.src=__getAdobeTagSource();};var __throw=function(datalayer,error){try{__setAdobeTagParams(datalayer,error);__createAdobeTagPixel();}catch(e){if(__getAnalyticsLogUser()==='lwa'&&window.console)console.error('###',__cname+'.__throw --- '+e.stack);}};this.export={throw:function(datalayer,error){return __throw(datalayer,error);},};}catch(e){if(__getAnalyticsLogUser()==='lwa'&&window.console)console.error('###',__cname+' has not been completed successfully! => caused by: '+e.stack);}
return Object.freeze(Object.setPrototypeOf(this.export||{},SystemErrorCTRL.prototype));};this.export.SystemError=new SystemError();var MessageLogging=function MessageLoggingCTRL(DEBUG){var __cname='__Utils__.MessageLogging';try{var __messages=[];var __TYPES=['log','info','warn','error','table'];var __DEBUG=typeof DEBUG==='boolean'?DEBUG:false;var __isValidType=function(type){try{return TC.isString(type)&&REB.isValueOf(__TYPES).test(type)?true:false;}catch(e){if(__getAnalyticsLogUser()==='lwa'&&window.console)console.error('###',__cname+'.__isValidType --- '+e.stack);return false;}};var __setDebugMode=function(flag){try{if(TC.isBoolean(flag))__DEBUG=flag;}catch(e){if(__getAnalyticsLogUser()==='lwa'&&window.console)console.error('###',__cname+'.__setDebugMode --- '+e.stack);}};var __showMessage=function(options){try{if(!window.console)return;if(!__DEBUG)return;options=TC.isPureObject(options)?options:{};options.type=__isValidType(options.type)?options.type:'log';if(options.type=='table')console.table(options.content);else{options.cname=TC.isString(options.cname)?options.cname:'';options.fname=TC.isString(options.fname)?options.fname:'';options.msg=TC.isString(options.msg)?options.msg:'';options.prop=TC.isString(options.prop)?options.prop:'';if(options.msg){var msg=(options.fname?((options.cname?(options.cname+'.'):'')+options.fname+' --- '):'')+options.msg;if(options.prop)console[options.type]('###',msg,':',options.prop,'=',options.value);else console[options.type]('###',msg);}}}catch(e){if(__getAnalyticsLogUser()==='lwa'&&window.console)console.error('###',__cname+'.__showMessage --- '+e.stack);}};var __timeStart=function(name){try{if(window.console&&__DEBUG&&TC.isString(name)&&name)console.time(name);}catch(e){if(__getAnalyticsLogUser()==='lwa'&&window.console)console.error('###',__cname+'.__timeStart --- '+e.stack);}};var __timeEnd=function(name){try{if(window.console&&__DEBUG&&TC.isString(name)&&name)console.timeEnd(name);}catch(e){if(__getAnalyticsLogUser()==='lwa'&&window.console)console.error('###',__cname+'.__timeEnd --- '+e.stack);}};this.export={setDebugMode:function(flag){__setDebugMode(flag);},showMessage:function(options){return __showMessage(options);},timeStart:function(name){__timeStart(name);},timeEnd:function(name){__timeEnd(name);},};}catch(e){if(__getAnalyticsLogUser()==='lwa'&&window.console)console.error('###',__cname+' has not been completed successfully! => caused by: '+e.stack);}
return Object.freeze(Object.setPrototypeOf(this.export||{},MessageLoggingCTRL.prototype));};this.export.MessageLogging=new MessageLogging(__getAnalyticsLogUser()==='lwa');var TypeChecking=function TypeCheckingCTRL(){var __cname='__Utils__.TypeChecking';try{var __NATIVE_TYPES=['string','number','boolean'];var __PRIMITIVE_CLASSES=[String,Number,Boolean];var __IMMUTABLE_CLASSES=[Function,Date,RegExp];var __ERROR_CLASSES=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,];var __isString=function(value){return typeof value==='string'||value instanceof String;};var __isNumber=function(value){return typeof value==='number'&&isFinite(value);};var __isArray=function(value){return Array.isArray(value)||(value!==undefined&&value!==null&&value.constructor===Array);};var __isFunction=function(value){return typeof value==='function';};var __isObject=function(value){return value!==undefined&&(value===null||(typeof value==='object'&&value.constructor===Object));};var __isNull=function(value){return value===null;};var __isUndefined=function(value){return typeof value==='undefined';};var __isBoolean=function(value){return typeof value==='boolean';};var __isRegExp=function(value){return value!==undefined&&value!==null&&typeof value==='object'&&value.constructor===RegExp;};var __isError=function(value){return value instanceof Error&&typeof value.message!=='undefined';};var __isDate=function(value){return value instanceof Date;};var __isSymbol=function(value){return typeof value==='symbol';};var __isPureObject=function(elem){return __isObject(elem)&&(!__isNull(elem));};var __isEmptyObject=function(elem){return __isObject(elem)&&(__isNull(elem)||(Object.getOwnPropertyNames(elem).length<1));};var __isEmptyArray=function(elem){return __isArray(elem)&&(elem.length<1);};var __isEmptyString=function(elem){return __isString(elem)&&(!elem);};var __isDomNode=function(o){return typeof Node==='object'?o instanceof Node:o&&typeof o==='object'&&typeof o.nodeType==='number'&&typeof o.nodeName==='string';};var __isDomElement=function(o){return typeof HTMLElement==='object'?o instanceof HTMLElement:o&&typeof o==='object'&&o!==null&&o.nodeType===1&&typeof o.nodeName==='string';};var __isTypeOf=function(elem,types){types=__isArray(types)?types:[types];for(var i=0;i<types.length;i++)if(typeof elem===types[i])return true;return false;};var __isInstanceOf=function(elem,classes){classes=__isArray(classes)?classes:[classes];for(var i=0;i<classes.length;i++)if(elem instanceof classes[i])return true;return false;};var __getInstanceOf=function(elem,classes){classes=__isArray(classes)?classes:[classes];for(var i=0;i<classes.length;i++)if(elem instanceof classes[i])return classes[i];return null;};var __isNativeType=function(elem){return __isTypeOf(elem,__NATIVE_TYPES);};var __isPrimitiveObject=function(elem){return __isInstanceOf(elem,__PRIMITIVE_CLASSES);};var __isImmutableObject=function(elem){return __isInstanceOf(elem,__IMMUTABLE_CLASSES);};var __isErrorObject=function(elem){return __isInstanceOf(elem,__ERROR_CLASSES);};var __isCustomObject=function(elem){return typeof elem==='object'&&elem!==null&&elem.constructor!==Object&&(!__isInstanceOf(elem,[Array,Error].concat(__PRIMITIVE_CLASSES).concat(__IMMUTABLE_CLASSES)));};var __copyPrimitiveObject=function(elem){var __Primitive=__getInstanceOf(elem,__PRIMITIVE_CLASSES);return __Primitive?new __Primitive(elem.valueOf()):null;};var __copyPrimitiveFunction=function(elem){var head_func=elem.toString().match(/^function[ ]*\w*[ ]*\([^\{\}]*\)[ ]*\{/)[0];var head_func_arr=head_func.split('(');//@NOTE: Function object is not able to assign a name
var params_func=head_func_arr[1].split(')')[0];var body_func=elem.toString().replace(/^function[ ]*\w*[ ]*\([^\{\}]*\)[ ]*\{/,'').replace(/\}$/,'');if(/\[native[ ]*code\]/gi.test(body_func)){return elem;}else{return new Function(params_func,body_func);}};var __copyImmutableObject=function(elem){if(elem instanceof Function)return __copyPrimitiveFunction(elem);if(elem instanceof RegExp){var flags=elem.flags;//@TODO: replace this cleaning with existing function toStringAndClean customizing it!
var regexp=elem.toString().replace(/^[/]?/, '').replace(/[/][gimuy]*$/,'');return RegExp(regexp,flags);}
if(elem instanceof Date)return new Date(elem.valueOf());return null;};var __copyErrorObject=function(elem){var __Error=__getInstanceOf(elem,__ERROR_CLASSES.concat([Error]));return __Error?new __Error(elem.message):null;};this.export={isString:function(value){return ___.tryCatch(__isString,[value],false,__cname);},isNumber:function(value){return ___.tryCatch(__isNumber,[value],false,__cname);},isArray:function(value){return ___.tryCatch(__isArray,[value],false,__cname);},isFunction:function(value){return ___.tryCatch(__isFunction,[value],false,__cname);},isNull:function(value){return ___.tryCatch(__isNull,[value],false,__cname);},isUndefined:function(value){return ___.tryCatch(__isUndefined,[value],false,__cname);},isBoolean:function(value){return ___.tryCatch(__isBoolean,[value],false,__cname);},isRegExp:function(value){return ___.tryCatch(__isRegExp,[value],false,__cname);},isError:function(value){return ___.tryCatch(__isError,[value],false,__cname);},isDate:function(value){return ___.tryCatch(__isDate,[value],false,__cname);},isSymbol:function(value){return ___.tryCatch(__isSymbol,[value],false,__cname);},isObject:function(elem){return ___.tryCatch(__isObject,[elem],false,__cname);},isPureObject:function(elem){return ___.tryCatch(__isPureObject,[elem],false,__cname);},isEmptyObject:function(elem){return ___.tryCatch(__isEmptyObject,[elem],false,__cname);},isEmptyArray:function(elem){return ___.tryCatch(__isEmptyArray,[elem],false,__cname);},isEmptyString:function(elem){return ___.tryCatch(__isEmptyString,[elem],false,__cname);},isDomNode:function(o){return ___.tryCatch(__isDomNode,[o],false,__cname);},isDomElement:function(o){return ___.tryCatch(__isDomElement,[o],false,__cname);},isTypeOf:function(elem,types){return ___.tryCatch(__isTypeOf,[elem,types],false,__cname);},isInstanceOf:function(elem,classes){return ___.tryCatch(__isInstanceOf,[elem,classes],false,__cname);},getInstanceOf:function(elem,classes){return ___.tryCatch(__getInstanceOf,[elem,classes],null,__cname);},isNativeType:function(elem){return ___.tryCatch(__isNativeType,[elem],false,__cname);},isPrimitiveObject:function(elem){return ___.tryCatch(__isPrimitiveObject,[elem],false,__cname);},isImmutableObject:function(elem){return ___.tryCatch(__isImmutableObject,[elem],false,__cname);},isErrorObject:function(elem){return ___.tryCatch(__isErrorObject,[elem],false,__cname);},isCustomObject:function(elem){return ___.tryCatch(__isCustomObject,[elem],false,__cname);},copyPrimitiveObject:function(elem){return ___.tryCatch(__copyPrimitiveObject,[elem],null,__cname);},copyPrimitiveFunction:function(elem){return ___.tryCatch(__copyPrimitiveFunction,[elem],null,__cname);},copyImmutableObject:function(elem){return ___.tryCatch(__copyImmutableObject,[elem],null,__cname);},copyErrorObject:function(elem){return ___.tryCatch(__copyErrorObject,[elem],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},TypeCheckingCTRL.prototype));};var RegExpBuilder=function RegExpBuilderCTRL(){var __cname='__Utils__.RegExpBuilder';try{var SEPARATORS=[' ',',',';','=','\\.','\\|',':','@'];var QUOTES=['\'','\"'];var TEXT_TRANSFORMS=['lowercase','uppercase','capitalize'];var __toStringAndClean=function(regexp){if(!TC.isRegExp(regexp))return'';return ___.toString(regexp).replace(/^[/][^]?/, '').replace(/[$]?[/][dgimsuvy]*$/,'');};var __toRegExp=function(str){if(!TC.isString(str))return __isEmpty();var result=str.match(/^\/(.+)\/([dgimsuvy]*)$/);if(result)return RegExp(result[1],result[2]);return RegExp(str);};var __matchEmpty=function(regexp){return(TC.isRegExp(regexp)&&regexp.test(''))?true:false;};var __matchSepOrQt=function(word,isSep,isQt){if(!TC.isString(word))return false;var sep_qt_list=((isSep!='0')?SEPARATORS:[]);if(isQt!='0')sep_qt_list=sep_qt_list.concat(QUOTES);return __isValueOf(sep_qt_list).test(word)?true:false;};var __checkMultiPattern=function(regexp){if(!TC.isRegExp(regexp))return false;return/(\|\^)|(\$\|)/g.test(___.toString(regexp))?true:false;};var __checkSepOrQt=function(sep_qt,regexp){if(!__matchSepOrQt(sep_qt,1,1)||(!TC.isRegExp(regexp)))return false;var rsk=['[\\\\][W]','[\\\\][D]','[\\\\][S]','[.]','\\[\\^\\]'];var str=___.toString(regexp);for(var i=0;i<rsk.length;i++){str=str.replace(RegExp(rsk[i],'g'),'\\'+sep_qt);}
str=str.replace(RegExp('((\\[\\^)[^'+'\\'+sep_qt+']*[\\'+sep_qt+'][^\\'+sep_qt+']*(\\]))+','g'),'\\w');return __toRegExp(str).test(sep_qt)?true:false;};var __isAll=function(){return RegExp('');};var __isEmpty=function(){return RegExp('^$');};var __isAllExcept=function(line_t,spaces,sep_qt,required){var sep_qts='';if(TC.isArray(sep_qt)){for(var i=0;i<sep_qt.length;i++){if(__isValueOf(SEPARATORS.concat(QUOTES)).test(sep_qt[i]))sep_qts+='\\'+sep_qt[i];}}
var sp_lt_sqs='[^'+sep_qts;if(spaces!='0'){sp_lt_sqs+='\\s]';if(line_t=='0')sp_lt_sqs+='|[\\n\\r\\u2028\\u2029]';}else{if(line_t!='0')sp_lt_sqs+='\\n\\r\\u2028\\u2029]';else sp_lt_sqs+=']';}
var req=(required=='0')?'*':'+';return RegExp('^'+'('+sp_lt_sqs+')'+req+'$');};var __isValueOf=function(list,required){if(!TC.isArray(list)||list.length==0)return __isEmpty();var values=[];for(var i=0;i<list.length;i++)if(list[i])values.push(list[i]);values=values.join('|');if(!values)return __isEmpty();var req=(required=='0'?'?':'');return RegExp('^'+'('+values+')'+req+'$');};var __isAlpha=function(min,max,transform,required){if(!TC.isNumber(min)||(!TC.isNumber(max))||(min<1)||(max<1)||(min>max))return __isEmpty();if(!TC.isString(transform)||(!__isValueOf(TEXT_TRANSFORMS).test(transform)))return __isEmpty();var _wf=(transform=='lowercase')?'[a-z]':'[A-Z]';var _wi=(transform=='uppercase')?'[A-Z]':'[a-z]';var req=(required=='0')?'?':'';return RegExp('^'+_wf+_wi+'{'+(min-1)+','+(max-1)+'}'+req+'$');};var __isInteger=function(sign,zero,required){var s=(sign=='0')?'-':'\\+?';var d_z=(zero=='0')?'[1-9]':'\\d';var req=(required=='0')?'?':'';var ns_z=(sign=='0'&&zero!='0')?'0+|':'';return RegExp('^'+'('+ns_z+s+'\\d*'+d_z+'\\d*'+')'+req+'$');};var __isDecimal=function(sign,zero,required,min,max){var s=(sign=='0')?'-':'\\+?';var d_z=(zero=='0')?'[1-9]':'\\d';var req=(required=='0')?'?':'';var ns_z=(sign=='0'&&zero!='0')?'(0+(\\.0+)?)|':'';var ps_z=(sign!='0'&&zero!='0')?'0+|':'';var req_d=(zero!='0')?'?':'';if(!TC.isNumber(min)||(!TC.isNumber(max))||(min<1)||(max<1)||(min>max)){min='1';max='';req_d='?';}
return RegExp('^'+'('+ns_z+s+'('+ps_z+'\\d*'+d_z+'\\d*'+')'+'(\\.\\d{'+min+','+max+'})'+req_d+')'+req+'$');};var __isObj=function(empty){var content;if(empty=='2')content=__toStringAndClean(__isAllExcept(0,0,[],0));else if(empty=='1')content='('+'\\s*'+__toStringAndClean(__isAllExcept(1,1,[],1))+'\\s*'+')+';else content='\\s*';return RegExp('^'+'{'+content+'}'+'$');};var __isArr=function(empty){var content;if(empty=='2')content=__toStringAndClean(__isAllExcept(0,0,[],0));else if(empty=='1')content='('+'\\s*'+__toStringAndClean(__isAllExcept(1,1,[],1))+'\\s*'+')+';else content='\\s*';return RegExp('^'+'\\['+content+'\\]'+'$');};var __isSeparatedBy=function(regexp,sep,required){if(__checkMultiPattern(regexp)||(!__matchSepOrQt(sep,1,0))||__checkSepOrQt(sep,regexp)||__matchEmpty(regexp))return __isEmpty();var str=__toStringAndClean(regexp);var req=(required=='0')?'?':'';return RegExp('^'+'('+'('+str+'\\'+sep+')*'+'('+str+')'+')'+req+'$');};var __isEntry=function(key,sep,value,required,val_opt){if(__checkMultiPattern(key)||__checkMultiPattern(value)||(!__matchSepOrQt(sep,1,0))||__checkSepOrQt(sep,key)||__checkSepOrQt(sep,value)||__matchEmpty(key)||((val_opt!='0')&&__matchEmpty(value)))return __isEmpty();var k=__toStringAndClean(key);var v=__toStringAndClean(value);var req=(required=='0')?'?':'';return RegExp('^'+'('+'('+k+')'+'\\'+sep+'('+v+')'+')'+req+'$');};var __isEncrypted=function(method,required){var m=(method=='sha256')?'64':((method=='md5')?'32':'16');var req=(required=='0')?'?':'';return RegExp('^'+'([a-f0-9]{'+m+'})'+req+'$','i');};var __isIPv4Address=function(required){var req=(required=='0')?'?':'';return RegExp('^'+'(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})'+req+'$');};var __isGlobalStoreId=function(required){var req=(required=='0')?'?':'';return RegExp('^'+'([a-z0-9]+\\-[a-z0-9]+)'+req+'$','i');};var __isDateFormat=function(required){var req=(required=='0')?'?':'';return RegExp('^'+'([0-9]{4}-[0-9]{2}-[0-9]{2})'+req+'$');};var __isNumeric=function(options){options=TC.isPureObject(options)?options:{};options.sign=options.sign=='negative'?0:1;options.zero=options.zero=='yes'?1:0;options.required=options.required=='yes'?1:0;if(TC.isPureObject(options.decimals)){options.decimals.min=TC.isNumber(options.decimals.min)&&options.decimals.min>0?options.decimals.min:1;options.decimals.max=TC.isNumber(options.decimals.max)&&options.decimals.max>0?options.decimals.max:2;}
else options.decimals='';if(!options.decimals)return __isInteger(options.sign,options.zero,options.required);else return __isDecimal(options.sign,options.zero,options.required,options.decimals.min,options.decimals.max);};var __isAlphaNumeric=function(options){options=TC.isPureObject(options)?options:{};options.nospaces=options.nospaces=='yes'?1:0;options.exceptions=TC.isArray(options.exceptions)?options.exceptions:[];options.required=options.required=='yes'?1:0;if(TC.isPureObject(options.multiples)){options.multiples.type=(options.multiples.type=='item'||options.multiples.type=='entry')?options.multiples.type:'item';options.multiples.sep=TC.isString(options.multiples.sep)&&options.multiples.sep.length==1?options.multiples.sep:(options.multiples.type=='item'?' ':',');options.multiples.item=TC.isPureObject(options.multiples.item)?options.multiples.item:{};options.multiples.entry=TC.isPureObject(options.multiples.entry)?options.multiples.entry:{};options.multiples.entry.sep=TC.isString(options.multiples.entry.sep)&&options.multiples.entry.sep.length==1?options.multiples.entry.sep:'=';options.multiples.entry.value_required=options.multiples.entry.value_required=='yes'?1:0;}
else options.multiples='';if(!options.multiples)return __isAllExcept(1,options.nospaces,options.exceptions,options.required);if(options.multiples.type=='item'){return __isSeparatedBy(__isAllExcept(1,options.nospaces,options.exceptions.concat([options.multiples.sep]),1),options.multiples.sep,options.required);}
else{return __isSeparatedBy(__isEntry(__isAllExcept(1,options.nospaces,options.exceptions.concat([options.multiples.entry.sep,options.multiples.sep]),1),options.multiples.entry.sep,__isAllExcept(1,options.nospaces,options.exceptions.concat([options.multiples.entry.sep,options.multiples.sep]),1),1,options.multiples.entry.value_required),options.multiples.sep,options.required);}};this.export={toStringAndClean:function(regexp){return ___.tryCatch(__toStringAndClean,[regexp],'',__cname);},toRegExp:function(str){return ___.tryCatch(__toRegExp,[str],null,__cname);},matchEmpty:function(regexp){return ___.tryCatch(__matchEmpty,[regexp],false,__cname);},matchSepOrQt:function(word,isSep,isQt){return ___.tryCatch(__matchSepOrQt,[word,isSep,isQt],false,__cname);},checkMultiPattern:function(regexp){return ___.tryCatch(__checkMultiPattern,[regexp],false,__cname);},checkSepOrQt:function(sep_qt,regexp){return ___.tryCatch(__checkSepOrQt,[sep_qt,regexp],false,__cname);},isAll:function(){return ___.tryCatch(__isAll,[],null,__cname);},isEmpty:function(){return ___.tryCatch(__isEmpty,[],null,__cname);},isAllExcept:function(line_t,spaces,sep_qt,required){return ___.tryCatch(__isAllExcept,[line_t,spaces,sep_qt,required],null,__cname);},isValueOf:function(list,required){return ___.tryCatch(__isValueOf,[list,required],null,__cname);},isAlpha:function(min,max,transform,required){return ___.tryCatch(__isAlpha,[min,max,transform,required],null,__cname);},isInteger:function(sign,zero,required){return ___.tryCatch(__isInteger,[sign,zero,required],null,__cname);},isDecimal:function(sign,zero,required,min,max){return ___.tryCatch(__isDecimal,[sign,zero,required,min,max],null,__cname);},isObj:function(empty){return ___.tryCatch(__isObj,[empty],null,__cname);},isArr:function(empty){return ___.tryCatch(__isArr,[empty],null,__cname);},isSeparatedBy:function(regexp,sep,required){return ___.tryCatch(__isSeparatedBy,[regexp,sep,required],null,__cname);},isEntry:function(key,sep,value,required,val_opt){return ___.tryCatch(__isEntry,[key,sep,value,required,val_opt],null,__cname);},isEncrypted:function(method,required){return ___.tryCatch(__isEncrypted,[method,required],null,__cname);},isIPv4Address:function(required){return ___.tryCatch(__isIPv4Address,[required],null,__cname);},isGlobalStoreId:function(required){return ___.tryCatch(__isGlobalStoreId,[required],null,__cname);},isDateFormat:function(required){return ___.tryCatch(__isDateFormat,[required],null,__cname);},isNumeric:function(options){return ___.tryCatch(__isNumeric,[options],null,__cname);},isAlphaNumeric:function(options){return ___.tryCatch(__isAlphaNumeric,[options],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},RegExpBuilderCTRL.prototype));};var Common=function CommonCTRL(){var __cname='__Utils__.Common';try{var __tryCatch=function(fn,params,ret,cname){try{return fn.apply(this,params);}catch(e){MLOG.showMessage({type:'error',cname:(cname||''),fname:(fn.name||''),msg:e.stack});return ret==='[ERROR]'?e:ret;}};var __toString=function(elem){if(TC.isUndefined(elem))return'';if(TC.isDomNode(elem)||TC.isDomElement(elem))return'[Dom Node or Element]';if(TC.isPrimitiveObject(elem)||TC.isImmutableObject(elem)||TC.isError(elem))return elem.toString();if(TC.isString(elem))return elem;try{return JSON.stringify(elem);}catch(e){return e.message;}};var __isValueOf=function(list,elem){for(var i=0;i<list.length;i++)if(list[i]===elem)return true;return false;};var __merge=function(destination,source,levels,depth,globalCircularRefsList,localCircularRefsList){if(!localCircularRefsList[depth])localCircularRefsList[depth]=[];levels=(TC.isNumber(levels)&&levels>=-1)?levels:-1;if(levels==-1||levels>0){if(TC.isUndefined(source)){}
else if(typeof source=='object'&&source!==null){var __isGlobalRef=__isValueOf(globalCircularRefsList,source);if(__isGlobalRef&&(!__isValueOf(localCircularRefsList[depth],source)))destination='[ CIRCULAR REF ]';else{if(!__isGlobalRef)globalCircularRefsList.push(source);localCircularRefsList[depth].push(source);if(TC.isPrimitiveObject(source))destination=TC.copyPrimitiveObject(source);else if(TC.isImmutableObject(source))destination=TC.copyImmutableObject(source);else if(TC.isError(source))destination=TC.copyErrorObject(source);else if(TC.isArray(source)){destination=TC.isArray(destination)?destination:[];var isEmptyArrayDestination=destination.length<1;for(var index=0;index<source.length;index++){if(typeof source[index]!='object'){if(TC.isNativeType(source[index])&&isEmptyArrayDestination)destination.push(source[index]);else if(!__isValueOf(destination,source[index]))destination.push(source[index]);}
else destination.push(__merge([],source[index],(levels-1),(depth+1),globalCircularRefsList,localCircularRefsList));}}
else if(TC.isPureObject(source)){try{if(!TC.isPureObject(destination))destination={};for(var key in source){if(TC.isFunction(source.hasOwnProperty)&&source.hasOwnProperty(key))destination[key]=__merge(destination[key],source[key],(levels-1),(depth+1),globalCircularRefsList,localCircularRefsList);}}catch(e){destination=/Unexpected identifier/gi.test(e.message)?'[ CIRCULAR REF ]':e.message;}}
else destination='[ '+(source.constructor.name||'CLASS')+' ]';}}
else if(TC.isFunction(source))destination=TC.copyPrimitiveFunction(source);else destination=source;}
else destination='[ LEVEL TRUNC ]';return destination;};var __length=function(elem){return(!TC.isNull(elem)&&typeof elem==='object'?Object.keys(elem):(elem||'')).length||0;};this.export={tryCatch:function(fn,params,ret,cname){return __tryCatch(fn,params,ret,cname);},toString:function(elem){return __tryCatch(__toString,[elem],null,__cname);},merge:function(destination,source,levels){return __tryCatch(__merge,[destination,source,levels,0,[],[]],source,__cname);},length:function(elem){return __tryCatch(__length,[elem],0,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},CommonCTRL.prototype));};var Cookie=function CookieCTRL(){var __cname='__Utils__.Cookie';try{var __get=function(name,defau){var parts=('; '+document.cookie).split('; '+name+'=');var res=((parts.length==2)?(parts.pop().split(';').shift()):'');if(res){if(/[\%]/g.test(res))res=decodeURIComponent(res);}
else{if(window.sessionStorage)res=window.sessionStorage.getItem(name);}
return res||defau;};var __set=function(name,value,exdays){var __encode=(/[\=\;\%]/gi.test(''+value))?encodeURIComponent(''+value):value;var __value=(__encode||'')+'; ';var __exdays=exdays||'';if(__exdays!==''){var d=new Date();d.setTime(d.getTime()+(__exdays*24*60*60*1000));__exdays='expires='+d.toUTCString()+'; ';}
var hostname=window.location.hostname.replace(/^[^.]*/g,'');var code=name+'='+__value+__exdays+'path=/; domain='+hostname+'; secure=true;';document.cookie=code;if(window.sessionStorage){if(exdays==-1)window.sessionStorage.removeItem(name);else if(!exdays){if(window.localStorage)window.localStorage.removeItem(name);window.sessionStorage.setItem(name,value);}}};var __remove=function(name){__set(name,'',-1);};var __removeItems=function(list){list=TC.isArray(list)?list:__getKeys(list);for(var i=0;i<list.length;i++)__remove(list[i]);};var __getKeys=function(filter){var regexp=TC.isString(filter)?RegExp(filter):'';var keys=[];document.cookie.split(/; */).forEach(function(cookie){var key=cookie.split('=')[0];if(!regexp||regexp.test(key))keys.push(key);});return keys;};this.export={get:function(name,defau){return ___.tryCatch(__get,[name,defau],'',__cname);},set:function(name,value,exdays){return ___.tryCatch(__set,[name,value,exdays],null,__cname);},remove:function(name){return ___.tryCatch(__remove,[name],null,__cname);},removeItems:function(list){return ___.tryCatch(__removeItems,[list],null,__cname);},getKeys:function(filter){return ___.tryCatch(__getKeys,[filter],[],__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},CookieCTRL.prototype));};var Storage=function StorageCTRL(){var __cname='__Utils__.Storage';try{var __getItem=function(name,defau){if(window.localStorage||window.sessionStorage)return window.localStorage.getItem(name)||window.sessionStorage.getItem(name)||defau;else return COOKIE.get(name,defau);};var __setItem=function(name,value,exp){exp=/^(session|forever)$/gi.test(''+exp)?exp:'session';if(window.localStorage||window.sessionStorage){if(exp=='session'){window.localStorage.removeItem(name);window.sessionStorage.setItem(name,value);}
else{window.sessionStorage.removeItem(name);window.localStorage.setItem(name,value);}}
else COOKIE.set(name,value,(exp==='session'?'':365));};var __removeItem=function(name){if((window.localStorage||window.sessionStorage)&&TC.isString(name)){window.localStorage.removeItem(name);window.sessionStorage.removeItem(name);}
else COOKIE.remove(name);};var __removeItems=function(list){list=TC.isArray(list)?list:__getKeys(list);for(var i=0;i<list.length;i++)__removeItem(list[i]);};var __getKeys=function(filter){var regexp=TC.isString(filter)?RegExp(filter):'';var keys=[];var types=['session','local'];for(var index in types){var storage=window[types[index]+'Storage'];if(storage&&storage.length){for(var key in storage){if(storage.hasOwnProperty(key)){if(!regexp||regexp.test(key))keys.push(key);}}}}
document.cookie.split(/; */).forEach(function(cookie){var key=cookie.split('=')[0];if(!regexp||regexp.test(key))keys.push(key);});return keys;};this.export={getItem:function(name,defau){return ___.tryCatch(__getItem,[name,defau],'',__cname);},setItem:function(name,value,exp){return ___.tryCatch(__setItem,[name,value,exp],null,__cname);},removeItem:function(name){return ___.tryCatch(__removeItem,[name],null,__cname);},removeItems:function(list){return ___.tryCatch(__removeItems,[list],null,__cname);},getKeys:function(filter){return ___.tryCatch(__getKeys,[filter],[],__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},StorageCTRL.prototype));};var DOMHelper=function DOMHelperCTRL(){var __cname='__Utils__.DOMHelper';try{var __remove=function(elem){return(Element.prototype.remove||function(){if(this.parentNode)this.parentNode.removeChild(this);}).call(elem);};var __polyfill_matches=function(){var proto=Element.prototype;return proto.matches||proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector;};var __matches=function(nodelist,selector,elem){nodelist=nodelist instanceof NodeList?nodelist:document.querySelectorAll(selector||null);var length=nodelist.length;for(var i=0;i<length;i++)if(nodelist.item(i)===elem)return true;return false;};var __getClosest=function(elem,selector,context){selector=TC.isString(selector)?selector:'';if(selector){var matches=__polyfill_matches();if(matches){for(;elem&&elem!==document&&(!context||elem!==context);elem=elem.parentNode){if(matches.call(elem,selector))return elem;}}else{var nodelist=document.querySelectorAll(selector);if(nodelist.length>0){for(;elem&&elem!==document&&(!context||elem!==context);elem=elem.parentNode){if(__matches(nodelist,selector,elem))return elem;}}}}
return null;};var __getParents=function(elem,selector,context){selector=TC.isString(selector)?selector:'';var parents=[];var matches=__polyfill_matches();if(matches){for(;elem&&elem!==document&&(!context||elem!==context);elem=elem.parentNode)if(!selector||matches.call(elem,selector))parents.push(elem);}
else{var nodelist=document.querySelectorAll(selector||null);for(;elem&&elem!==document&&(!context||elem!==context);elem=elem.parentNode)if(!selector||__matches(nodelist,selector,elem))parents.push(elem);}
return parents;};var __isValidURL=function(url){if(!TC.isString(url))return false;var element=document.createElement('input');element.setAttribute('type','url');element.value=url;return element.validity.valid;};var __stripHtml=function(html){var div=document.createElement('div');div.innerHTML=html;return div.textContent||div.innerText||'';};var __selectText=function(container){if(container.tagName=='INPUT'||container.nodeName=='INPUT'||container.tagName=='TEXTAREA'||container.nodeName=='TEXTAREA'){container.select();}
else{var sel,range;if(window.getSelection&&document.createRange){sel=window.getSelection();range=document.createRange();range.selectNodeContents(container);sel.removeAllRanges();sel.addRange(range);}
else if(document.selection){range=document.body.createTextRange();range.moveToElementText(container);range.select();}
else return false;}
return true;};this.export={remove:function(elem){return ___.tryCatch(__remove,[elem],false,__cname);},getClosest:function(elem,selector,context){return ___.tryCatch(__getClosest,[elem,selector,context],null,__cname);},getParents:function(elem,selector,context){return ___.tryCatch(__getParents,[elem,selector,context],[],__cname);},isValidURL:function(url){return ___.tryCatch(__isValidURL,[url],false,__cname);},stripHtml:function(html){return ___.tryCatch(__stripHtml,[html],'',__cname);},selectText:function(container){return ___.tryCatch(__selectText,[container],false,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},DOMHelperCTRL.prototype));};var EventsListener=function EventsListenerCTRL(){var __cname='__Utils__.EventsListener';try{var __list=new ArrayList('object',false,false);var __s_item=new CustomDataObject({eventName:'string',eventHandler:'function'});var __set=function(node,tagSelector,eventName,eventHandler,optionsOrUseCapture){if(!TC.isCustomObject(node)||(!__s_item.isValid({eventName:eventName,eventHandler:eventHandler})))return;var __eventHandlerByTagSelector=function(ev){var target=null;if(!tagSelector)target=this;else if(TC.isString(tagSelector)&&ev&&ev.target)target=DOM.getClosest(ev.target,tagSelector,this);if(target)eventHandler.apply(target,Array.prototype.slice.call(arguments,0));};if(node.addEventListener)node.addEventListener(eventName,__eventHandlerByTagSelector,optionsOrUseCapture);else if(node.attachEvent){node['e'+eventName+eventHandler]=__eventHandlerByTagSelector;node[eventName+eventHandler]=function(){node['e'+eventName+eventHandler](window.event);};node.attachEvent('on'+eventName,node[eventName+eventHandler]);}
else node['on'+eventName]=__eventHandlerByTagSelector;__list.add({node:node,eventName:eventName,eventHandler:__eventHandlerByTagSelector,optionsOrUseCapture:optionsOrUseCapture});};var __remove=function(node,eventName,eventHandler,optionsOrUseCapture){if(node.removeEventListener)node.removeEventListener(eventName,eventHandler,optionsOrUseCapture);if(node.detachEvent)node.detachEvent('on'+eventName,eventHandler);node['on'+eventName]=null;};var __reset=function(){if(__list.isEmpty())return;var items=__list.getData();for(var i=items.length-1;i>=0;i=i-1)__remove(items[i].node,items[i].eventName,items[i].eventHandler,items[i].optionsOrUseCapture);__list.reset();};this.export={set:function(node,tagSelector,eventName,eventHandler,optionsOrUseCapture){return ___.tryCatch(__set,[node,tagSelector,eventName,eventHandler,optionsOrUseCapture],null,__cname);},reset:function(){return ___.tryCatch(__reset,[],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},EventsListenerCTRL.prototype));};var UtagHelper=function UtagHelperCTRL(){var __cname='__Utils__.UtagHelper';try{var __utagConfiguration={basePathUrls:['https://tags.tiqcdn.com/utag/',],resource:'utag.js',pathUrl:'',account:'',profile:'',environment:'',};var __initUtagConfiguration=function(){var scriptUtagJS=document.querySelector('script[src*="/'+__utagConfiguration.resource+'"]');if(scriptUtagJS){__utagConfiguration.pathUrl=scriptUtagJS.src;var utagInfo=scriptUtagJS.src;__utagConfiguration.basePathUrls.forEach(function(basePathUrl){utagInfo=utagInfo.replace(basePathUrl,'');});utagInfo=utagInfo.split('/');if(utagInfo){__utagConfiguration.account=utagInfo[0];__utagConfiguration.profile=utagInfo[1];__utagConfiguration.environment=utagInfo[2];}}};var __getUtagPathUrl=function(){return __utagConfiguration.pathUrl||'';};var __getUtagAccount=function(){return __utagConfiguration.account||'';};var __getUtagProfile=function(){return __utagConfiguration.profile||'';};var __getUtagEnvironment=function(){return __utagConfiguration.environment||'';};var __getUtagSettings=function(key,scope){var settings=scope==='global'?window.utag_cfg_ovrd:window.utag_cfg_ovrd.custom_settings;return settings.hasOwnProperty(key)?settings[key]:null;};var __getCustomUtagVersion=function(version){return version.slice(0,-4)+'.'+version.slice(-4);};var __isUtagTodayVersion=function(version){return(TC.isString(version)&&version&&version.indexOf(new Date().toISOString().split('T')[0].replace(/-/g,''))>-1)?true:false;};var __getUtagVersionDateTime=function(version){if(!TC.isString(version)||!version)return'';var versionArray=TC.isString(version)&&version?version.split('.'):[];var date=versionArray[(versionArray.length-2)]||'';var time=versionArray[(versionArray.length-1)]||'';return date.substring(6,8)+"/"+date.substring(4,6)+"/"+date.substring(0,4)+" "+time.substring(0,2)+":"+time.substring(2,6)+" CET";};var __getProductsArrayMap=function(obj,name){var result=[];if(!TC.isPureObject(obj))return result;var ids=Object.keys(obj);if(ids.length<1)return result;name=name||'Products';result.push((name||'')+'_Id:'+ids);var props=Object.keys(obj[ids[0]]||{});if(props.length<1)return result;props.forEach(function(prop){var values=ids.map(function(id){return ___.toString(obj[id][prop]).replace(/:/g,'<COLON>').replace(/\'|\"/g,'<QUOTE>');});result.push((name||'')+'_'+prop+':'+values);});return result;};var __getArrayMap=function(obj){var result=[];if(TC.isPureObject(obj)){for(var key in obj){if(typeof obj[key]!='object'||TC.isArray(obj[key]))result.push(key+':'+___.toString(obj[key]).replace(/:/g,'<COLON>').replace(/\'|\"/g,'<QUOTE>'));else result=result.concat(__getProductsArrayMap(obj[key],key));}}
return result;};var __getArrayMapToString=function(obj){return JSON.stringify(__getArrayMap(obj)).replace(/\"/g,"'");};var __buildProp=function(datalayer,options){options=options&&typeof options==='object'?options:{};var format=options.format&&typeof options.format==='object'?options.format:{};format.type=/^number|string$/.test(format.type)?format.type:'string';var value,customValue,defaultValue;if(format.type==='number'){format.sign=/^negative|positive$/.test(format.sign)?format.sign:'positive';var decimals=parseInt(format.decimals);format.decimals=!isNaN(decimals)&&decimals>0?decimals:0;{value=parseFloat(datalayer[options.name]);if(typeof options.customValue==='function'){datalayer[options.name]=value;customValue=options.customValue(datalayer);value=!isNaN(customValue)?customValue:value;}
if(options.hasOwnProperty('defaultValue')){defaultValue=parseFloat(options.defaultValue);if(!isNaN(defaultValue))value=value||defaultValue;}
if(isNaN(value))value=0;if(value){var factor=Math.pow(10,format.decimals);value=Math.round(value*factor)/factor;value=Math.abs(value)*(format.sign==='negative'?-1:1);}
datalayer[options.name]=value;}}
else{format.transform=/^lowercase|uppercase|capitalcase|camelcase$/i.test(format.transform)?format.transform.toLowerCase():'';{value=typeof datalayer[options.name]==='string'?datalayer[options.name]:'';if(typeof options.customValue==='function'){datalayer[options.name]=value;customValue=options.customValue(datalayer);value=typeof customValue==='string'?customValue:value;}
if(options.hasOwnProperty('defaultValue')){defaultValue=typeof options.defaultValue==='string'?options.defaultValue:'';if(defaultValue)value=value||defaultValue;}
if(value&&format.transform)value=format.transform==='lowercase'?value.toLowerCase():format.transform==='uppercase'?value.toUpperCase():format.transform==='capitalcase'?value.replace(/^\w/,function(w){return w.toUpperCase();}):format.transform==='camelcase'?value.replace(/^\w|\W\w/g,function(w){return w.toUpperCase();}):value;datalayer[options.name]=value;}}};var __buildProductsId=function(datalayer,options){if(datalayer.Products){var propNameArray='Products_'+options.name+'_Array';datalayer[propNameArray]=[];for(var index in datalayer.Products){if(datalayer.Products.hasOwnProperty(index)){datalayer.Products[index]=TC.isPureObject(datalayer.Products[index])?(datalayer.Products[index]||{}):{};datalayer.Products[index][options.name]=index;__buildProp(datalayer.Products[index],options);datalayer[propNameArray].push(datalayer.Products[index][options.name]);}}
if(/^((,)+)?$/.test(datalayer[propNameArray].join(',')))delete datalayer[propNameArray];}};var __buildProductsProp=function(datalayer,options){if(datalayer.Products){var propNameArray='Products_'+options.name+'_Array';datalayer[propNameArray]=[];for(var index in datalayer.Products){if(datalayer.Products.hasOwnProperty(index)){__buildProp(datalayer.Products[index],options);datalayer[propNameArray].push(datalayer.Products[index][options.name]);}}
if(/^((,)+)?$/.test(datalayer[propNameArray].join(',')))delete datalayer[propNameArray];}};var __updateAnalyticsLog=function(datalayer,datalayerMethod,datalayerKey,datalayerInfo){if(__getAnalyticsLogUser()&&window.AnalyticsLogInterface&&datalayer&&datalayerKey){var datalayerOptions={merge:datalayerMethod==='merge'};if(datalayerInfo&&typeof datalayerInfo==='object'&&datalayerInfo.datalayer&&typeof datalayerInfo.datalayer==='object'){datalayerInfo.datalayer=___.merge({},datalayerInfo.datalayer,20);}
if(/^(utagjs|utag_data|preloader|domready)$/.test(datalayerKey))AnalyticsLogInterface.onPageLoad(datalayerKey,datalayerInfo,datalayerOptions);else datalayer.AnalyticsLogEventId=AnalyticsLogInterface.onEvent(datalayer.AnalyticsLogEventId,datalayerKey,datalayerInfo,datalayerOptions)||datalayer.AnalyticsLogEventId;}};var __throwSystemError=function(datalayerKey,datalayer,errorInfo){errorInfo=errorInfo||{details:''};MLOG.showMessage({type:'error',cname:errorInfo.component,fname:errorInfo.context,msg:(errorInfo.details.stack?('has not been completed successfully! => caused by: '+errorInfo.details.stack):'')});__updateAnalyticsLog(datalayer,'set',datalayerKey,{status:'error',notifications:[{type:'error',text:(errorInfo.details.stack||'')}],datalayer:datalayer,});SYSERR.throw(datalayer,errorInfo);};__initUtagConfiguration();this.export={getUtagPathUrl:function(){return ___.tryCatch(__getUtagPathUrl,[],'',__cname);},getUtagAccount:function(){return ___.tryCatch(__getUtagAccount,[],'',__cname);},getUtagProfile:function(){return ___.tryCatch(__getUtagProfile,[],'',__cname);},getUtagEnvironment:function(){return ___.tryCatch(__getUtagEnvironment,[],'',__cname);},getUtagSettings:function(key,scope){return ___.tryCatch(__getUtagSettings,[key,scope],null,__cname);},getCustomUtagVersion:function(version){return ___.tryCatch(__getCustomUtagVersion,[version],'',__cname);},isUtagTodayVersion:function(version){return ___.tryCatch(__isUtagTodayVersion,[version],false,__cname);},getUtagVersionDateTime:function(version){return ___.tryCatch(__getUtagVersionDateTime,[version],'',__cname);},getArrayMap:function(obj){return ___.tryCatch(__getArrayMap,[obj],[],__cname);},getArrayMapToString:function(obj){return ___.tryCatch(__getArrayMapToString,[obj],[],__cname);},buildProp:function(datalayer,options){return ___.tryCatch(__buildProp,[datalayer,options],null,__cname);},buildProductsId:function(datalayer,options){return ___.tryCatch(__buildProductsId,[datalayer,options],null,__cname);},buildProductsProp:function(datalayer,options){return ___.tryCatch(__buildProductsProp,[datalayer,options],null,__cname);},updateAnalyticsLog:function(datalayer,datalayerMethod,datalayerKey,datalayerInfo){return ___.tryCatch(__updateAnalyticsLog,[datalayer,datalayerMethod,datalayerKey,datalayerInfo],null,__cname);},throwSystemError:function(datalayerKey,datalayer,errorInfo){return ___.tryCatch(__throwSystemError,[datalayerKey,datalayer,errorInfo],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},UtagHelperCTRL.prototype));};var CustomDataObject=function CustomDataObject(DATA){var __cname='__Utils__.CustomDataObject';try{var __data={};var __FORMATS={'string':TC.isString,'number':TC.isNumber,'array':TC.isArray,'object':TC.isPureObject,'boolean':TC.isBoolean,'regexp':TC.isRegExp,'function':TC.isFunction,'error':TC.isError,'date':TC.isDate,'any':function(){return true;},};var __getData=function(){return ___.merge({},__data);};var __setData=function(d){if(__isValidData(d))__data=d;};var __isValidData=function(data){if(!TC.isPureObject(data)){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidData',msg:'Invalid Input > data is not an object',prop:'data',value:data});return false;}
for(var prop in data){if(data.hasOwnProperty(prop))
if(!__isValidEntry(prop,data[prop]))return false;}
return true;};var __isValidEntry=function(prop,format){var __fname='__isValidEntry';if(!__isValidProp(prop)){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > prop is not a string',prop:'prop',value:prop});return false;}
if(!__isValidFormatKey(format)){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > format key is not valid',prop:'format key',value:format});return false;}
return true;};var __getFormat=function(key){return __isValidFormatKey(key)?__FORMATS[key]:null;};var __isValidFormatKey=function(value){return TC.isString(value)&&__FORMATS.hasOwnProperty(value)?true:false;};var __isValidProp=function(value){return TC.isString(value)?true:false;};var __isValidKey=function(prop){var __fname='__isValidKey';if(!__isValidProp(prop)){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > prop is not a string',prop:'prop',value:prop});return false;}
if(!__data.hasOwnProperty(prop)){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > prop is not exist',prop:'data > prop',value:prop});return false;}
return true;};var __getValue=function(prop){if(__isValidKey(prop))return __data[prop];};var __setEntry=function(prop,format){if(__isValidEntry(prop,format))__data[prop]=format;};var __isValidInfo=function(prop,value){var __fname='__isValidInfo';if(!__isValidKey(prop))return false;if(!__getFormat(__data[prop])(value)){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > format is not valid',prop:('data[prop] = '+prop+' != format'),value:value});return false;}
return true;};var __isValid=function(obj){var __fname='__isValid';if(!TC.isPureObject(obj)){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > it is not an object',prop:'info',value:obj});return false;}
for(var prop in obj){if(obj.hasOwnProperty(prop))
if(!__isValidInfo(prop,obj[prop]))return false;}
return true;};var __getKeys=function(){return Object.keys(__data);};__setData(DATA||{});this.export={getData:function(){return ___.tryCatch(__getData,[],null,__cname);},setData:function(d){return ___.tryCatch(__setData,[d],null,__cname);},getValue:function(prop){return ___.tryCatch(__getValue,[prop],null,__cname);},setEntry:function(prop,format){return ___.tryCatch(__setEntry,[prop,format],null,__cname);},isValidKey:function(prop){return ___.tryCatch(__isValidKey,[prop],false,__cname);},isValid:function(obj){return ___.tryCatch(__isValid,[obj],false,__cname);},isValidInfo:function(prop,value){return ___.tryCatch(__isValidInfo,[prop,value],false,__cname);},getKeys:function(){return ___.tryCatch(__getKeys,[],[],__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},CustomDataObject.prototype));};var DatalayerTableObject=function DatalayerTableObject(STRUCT_INFO,DEPTH_SEP,DYNAMIC_PROP){var __cname='__Utils__.DatalayerTableObject';try{var __data={};var __STRUCT_INFO__=new CustomDataObject();var __STRUCT_INFO_VALIDATION__='isValid';var __DEPTH_SEPARATOR='$$';var __DYNAMIC_PROPERTY='__INDEX__';var __getData=function(){return ___.merge({},__data);};var __setData=function(d,isValidCustomInfo,isCopied){if(isCopied===true||__isValidData(d,isValidCustomInfo))__data=d;};var __isValidData=function(d,isValidCustomInfo){if(!TC.isPureObject(d))return false;if(TC.isEmptyObject(d))return true;var __isValid;for(var p in d){__isValid=__isValidPropStruct(p,d)&&(!TC.isFunction(isValidCustomInfo)||isValidCustomInfo(d[p].info))&&__isValidData(d[p].children);}
return __isValid;};var __isValidPropStruct=function(p,d){var __fname='__isValidPropStruct';if(!d.hasOwnProperty(p)||(p.split(__DEPTH_SEPARATOR).join()!=p)){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the property is not own or it is including the depth separator '+__DEPTH_SEPARATOR,prop:'prop',value:p});return false;}
if(!TC.isPureObject(d[p])){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the structure of the value assigned to the property is not an object',prop:'d['+p+']',value:d[p]});return false;}
if(!d[p].hasOwnProperty('info')){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the property info is missing',prop:'d['+p+']',value:d[p]});return false;}
if(!__isValidEntry(p,d[p].info))return false;if(!d[p].hasOwnProperty('children')){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the property children is missing',prop:'d['+p+']',value:d[p]});return false;}
return true;};var __getFullProp=function(pathArray){var list=new ArrayList('string',false,true,__DEPTH_SEPARATOR);list.setData(TC.isArray(pathArray)?pathArray:[]);return list.isEmpty()?null:list.getData(true);};var __getPathArray=function(prop){var list=new ArrayList('string',false,true,__DEPTH_SEPARATOR);list.setData(TC.isString(prop)?prop:'');return list.getData();};var __getPaths=function(data,pathList,allPathList,type,option){if(!TC.isArray(pathList))pathList=[];if(!TC.isArray(allPathList))allPathList=[];if(TC.isEmptyObject(data)){if(type=='full')allPathList.push(option==='array'?pathList:(pathList.join(__DEPTH_SEPARATOR)));}
else for(var prop in data){if(data.hasOwnProperty(prop)){var copy_pathList=___.merge([],pathList);copy_pathList.push(prop);if(type=='all'||type=='partial'){if(type=='partial'&&TC.isEmptyObject(data[prop].children)){}
else allPathList.push(option=='array'?copy_pathList:(copy_pathList.join(__DEPTH_SEPARATOR)));}
allPathList=__getPaths(data[prop].children,copy_pathList,allPathList,type,option);}}
return allPathList;};var __isValidPathArray=function(value){if(!TC.isArray(value)||TC.isEmptyArray(value)){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidPathArray',msg:'Invalid Input > path is not valid',prop:'path',value:value});return false;}
return true;};var __lookUp=function(data,propList){propList=TC.isArray(propList)?propList:[];if(!data.hasOwnProperty(propList[0]))return null;if(propList.length==1)return{parent:data,prop:propList[0],info:data[propList[0]].info,children:data[propList[0]].children};else return __lookUp(data[propList[0]].children,propList.slice(1));};var __isValidProp=function(value){if(__getPathArray(value).length<1){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidProp',msg:'Invalid Input > prop is not valid',prop:'prop',value:value});return false;}
return true;};var __isValidInfo=function(value){if(!__STRUCT_INFO__[__STRUCT_INFO_VALIDATION__](value)){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidInfo',msg:'Invalid Input > info structure is not valid',prop:'struct info',value:value});return false;}
return true;};var __isValidEntry=function(prop,info){return __isValidProp(prop)&&__isValidInfo(info);};var __getNode=function(prop){return __isValidProp(prop)?__lookUp(__data,__getPathArray(prop)):null;};var __setNode=function(data,prop,info){if(!data.hasOwnProperty(prop))data[prop]={info:info,children:{}};else data[prop].info=___.merge(data[prop].info,info);};var __setInfo=function(data,propList,info){if(!__isValidPathArray(propList))return null;if(propList.length==1)__setNode(data,propList[0],info);else if(propList.length>1&&data.hasOwnProperty(propList[0])){__setInfo(data[propList[0]].children,propList.slice(1),info);}
return null;};var __setEntry=function(prop,info){if(__isValidEntry(prop,info))__setInfo(__data,__getPathArray(prop),info);};var __removeEntry=function(prop){var node=__getNode(prop);if(node){delete node.parent[node.prop];return node.info;}
return null;};var __getInfo=function(prop){var node=__getNode(prop);return node?node.info:null;};var __getKeys=function(prop){var data;if(prop){var node=__getNode(prop);data=node?node.children:{};}
else data=__data;return Object.keys(data);};var __getAllProps=function(option){option=option=='array'?'array':'list';return TC.isEmptyObject(__data)?[]:__getPaths(__data,[],[],'all',option);};var __getInternalProps=function(option){option=option=='array'?'array':'list';return TC.isEmptyObject(__data)?[]:__getPaths(__data,[],[],'partial',option);};var __getExternalProps=function(option){option=option=='array'?'array':'list';return TC.isEmptyObject(__data)?[]:__getPaths(__data,[],[],'full',option);};var __getFullDynamicPropList=function(prop,callback,propIn,propOut){propIn=TC.isArray(propIn)&&(!TC.isEmptyArray(propIn))?propIn:(__getPathArray(prop)||[]);propOut=TC.isArray(propOut)?propOut:[];var values=propIn[0]==__DYNAMIC_PROPERTY?(TC.isFunction(callback)?(callback(__getFullProp(propOut))||[]):[]):[propIn[0]];if(propIn.length==1)return values;var copyPropIn=___.merge([],propIn);var copyPropOut=___.merge([],propOut);var fullPropList=[];values.forEach(function(value){copyPropOut.push(value);var result=__getFullDynamicPropList(prop,callback,copyPropIn.slice(1),copyPropOut);result.forEach(function(res){fullPropList.push(__getFullProp([value].concat(res)));});});return fullPropList;};var __resolveDynamicProp=function(dProp,sProp){dProp=TC.isString(dProp)?(__getPathArray(dProp)||[]):[];sProp=TC.isString(sProp)?(__getPathArray(sProp)||[]):[];dProp.forEach(function(prop,index){if(prop==__DYNAMIC_PROPERTY&&sProp.hasOwnProperty(index))dProp[index]=sProp[index];});return __getFullProp(dProp);};var __reset=function(){__data={};};var __isEmpty=function(){return TC.isEmptyObject(__data);};var __isParentOf=function(key,dkey){key=TC.isString(key)?__getPathArray(key):TC.isArray(key)?key:[key];dkey=TC.isString(dkey)?__getPathArray(dkey):TC.isArray(dkey)?dkey:[dkey];if(key.length>1&&dkey.length>0&&(dkey.length<=key.length)){var length=(dkey.length==key.length)?(dkey.length-1):dkey.length;for(var i=0;i<length;i++)if(key[i]!=dkey[i])return false;return true;}
return false;};var __getDepthSeparator=function(){return __DEPTH_SEPARATOR;};var __setDepthSeparator=function(sep){if(TC.isString(sep)&&(!TC.isEmptyString(sep)))__DEPTH_SEPARATOR=sep;};var __getDynamicProperty=function(){return __DYNAMIC_PROPERTY;};var __setDynamicProperty=function(prop){if(TC.isString(prop)&&(!TC.isEmptyString(prop)))__DYNAMIC_PROPERTY=prop;};__STRUCT_INFO__=(STRUCT_INFO instanceof CustomDataObject||STRUCT_INFO instanceof MapObject)?STRUCT_INFO:__STRUCT_INFO__.setData({value:'string'});__STRUCT_INFO_VALIDATION__=__STRUCT_INFO__ instanceof CustomDataObject?'isValid':'isValidData';__setDepthSeparator(DEPTH_SEP);__setDynamicProperty(DYNAMIC_PROP);this.export={getData:function(){return ___.tryCatch(__getData,[],null,__cname);},setData:function(d,isValidCustomInfo,isCopied){return ___.tryCatch(__setData,[d,isValidCustomInfo,isCopied],null,__cname);},isValidData:function(d,isValidCustomInfo){return ___.tryCatch(__isValidData,[d,isValidCustomInfo],false,__cname);},getFullProp:function(pathArray){return ___.tryCatch(__getFullProp,[pathArray],null,__cname);},getPathArray:function(prop){return ___.tryCatch(__getPathArray,[prop],[],__cname);},getInfo:function(prop){return ___.tryCatch(__getInfo,[prop],null,__cname);},getKeys:function(prop){return ___.tryCatch(__getKeys,[prop],[],__cname);},getAllProps:function(option){return ___.tryCatch(__getAllProps,[option],[],__cname);},getInternalProps:function(option){return ___.tryCatch(__getInternalProps,[option],[],__cname);},getExternalProps:function(option){return ___.tryCatch(__getExternalProps,[option],[],__cname);},getFullDynamicPropList:function(prop,callback){return ___.tryCatch(__getFullDynamicPropList,[prop,callback,[],[]],[],__cname);},resolveDynamicProp:function(dProp,sProp){return ___.tryCatch(__resolveDynamicProp,[dProp,sProp],null,__cname);},setEntry:function(prop,info){return ___.tryCatch(__setEntry,[prop,info],null,__cname);},removeEntry:function(prop){return ___.tryCatch(__removeEntry,[prop],null,__cname);},reset:function(){return ___.tryCatch(__reset,[],null,__cname);},isEmpty:function(){return ___.tryCatch(__isEmpty,[],false,__cname);},isParentOf:function(key,dkey){return ___.tryCatch(__isParentOf,[key,dkey],false,__cname);},getDepthSeparator:function(){return ___.tryCatch(__getDepthSeparator,[],null,__cname);},setDepthSeparator:function(sep){return ___.tryCatch(__setDepthSeparator,[sep],null,__cname);},getDynamicProperty:function(){return ___.tryCatch(__getDynamicProperty,[],null,__cname);},setDynamicProperty:function(prop){return ___.tryCatch(__setDynamicProperty,[prop],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},DatalayerTableObject.prototype));};var IndexMapObject=function IndexMapObject(){var __cname='__Utils__.IndexMapObject';try{var __data={};var __reset=function(){__data={};};var __add=function(key){if(TC.isString(key)&&key)__data[key]=true;};var __remove=function(key){if(__data.hasOwnProperty(key))delete __data[key];};var __has=function(key){return __data.hasOwnProperty(key);};this.export={reset:function(){return ___.tryCatch(__reset,[],null,__cname);},add:function(key){return ___.tryCatch(__add,[key],null,__cname);},remove:function(key){return ___.tryCatch(__remove,[key],null,__cname);},has:function(key){return ___.tryCatch(__has,[key],false,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},IndexMapObject.prototype));};var MapObject=function MapObject(FORMAT){var __cname='__Utils__.MapObject';try{var __data={};var __s_value=new CustomDataObject({value:'string'});var __getData=function(){return ___.merge({},__data);};var __setData=function(d){if(__isValidData(d))__data=d;};var __isValidData=function(d){if(!TC.isPureObject(d))return false;for(var key in d){if(d.hasOwnProperty(key)&&(!__isValidEntry(key,d[key])))return false;}
return true;};var __hasKey=function(key){return __data.hasOwnProperty(key);};var __getKeys=function(){return Object.keys(__data);};var __getValues=function(){var values=[];for(var key in __data)if(__data.hasOwnProperty(key))values.push(__data[key]);return values;};var __getValue=function(key){return __isValidKey(key)&&__data.hasOwnProperty(key)?___.merge(null,__data[key]):null;};var __setEntry=function(key,value){if(__isValidEntry(key,value))__data[key]=___.merge(__data[key],value);};var __isValidEntry=function(key,value){if(!__isValidKey(key))return false;if(!__s_value.isValidInfo('value',value)){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidEntry',msg:'Invalid Input > value is not valid',prop:'value',value:value});return false;}
return true;};var __isValidKey=function(key){if(!TC.isString(key)){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidKey',msg:'Invalid Input > key is not a string',prop:'key',value:key});return false;}
return true;};var __reset=function(){__data={};};var __isEmpty=function(){return TC.isEmptyObject(__data);};__s_value.setData({value:FORMAT});this.export={getData:function(){return ___.tryCatch(__getData,[],null,__cname);},setData:function(d){return ___.tryCatch(__setData,[d],null,__cname);},isValidData:function(d){return ___.tryCatch(__isValidData,[d],false,__cname);},hasKey:function(key){return ___.tryCatch(__hasKey,[key],false,__cname);},getKeys:function(){return ___.tryCatch(__getKeys,[],[],__cname);},getValues:function(){return ___.tryCatch(__getValues,[],[],__cname);},getValue:function(key){return ___.tryCatch(__getValue,[key],null,__cname);},setEntry:function(key,value){return ___.tryCatch(__setEntry,[key,value],null,__cname);},isValidEntry:function(key,value){return ___.tryCatch(__isValidEntry,[key,value],false,__cname);},reset:function(){return ___.tryCatch(__reset,[],null,__cname);},isEmpty:function(){return ___.tryCatch(__isEmpty,[],false,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},MapObject.prototype));};var ArrayList=function ArrayList(FORMAT,UNIQUE,CLEAN,SEP){var __cname='__Utils__.ArrayList';try{var __data=[];var __s_item=new CustomDataObject({item:'string'});var __UNIQUE=true;var __SEP=',';var __CLEAN=false;var __getData=function(outputStr){return outputStr===true?(__s_item.getValue('item')==='string'?__data:__data.map(function(d){return ___.toString(d);})).join(__SEP):___.merge([],__data);};var __setData=function(d,isValidCustomInfo){d=__normalize(d);if(__isValidData(d,isValidCustomInfo))__data=d;if(__CLEAN)__clean();if(__UNIQUE)__deduplicate();};var __normalize=function(d){if(TC.isString(d)&&__s_item.getValue('item')==='string')return d.split(__SEP);return d;};var __isValidData=function(d,isValidCustomInfo){if(!TC.isArray(d))return false;for(var i=0;i<d.length;i++){if(!__s_item.isValidInfo('item',d[i])||(TC.isFunction(isValidCustomInfo)&&(!isValidCustomInfo(d[i]))))return false;}
return true;};var __filter=function(data,callback){var results=[];if(TC.isFunction(callback)){var length=data.length;for(var index=0;index<length;index++){var item=data[index];if(callback(item,index)===true)results.push(item);}}
return results;};var __clean=function(){if(__s_item.getValue('item')==='string')__data=__filter(__data,function(item){if(item)return true;});};var __deduplicate=function(){__data=__filter(__data,function(item,position){return __data.indexOf(item)==position;});};var __add=function(items){items=__normalize(items);items=TC.isArray(items)?items:[items];if(__isValidData(items)&&(!TC.isEmptyArray(items))){__data=__data.concat(items);if(__CLEAN)__clean();if(__UNIQUE)__deduplicate();}};var __remove=function(items){items=__normalize(items);items=TC.isArray(items)?items:[items];if(__isValidData(items))items.forEach(function(item){__data=__filter(__data,function(elem){return elem===item?false:true;});});};var __reset=function(){__data=[];};var __isEmpty=function(){return TC.isEmptyArray(__data);};var __size=function(){return __data.length;};var __hasValue=function(item,key){if(!__s_item.isValidInfo('item',item))return false;var i;if(item.hasOwnProperty(key)){for(i=0;i<__data.length;i++)if(__data[i][key]===item[key])return true;}
else for(i=0;i<__data.length;i++)if(__data[i]===item)return true;return false;};var __count=function(item,key){var results;if(!__s_item.isValidInfo('item',item))return 0;if(item.hasOwnProperty(key))results=__filter(__data,function(elem){if(elem[key]===item[key])return true;});else results=__filter(__data,function(elem){if(elem===item)return true;});return results.length;};var __iterator=function IteratorCTRL(){var __icname=__cname+'.__iterator';try{var __index=0;var __reset=function(){__index=0;};var __hasNext=function(){return __index<__data.length;};var __next=function(){return __index<__data.length?__data[__index++]:null;};this.export={reset:function(){return ___.tryCatch(__reset,[],null,__icname);},hasNext:function(){return ___.tryCatch(__hasNext,[],false,__icname);},next:function(){return ___.tryCatch(__next,[],null,__icname);},};}catch(e){MLOG.showMessage({type:'error',cname:__icname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},IteratorCTRL.prototype));};var __addPrefix=function(prefix){if(TC.isString(prefix)&&(!TC.isEmptyString(prefix)))__data=__data.map(function(item){return prefix+item;});};var __addSuffix=function(suffix){if(TC.isString(suffix)&&(!TC.isEmptyString(suffix)))__data=__data.map(function(item){return item+suffix;});};var __search=function(regexp){return TC.isRegExp(regexp)?__filter(__data,function(elem){if(regexp.test(elem))return true;}):[];};var __getMinOrMaxValue=function(func,options){if(!(func=='max'||func=='min'))return null;options=TC.isPureObject(options)?options:{};var isZeroIncluded=options.zero=='yes'?true:false;var isPositiveOnly=options.sign=='positive'?true:false;var isNegativeOnly=options.sign=='negative'?true:false;var filterSignAndZero=null;if(isZeroIncluded&&isPositiveOnly)filterSignAndZero=function(elem){return elem>-1;};if(!isZeroIncluded&&isPositiveOnly)filterSignAndZero=function(elem){return elem>0;};if(isZeroIncluded&&isNegativeOnly)filterSignAndZero=function(elem){return elem<1;};if(!isZeroIncluded&&isNegativeOnly)filterSignAndZero=function(elem){return elem<0;};var compare;if(func=='min')compare=function(elem1,elem2){return elem1<elem2;};if(func=='max')compare=function(elem1,elem2){return elem1>elem2;};var blacklist=new ArrayList(__s_item.getValue('item'),__UNIQUE,__CLEAN);blacklist.setData(options.exclude);var value=NaN;for(var i=0;i<__data.length;i++){if(!blacklist.isEmpty()&&blacklist.hasValue(__data[i]))continue;if((!filterSignAndZero||filterSignAndZero(__data[i]))&&(isNaN(value)||compare(__data[i],value)))value=__data[i];}
return value;};if(!TC.isUndefined(FORMAT))__s_item.setData({item:FORMAT});if(TC.isBoolean(UNIQUE))__UNIQUE=UNIQUE;if(TC.isString(SEP))__SEP=SEP;if(TC.isBoolean(CLEAN)&&__s_item.getValue('item')==='string')__CLEAN=CLEAN;this.export={getData:function(outputStr){return ___.tryCatch(__getData,[outputStr],null,__cname);},setData:function(d,isValidCustomInfo){return ___.tryCatch(__setData,[d,isValidCustomInfo],null,__cname);},isValidData:function(d,isValidCustomInfo){return ___.tryCatch(__isValidData,[d,isValidCustomInfo],false,__cname);},add:function(items){return ___.tryCatch(__add,[items],null,__cname);},remove:function(items){return ___.tryCatch(__remove,[items],null,__cname);},reset:function(){return ___.tryCatch(__reset,[],null,__cname);},isEmpty:function(){return ___.tryCatch(__isEmpty,[],false,__cname);},size:function(){return ___.tryCatch(__size,[],0,__cname);},hasValue:function(item,key){return ___.tryCatch(__hasValue,[item,key],false,__cname);},count:function(item,key){return ___.tryCatch(__count,[item,key],0,__cname);},clean:function(){return ___.tryCatch(__clean,[],[],__cname);},deduplicate:function(){return ___.tryCatch(__deduplicate,[],[],__cname);},iterator:function(){return ___.tryCatch(__iterator,[],null,__cname);},};if(this.export&&__s_item.getValue('item')==='string'){this.export.addPrefix=function(prefix){return ___.tryCatch(__addPrefix,[prefix],null,__cname);};this.export.addSuffix=function(suffix){return ___.tryCatch(__addSuffix,[suffix],null,__cname);};this.export.search=function(regexp){return ___.tryCatch(__search,[regexp],[],__cname);};}
if(this.export&&__s_item.getValue('item')==='number'){this.export.getMinValue=function(options){return ___.tryCatch(__getMinOrMaxValue,['min',options],null,__cname);};this.export.getMinPositiveValue=function(blacklist){return ___.tryCatch(__getMinOrMaxValue,['min',{sign:'positive',exclude:blacklist}],null,__cname);};this.export.getMinPositiveAndZeroValue=function(blacklist){return ___.tryCatch(__getMinOrMaxValue,['min',{sign:'positive',zero:'yes',exclude:blacklist}],null,__cname);};this.export.getMinNegativeValue=function(blacklist){return ___.tryCatch(__getMinOrMaxValue,['min',{sign:'negative',exclude:blacklist}],null,__cname);};this.export.getMinNegativeAndZeroValue=function(blacklist){return ___.tryCatch(__getMinOrMaxValue,['min',{sign:'negative',zero:'yes',exclude:blacklist}],null,__cname);};this.export.getMaxValue=function(options){return ___.tryCatch(__getMinOrMaxValue,['max',options],null,__cname);};this.export.getMaxPositiveValue=function(blacklist){return ___.tryCatch(__getMinOrMaxValue,['max',{sign:'positive',exclude:blacklist}],null,__cname);};this.export.getMaxPositiveAndZeroValue=function(blacklist){return ___.tryCatch(__getMinOrMaxValue,['max',{sign:'positive',zero:'yes',exclude:blacklist}],null,__cname);};this.export.getMaxNegativeValue=function(blacklist){return ___.tryCatch(__getMinOrMaxValue,['max',{sign:'negative',exclude:blacklist}],null,__cname);};this.export.getMaxNegativeAndZeroValue=function(blacklist){return ___.tryCatch(__getMinOrMaxValue,['max',{sign:'negative',zero:'yes',exclude:blacklist}],null,__cname);};}}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ArrayList.prototype));};var SYSERR=this.export.SystemError||new SystemError();var MLOG=this.export.MessageLogging||new MessageLogging();var TC=new TypeChecking();var REB=new RegExpBuilder();var ___=new Common();var COOKIE=new Cookie();var STORAGE=new Storage();var DOM=new DOMHelper();var UTAG=new UtagHelper();this.export={getAnalyticsLogUser:this.export.getAnalyticsLogUser,SystemError:SYSERR,MessageLogging:MLOG,TypeChecking:TC,RegExpBuilder:REB,Common:___,Cookie:COOKIE,Storage:STORAGE,DOMHelper:DOM,UtagHelper:UTAG,EventsListener:EventsListener,CustomDataObject:CustomDataObject,DatalayerTableObject:DatalayerTableObject,IndexMapObject:IndexMapObject,MapObject:MapObject,ArrayList:ArrayList,};}catch(e){this.export.SystemError.throw(window.utag_data,{component:__cname,context:'constructor',details:e});if(__getAnalyticsLogUser()==='lwa'&&window.console)console.error('###',__cname+' has not been completed successfully! => caused by: '+e.stack);}
return Object.freeze(Object.setPrototypeOf(this.export||{},UtilsCTRL.prototype));}();if(__getAnalyticsLogUser()==='lwa'&&window.console)console.timeEnd('UTILS: CREATION');window.tealium_textClean=function(t,opts){if(typeof t!=='string')return t;opts=typeof opts==='string'?opts:'';t=t.trim();if(opts.indexOf('[nobreaks]')>-1){t=t.replace(/\r\n|\n|\r/gm,' ');}
if(opts.indexOf('[nomultiplespaces]')>-1){t=t.replace(/\s{2,}|\t+/g,' ');}
if(opts.indexOf('[nospaces]')>-1){t=t.replace(/\s|\t/g,'');}
if(opts.indexOf('[spaces2minus]')>-1){t=t.replace(/ /g,'-');}
return t;};window.tealium_stringReplaceCustom=function(str,find,repl){return(typeof str==='string'&&typeof find==='string')?str.replace(RegExp(find,'g'),(typeof repl==='string'?repl:'')):str;};window.tealium_stringTrim=function(str){return typeof str==='string'?str.trim():str;};window.tealium_objReplace=function(elem,method,replace,list,elist){var result={isReplaced:false,elem:elem};if(typeof elem==='object'){for(var k in elem){if(elem.hasOwnProperty(k)){try{JSON.stringify(elem[k]);//@TODO: compare with __findRef used to find circular ref in the 'merge' function!
if(0||((typeof elem[k]!=='string')&&method!=='stringify')||(!list&&!elist)||(list&&Array.isArray(list)&&RegExp('^('+list.join('|')+')$','g').test(''+k))||(elist&&Array.isArray(elist)&&(!(RegExp('^('+elist.join('|')+')$','g').test(''+k))))){var child_result=tealium_objReplace(elem[k],method,replace,list,elist);result.isReplaced=result.isReplaced||child_result.isReplaced||(child_result.elem!=elem[k]);elem[k]=child_result.elem;}}catch(e){}}}}
else{if(typeof elem==='string'){if(typeof method==='string'&&/trim/gi.test(method)){result.elem=tealium_stringTrim(elem,replace);}else if(Array.isArray(method)){result.elem=tealium_stringReplaceCustom(elem,method.join('|'),replace);}}
else{if(typeof method==='string'&&/stringify/gi.test(method)){result.elem=__Utils__.Common.toString(elem);}}}
return result;};};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.utils="25-07-02";}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.4 - Utag Settings';var tealiumExtensionCode=function(){try{window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};{window.utag_cfg_ovrd.always_set_v_id=true;window.utag_cfg_ovrd.cmcookiens;window.utag_cfg_ovrd.consentPeriod=390;window.utag_cfg_ovrd.dom_complete;window.utag_cfg_ovrd.domain;window.utag_cfg_ovrd.gdprDLRef='language';window.utag_cfg_ovrd.ignoreLocalStorage=true;window.utag_cfg_ovrd.ignoreSessionStorage=true;window.utag_cfg_ovrd.load_rules_ajax;window.utag_cfg_ovrd.load_rules_at_wait;window.utag_cfg_ovrd.lowermeta;window.utag_cfg_ovrd.lowerqp;window.utag_cfg_ovrd.noload;window.utag_cfg_ovrd.noview=true;window.utag_cfg_ovrd.nocookie;window.utag_cfg_ovrd.nonblocking_tags=true;window.utag_cfg_ovrd.path;window.utag_cfg_ovrd.readywait;window.utag_cfg_ovrd.secure_cookie=true;window.utag_cfg_ovrd.session_timeout;window.utag_cfg_ovrd.split_cookie;window.utag_cfg_ovrd.split_cookie_allowlist;window.utag_cfg_ovrd.suppress_before_load_rules_with_uids;window.utag_cfg_ovrd.waittimer;}
{window.utag_cfg_ovrd.custom_settings={DOMUrlBadQueryParams:['krypto','jwt'],ProfileGroup:'',ProfileBrand:'',ProfileEcommerceMultiBrand:false,SinglePageApp:false,ClickListener:true,EventList:['Events_UserLogin','Events_ProdFavAdd','Events_CartAdd','Events_CartRemove','Events_UserEmailSub','Events_UserAccountNew','Events_FunnelStoreSearch','Events_FindStoreOpen','Events_VMRender',],};{window.utag_cfg_ovrd.custom_settings.ProfileAccount=__Utils__.UtagHelper.getUtagAccount();window.utag_cfg_ovrd.custom_settings.ProfileName=__Utils__.UtagHelper.getUtagProfile();window.utag_cfg_ovrd.custom_settings.ProfileEnvironment=__Utils__.UtagHelper.getUtagEnvironment();}}}
catch(e){__Utils__.SystemError.throw(window.utag_data,{component:'Utag Settings',context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:'Utag Settings',fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.utag_settings="25-09-02";}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.4.1 - Utag Settings - Override';var tealiumExtensionCode=function(){try{window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};{var settings=window.utag_cfg_ovrd.custom_settings=window.utag_cfg_ovrd.custom_settings||{};settings.ProfileGroup='ecommerce';settings.ProfileBrand='OP';}}
catch(e){__Utils__.SystemError.throw(window.utag_data,{component:'Utag Settings - Override',context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:'Utag Settings - Override',fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.5.1 - Analytics Log - Configuration';var tealiumExtensionCode=function(){try{{var getDatalayerMissingKeys=function(options){var CET=window.AutoQAService&&window.AutoQAService.ConfigErrorTable||null;if(CET){var enrichDatalayer=function(options,messages){var datalayer=options.datalayer;var QAResult=options.QAResult;for(var prop in QAResult){if(QAResult.hasOwnProperty(prop)){if(datalayer.hasOwnProperty(prop)&&QAResult[prop].children)enrichDatalayer({datalayer:datalayer[prop],QAResult:QAResult[prop].children},messages);else{if(QAResult[prop].info){var info=QAResult[prop].info;var errorPriority=info.error&&info.error.hasOwnProperty('priority')?info.error.priority:'';var errorMessage=info.error&&info.error.hasOwnProperty('message')?info.error.message:'';for(var key in messages)
if(errorPriority==1||(messages.hasOwnProperty(key)&&errorMessage===messages[key])){datalayer[prop]=undefined;break;}}}}}};enrichDatalayer(options,[CET.getCauses('EXISTING'),CET.getCauses('MANUAL_CHECK_REQUIRED')]);}};var addDatalayerQANotRequiredKeys=function(options){var CDPLT=window.AutoQAService&&window.AutoQAService.ConfigDatalayerPropertyListTable||null;if(options.QAResult&&CDPLT){var tagging_plan_url='https://docs.google.com/spreadsheets/d/1qedeSsDNt8PSFdw1Uw22SXLs_XQBXCi_94tcbxsOSMc/edit?usp=sharing';var tagging_plan_link='<a href="'+tagging_plan_url+'" target="_blank">Tagging Plan</a>';var enrichDatalayer=function(options,settings){var datalayer=options.datalayer;var QAResult=options.QAResult;for(var prop in datalayer){if(datalayer.hasOwnProperty(prop)){if(!QAResult.hasOwnProperty(prop)){QAResult[prop]={info:{priority:-1,value:undefined,error:{priority:-2,label:'NOT REQUIRED',message:'Variable should be removed! More info in '+settings.tagging_plan_link,},},children:{},};}
if(typeof datalayer[prop]==='object'&&datalayer[prop]&&(settings.nestedObjectsEnabled||settings.CDPLT.getInfo(prop))){enrichDatalayer({datalayer:datalayer[prop],QAResult:QAResult[prop]&&QAResult[prop].children||{}},{CDPLT:settings.CDPLT,tagging_plan_link:settings.tagging_plan_link,nestedObjectsEnabled:true});}}}};enrichDatalayer(options,{CDPLT:CDPLT,tagging_plan_link:tagging_plan_link});}};var getDatalayerQADetails=function(options){var QAResult=options.QAResult;var details={};for(var prop in QAResult){if(QAResult.hasOwnProperty(prop)){details[prop]={};if(QAResult[prop].info){var info=QAResult[prop].info;var priority=info.hasOwnProperty('priority')?('['+(info.priority<0?'NP':('P'+info.priority))+']'):'';var errorType=info.error&&info.error.hasOwnProperty('label')?info.error.label:'';var errorMessage=info.error&&info.error.hasOwnProperty('message')?info.error.message:'';details[prop].content=(priority?(priority+' '):'')+(errorType?(errorType+': '):'')+errorMessage;details[prop].type=/NOT REQUIRED/.test(errorType)?'skip':(errorType.toLocaleLowerCase()||'info');details[prop].icon=details[prop].type;}
if(QAResult[prop].children)details[prop].children=getDatalayerQADetails({QAResult:QAResult[prop].children});}}
return details;};var getDatalayerQANotifications=function(options){var QAStatus=options.QAStatus;if(QAStatus&&typeof QAStatus==='object'){var code=QAStatus.hasOwnProperty('code')?QAStatus.code:null;var message=QAStatus.hasOwnProperty('message')?QAStatus.message:null;return[{type:code==0?'success':code==1?'warning':code==2?'error':'',text:message||'',}];}};var applyDatalayerQAResultsFilter=function(options){var QAResult=options.QAResult;var datalayerKey=options.datalayerKey;var filterValues=options.filterValues;if(QAResult&&QAResult.hasOwnProperty(datalayerKey)){var filterTypeSelected=QAResult[datalayerKey].info&&QAResult[datalayerKey].info.error&&QAResult[datalayerKey].info.error.hasOwnProperty('label')?QAResult[datalayerKey].info.error.label:'';if(RegExp('^('+filterValues.join('|')+')$').test(filterTypeSelected))return true;}
return false;};var applyDatalayerQAPrioritiesFilter=function(options){var QAResult=options.QAResult;var datalayerKey=options.datalayerKey;var filterValues=options.filterValues;if(QAResult&&QAResult.hasOwnProperty(datalayerKey)){var filterTypeSelected=QAResult[datalayerKey].info&&QAResult[datalayerKey].info.hasOwnProperty('priority')?QAResult[datalayerKey].info.priority:-1;if(RegExp('^('+filterValues.join('|')+')$').test(filterTypeSelected))return true;}
return false;};}
var storage={prefix:'tealium_'};var trackingSettings={onPageLoad:{title:'Page Load > Initialize',},onEvent:{title:function(data,index){var data2track=data&&data.data2track&&typeof data.data2track.datalayer==='object'?data.data2track.datalayer:{};var builder=data&&data.builder&&typeof data.builder.datalayer==='object'?data.builder.datalayer:{};var eventId=data2track.id||builder.id||'no-id';var eventType=/page[-]?view|loading-ready|(^default$)/i.test(eventId)?'On Page Load':/click/i.test(eventId)?'On Mousedown':'On Push Event';var eventInfo=/page[-]?view|loading-ready/i.test(eventId)?eventId:/click/i.test(eventId)?('data-element-id: "'+(data2track.data_element_id||'__notDetected__')+'", data-description: "'+(data2track.data_description||'__notDetected__')+'"'):('id: "'+eventId+'"');var eventAbort=!builder.hasOwnProperty('Tags__Abort')||builder.Tags__Abort=='1'?' >> Aborted':'';return'Event '+index+' - '+eventType+' > '+eventInfo+eventAbort;}},};{var datalayerMap={'utagjs':'Library utag.js','utag_data':'Datalayer utag_data','preloader':'Preloader','domready':'DomReady','listener':'Listener','data2track':'Datalayer data2track','utag_data2track':'Datalayer merged: utag_data U data2track','builder':'Builder','before_load_rules':'Before Load Rules','after_load_rules':'After Load Rules','latest_click':'Latest Mousedown tracked','adobe':'Adobe','collect':'Tealium Collect'};var datalayerKeys=Object.keys(datalayerMap);var datalayerSettings={};datalayerKeys.forEach(function(datalayerkey){{if(/^(utag_data|data2track|utag_data2track)$/.test(datalayerkey))datalayerSettings[datalayerkey]={enrichments:[{callback:getDatalayerMissingKeys,customParams:{QAResult:'Result_QA.result',},},{callback:addDatalayerQANotRequiredKeys,customParams:{QAResult:'Result_QA.result',},},],groups:{'core':{label:'Core',rules:{include:/^(id|Page_Type|language)$/i,}},'events':{label:'Events',rules:{include:/^Events_|Event_Source/,}},'click':{label:'Click',rules:{include:/^data_/,}},'common':{label:'Common',rules:{include:/^Page_|^Store_|^Session_|Order_Currency|Order_CartId/i,exclude:/^Store_Search/,}},'user':{label:'User',rules:{include:/^User_|Traffic_Cid/i,}},'products':{label:'Products',rules:{include:/^Products/i,}},'search':{label:'Internal Search',rules:{include:/^Search_/i,}},'store_search':{label:'Store Search',rules:{include:/^Store_Search_/i,}},'order':{label:'Order',rules:{include:/^Order_/i,}},'return':{label:'Return',rules:{include:/^Return_/i,}},'exam':{label:'Exam Funnel',rules:{include:/^Exam_/i,}},'vm':{label:'Virtual Mirror',rules:{include:/^Vm_|Take_Mode/i,}},'rtr':{label:'Real Time Rendering',rules:{include:/^Rtr_/i,}},'fg':{label:'Frame Genius',rules:{include:/^Fg_|Take_Mode/i,}},'sg':{label:'Size Genius',rules:{include:/^Sg_|Take_Mode/i,}},'fs':{label:'Face Scan',rules:{include:/^Fs_IsConnected$/i,}},'rxr':{label:'RX Renewal',rules:{include:/Renewal/i,}},'error':{label:'Error',rules:{include:/^Error_/i,exclude:/^(Error_DatalayerObject|Error_QA)$/,}},'consent':{label:'Consent',rules:{include:/^language$/,}},'algolia':{label:'Algolia',rules:{include:/^(grouped_indexName|grouped_queryID|ungrouped_indexName|ungrouped_queryID|position|userToken|objectIDs)$/,},},'other':{label:'Other',rules:{include:/.*/,}},},notifications:{callback:getDatalayerQANotifications,customParams:{QAStatus:'Result_QA.status'},},details:{callback:getDatalayerQADetails,customParams:{QAResult:'Result_QA.result',},},filters:[{label:'QA Results',options:[{value:'SUCCESS',label:'Success',checked:false},{value:'WARNING',label:'Warning',checked:false},{value:'ERROR',label:'Error',checked:false},{value:'NOT REQUIRED',label:'Not Required',checked:false},],type:'error.label',onFilter:{callback:applyDatalayerQAResultsFilter,customParams:{QAResult:'Result_QA.result'},},dependencies:['Result_QA'],},{label:'QA Priorities',options:[{value:1,label:'P1',checked:false},{value:2,label:'P2',checked:false},{value:-1,label:'NP',checked:false},],type:'priority',onFilter:{callback:applyDatalayerQAPrioritiesFilter,customParams:{QAResult:'Result_QA.result'},},dependencies:['Result_QA'],},],hiddens:['Result_QA','Error_DatalayerObject','datacopy','datacopy_array','Tracking_Pusher','Tracking_Invalid','AnalyticsLogEventId','consent_status','clarip_consent_status','clickType',],};else if(/^(preloader|builder|domready|before_load_rules|after_load_rules|collect)$/.test(datalayerkey))datalayerSettings[datalayerkey]={groups:{'action':{label:'Action',rules:{include:/^Action/,}},'device':{label:'Device',rules:{include:/^Device_/,}},'session':{label:'Session',rules:{include:/^Session_/,exclude:/^(Session_Id|Session_Status)$/i,}},'page_built':{label:'Page - Calculated',rules:{include:/^(Page_Name|Page_Url|Page_Path|Page_QueryString|Page_PathQueryString|Page_Url_EnUs|Page_Region)$/,}},'page':{label:'Page - Input / Repaired',rules:{include:/^Page_/,}},'user':{label:'User - Input / Repaired',rules:{include:/^User_/,}},'error_built':{label:'Error - Calculated',rules:{include:/^(Error_QA|Error_SourceLabel)$/,}},'error':{label:'Error - Input / Repaired',rules:{include:/^Error_/i,}},'tags':{label:'Tags',rules:{include:/^Tags_/,}},'tracking':{label:'Tracking',rules:{include:/^Tracking_/,}},'products':{label:'Products',rules:{include:/^Products/,}},'order':{label:'Order',rules:{include:/^Order_/,}},'cdh':{label:'CDH',rules:{include:/^CDH_/,}},'click':{label:'Click',rules:{include:/^data_|clickType/,}},'algolia':{label:'Algolia',rules:{include:/^(grouped_indexName|grouped_queryID|ungrouped_indexName|ungrouped_queryID|position|userToken|objectIDs)$/,},},'abtest':{label:'AB Test',rules:{include:/^Content_TestList$/,}},'meta':{label:'HTML - Meta',rules:{include:/^meta\./,}},'dom':{label:'HTML - Document',rules:{include:/^(dom|qp)\./,}},'tealium_iq':{label:'Tealium iQ',rules:{include:/^(tealium_|ut\.)/,}},'jspage':{label:'JS - Global Variables',rules:{include:/^js_/,}},'cookie':{label:'JS - Cookie',rules:{include:/^cp\./,}},'va':{label:'Visitor Audience',rules:{include:/^va\./,}},'ecom':{label:'E-Commerce',rules:{include:/^_c/,}},'other':{label:'Other',rules:{include:/.*/,}},},};else if(datalayerkey==='adobe'){var assignObjectInfo=function(data,output){output=typeof output==='object'&&output&&(!Array.isArray(output))?output:{};for(var key in data)if(data.hasOwnProperty(key))output[key]=data[key];return output;};var extractFieldFromObjectInfo=function(data,field){data=typeof data==='object'?data:{};field=typeof field==='string'?field:'';var results=[{},{}];for(var key in data){if(data.hasOwnProperty(key)){results[0][key]={};for(var prop in data[key]){if(data[key].hasOwnProperty(prop)){if(prop===field)results[1][key]=data[key][field];else results[0][key][prop]=data[key][prop];}}}}
return results;};var eventsInfo={"purchase":{"description":"Revenue \\ Orders \\ Units","type":"Currency \\ Counter \\ Counter","unique":"Use purchaseID","participation":"Enabled"},"scOpen":{"description":"Carts","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"scView":{"description":"Cart Views (visits)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"scCheckout":{"description":"Checkouts","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"scAdd":{"description":"Cart Additions","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"scRemove":{"description":"Cart Removals","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event1":{"description":"Logins - users (e1)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event2":{"description":"New Accounts  - users (e2)","type":"Counter","unique":"Use Event ID","participation":"Disabled"},"event3":{"description":"Email subscriptions - users (e3)","type":"Counter","unique":"Use Event ID","participation":"Disabled"},"event4":{"description":"Errors Blocking - website (e4)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event5":{"description":"Queries - Internal Search (e5)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event6":{"description":"Internal Search - visits (e6)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event7":{"description":"Booking - Exam Funnel (e7)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event8":{"description":"Completed - Exam Funnel (e8)","type":"Counter","unique":"Use Event ID","participation":"Enabled"},"event9":{"description":"Add Product to Favourites list - Products (e9)","type":"Counter","unique":"Always Record Event","participation":"Enabled"},"event10":{"description":"Filters - visits (e10)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event11":{"description":"FIS Impression Pdp - store (e11)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event12":{"description":"Phone subscriptions - users (e12)","type":"Counter","unique":"Use Event ID","participation":"Disabled"},"event13":{"description":"Products views ecom - Products (e13)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event14":{"description":"Social Shares (e14)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event15":{"description":"[DEPRECATED] Step #5 payment gateway - checkout (e15)","type":"Counter","unique":"Record Once Per Visit","participation":"Enabled"},"event16":{"description":"Gift orders qnt - orders (e16)","type":"Counter","unique":"Always Record Event","participation":"Enabled"},"event17":{"description":"Engraving Case Changed - OC (e17)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event18":{"description":"Booking questions - Exam Funnel (e18)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event19":{"description":"Discount orders qnt - orders (e19)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event20":{"description":"Giftcards - Orders (e20)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event21":{"description":"Delivery Step (Checkout e21)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event22":{"description":"Payment Step (Checkout e22)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event23":{"description":"Filters - Hit (e23)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event24":{"description":"Tax -Orders (e24)","type":"Currency","unique":"Always Record Event","participation":"Disabled"},"event25":{"description":"Shipping revenue local currency - orders (e25)","type":"Numeric","unique":"Always Record Event","participation":"Disabled"},"event26":{"description":"Shipping revenue - orders (e26)","type":"Currency","unique":"Always Record Event","participation":"Enabled"},"event27":{"description":"Products views out of stock - Products (e27)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event28":{"description":"Order Reminder (User e28)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event32":{"description":"Products views  - Products (e32)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event33":{"description":"Remix - configurator - unique visits (e33)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event34":{"description":"Add to cart remix - Products (e34)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event35":{"description":"Queries - Store Search (e35)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event36":{"description":"No results count - Store Search (e36)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event37":{"description":"Discount revenue - orders (e37)","type":"Currency","unique":"Always Record Event","participation":"Disabled"},"event38":{"description":"Email unsubscriptions - users (e38)","type":"Counter","unique":"Use Event ID","participation":"Disabled"},"event39":{"description":"Returns - orders (e39)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event40":{"description":"Returns Cost  - orders (e40)","type":"Currency","unique":"Always Record Event","participation":"Disabled"},"event41":{"description":"Start (Course e41)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event42":{"description":"Continue (Course e42)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event43":{"description":"Wrapping - orders (e43)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event44":{"description":"Discount units - orders (e44)","type":"Numeric","unique":"Always Record Event","participation":"Disabled"},"event46":{"description":"Oos email me submit - products (e46)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event47":{"description":"Products - views - unique visits (e47)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event50":{"description":"Product Errors - website (e50)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event51":{"description":"404 Errors - website (e51)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event52":{"description":"IT Errors - website (e52)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event53":{"description":"UX Errors -website (e53)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event55":{"description":"Content Errors -website (e55)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event57":{"description":"Voucher Download (e57)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event58":{"description":"Not Blocking Errors - website (e58)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event59":{"description":"No Results - Store Search (e59)","type":"Numeric","unique":"Always Record Event","participation":"Disabled"},"event60":{"description":"Revenue - local currency - orders (e60)","type":"Numeric","unique":"Always Record Event","participation":"Disabled"},"event61":{"description":"Giftcards used - orders (e61)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event62":{"description":"Discount revenue local curr. - orders (e62)","type":"Numeric","unique":"Always Record Event","participation":"Disabled"},"event63":{"description":"Shipping tax local currency - orders (e63)","type":"Numeric","unique":"Always Record Event","participation":"Enabled"},"event64":{"description":"Shipping tax - orders (e64)","type":"Currency","unique":"Always Record Event","participation":"Enabled"},"event65":{"description":"Tax local currency - orders (e65)","type":"Numeric","unique":"Always Record Event","participation":"Disabled"},"event66":{"description":"Oos email me view - products (e66)","type":"Counter","unique":"Always Record Event","participation":"Enabled"},"event67":{"description":"Quantity - exam (e67)","type":"Numeric","unique":"Always Record Event","participation":"Disabled"},"event69":{"description":"Errors - debugger (e69)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event70":{"description":"Cancelled - orders (e70)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event71":{"description":"Cancelled revenue - orders (e71)","type":"Currency","unique":"Always Record Event","participation":"Disabled"},"event72":{"description":"Contact us - action (e72)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event73":{"description":"FindStore (e73)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event74":{"description":"Step #4 order review - checkout (e74)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event75":{"description":"Delete booking - Exam Funnel (e75)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event76":{"description":"Multiple booking - Exam Funnel (e76)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event77":{"description":"Prescription Submit - orders (e77)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event80":{"description":"Giftwrap - units (e80)","type":"Numeric","unique":"Always Record Event","participation":"Disabled"},"event81":{"description":"Giftwrap - orders (e81)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event82":{"description":"Marketing Errors - website (e82)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event83":{"description":"GiftCard -revenue (e83)","type":"Currency","unique":"Record Once Per Visit","participation":"Disabled"},"event84":{"description":"GiftCard - Revenue Local Currency (e84)","type":"Numeric","unique":"Record Once Per Visit","participation":"Disabled"},"event85":{"description":"GiftCard - units (e85)","type":"Numeric","unique":"Record Once Per Visit","participation":"Disabled"},"event86":{"description":"Booking personal info - Exam Funnel (e86)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event87":{"description":"Store search - Exam Funnel (e87)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event88":{"description":"Insurance amount - orders (e88)","type":"Currency","unique":"Always Record Event","participation":"Disabled"},"event91":{"description":"Internal Search Img - visits (e91)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event92":{"description":"nternal Search Text - visits (e92)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event93":{"description":"Internal Search Suggested - visits (e93)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event94":{"description":"Subscription - orders (e94)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event95":{"description":"Internal Search Barcode - visits (e95)","type":"Counter","unique":"Record Once Per Visit","participation":"Disabled"},"event96":{"description":"Products list views  - Products (e96)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event97":{"description":"Size Changed  - OC (e97)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event98":{"description":"Engraving Frame Changed - OC (e98)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event99":{"description":"Recipe Saved - OC (e99)","type":"Counter","unique":"Always Record Event","participation":"Disabled"},"event101":{"description":"Orders Back-End","type":"Numeric","unique":"Always Record Event","participation":""},"event102":{"description":"Revenue Back-End","type":"Currency","unique":"Always Record Event","participation":""},"event103":{"description":"Browser is supported - vm (e103)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event104":{"description":"[DEPRECATED] Prod is supported - vm (e104)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event105":{"description":"[DEPRECATED] Ready - vm (e105)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event106":{"description":"[DEPRECATED] Request WebCam - vm (e106)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event107":{"description":"[DEPRECATED] WebCam Allowed - vm (e107)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event108":{"description":"Render - vm (e108)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event109":{"description":"Close - vm (e109)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event110":{"description":"[DEPRECATED] Try On - vm (e110)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event111":{"description":"Fit Glasses - vm (e111)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event112":{"description":"Adjust Glasses - vm (e112)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event113":{"description":"Booking questions 1 - Exam Funnel(e113)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event114":{"description":"Booking questions 2 - Exam Funnel (e114)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event115":{"description":"Booking questions 3 - Exam Funnel (e115)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event116":{"description":"Booking questions 4 - Exam Funnel (e116)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event117":{"description":"Booking questions 5 - Exam Funnel (e117)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event118":{"description":"Bbooking date - Exam Funnel (e118)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event119":{"description":"Review - Exam Funnel (e119)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event120":{"description":"Prod is supported - cp (e120)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event121":{"description":"Loaded - cp (e121)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event122":{"description":"Randomized - cp (e122)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event123":{"description":"StartOver - cp (e123)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event124":{"description":"ConfirmConf  - cp (e124)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event125":{"description":"Closed - cp (e125)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event126":{"description":"Engagement Index by Visit - cp (e126)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event127":{"description":"First Interaction with Component by Visit - cp (e127)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event128":{"description":"First Interaction with Component by Model - cp (e128)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event129":{"description":"Engagement Index by Model - cp (e129)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event130":{"description":"Add  - Editorial (e130)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event131":{"description":"Remove - Editorial (e131)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event132":{"description":"Share - Editorial (e132)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event133":{"description":"Download - Editorial (e133)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event134":{"description":"Send - Editorial (e134)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event135":{"description":"Screenshot - vm (e135)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event136":{"description":"Step Shipping - checkout (e136)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event137":{"description":"Loyalty Subscription (e137)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event138":{"description":"Type - LADV Funnel (e138)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event139":{"description":"Review - LADV Funnel (e139)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event140":{"description":"Sessions (e140)","type":"Counter","unique":"Always Record Event","participation":""},"event142":{"description":"Cart Units unique - Cart  (e142)","type":"Numeric","unique":"Always Record Event","participation":""},"event143":{"description":"Cart Units - Cart  (e143)","type":"Numeric","unique":"Always Record Event","participation":""},"event144":{"description":"Products views - Fadv (e144)","type":"Counter","unique":"Always Record Event","participation":""},"event145":{"description":"Skin Confirmed - Fadv (e145)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event146":{"description":"Profile Changed - Fadv (e146)","type":"Counter","unique":"Always Record Event","participation":""},"event147":{"description":"Fit Glasses - Fadv (e147)","type":"Counter","unique":"Always Record Event","participation":""},"event150":{"description":"Type - RX Funnel (e150)","type":"Counter (no subrelations)","unique":"Use Event ID","participation":""},"event151":{"description":"Brand - RX Funnel (e151)","type":"Counter (no subrelations)","unique":"Use Event ID","participation":""},"event152":{"description":"Material - RX Funnel (e152)","type":"Counter (no subrelations)","unique":"Use Event ID","participation":""},"event153":{"description":"Treatment - RX Funnel (e153)","type":"Counter (no subrelations)","unique":"Use Event ID","participation":""},"event154":{"description":"Review - RX Funnel (e154)","type":"Counter (no subrelations)","unique":"Use Event ID","participation":""},"event155":{"description":"Performance - RX Funnel (e155)","type":"Counter (no subrelations)","unique":"Use Event ID","participation":""},"event157":{"description":"Licence Activation (e157)","type":"Counter","unique":"Always Record Event","participation":""},"event158":{"description":"Event booking (e158)","type":"Counter","unique":"Always Record Event","participation":""},"event165":{"description":"Start Scan - PD web (e165)","type":"Counter","unique":"Always Record Event","participation":""},"event166":{"description":"Completed Scan - PD web (e166)","type":"Counter","unique":"Always Record Event","participation":""},"event170":{"description":"Capture visits (Face Scan e170)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event171":{"description":"Capture hits (Face Scan e171)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event172":{"description":"Results visits (Frame Advisor e172)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event173":{"description":"Results hits (Frame Advisor e173)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event174":{"description":"Start visits (Frame Advisor e174)","type":"Counter (no subrelations)","unique":"Record Once Per Visit","participation":""},"event175":{"description":"Price (e175)","type":"Currency","unique":"Always Record Event","participation":""},"event176":{"description":"Price Full (e176)","type":"Currency","unique":"Always Record Event","participation":""},"event177":{"description":"Light - RX Funnel (e177)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event178":{"description":"Colour - RX Funnel (e178)","type":"Counter (no subrelations)","unique":"Always Record Event","participation":""},"event179":{"description":"Renewal Eligibility (Rxr e179)","type":"Counter","unique":"Always Record Event","participation":""},"event180":{"description":"Insurance Applied (Insurance e180)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event181":{"description":"Insurance Tentative (Insurance e181)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event182":{"description":"Insurance Apply (Insurance e182)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event183":{"description":"Insurance Open (Insurance e183)","type":"Counter","unique":"Always Record Event","participation":""},"event184":{"description":"Checkouts Standard (e184)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event185":{"description":"Checkouts Express (e185)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event186":{"description":"Checkouts Login (e186)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event187":{"description":"Cart Views (hits - e187)","type":"Counter","unique":"Always Record Event","participation":""},"event188":{"description":"Checkouts Qoto (e188)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event189":{"description":"Checkouts Reorder (e189)","type":"Counter","unique":"Record Once Per Visit","participation":""},"event190":{"description":"Prescription CL saved (e190)","type":"Counter","unique":"Always Record Event","participation":""},"event191":{"description":"Prescription Eyewear saved (e191)","type":"Counter","unique":"Always Record Event","participation":""},"event192":{"description":"Products comparator views - Products (e192)","type":"Counter","unique":"Always Record Event","participation":""},"event193":{"description":"Prod is supported - Rtr (e193)","type":"Counter","unique":"Always Record Event","participation":""},"event194":{"description":"Zoom - Rtr (e194)","type":"Counter","unique":"Always Record Event","participation":""},"event195":{"description":"Rotate - Rtr (e195)","type":"Counter","unique":"Always Record Event","participation":""},"event196":{"description":"Explode - Rtr (e196)","type":"Counter","unique":"Always Record Event","participation":""},"event197":{"description":"Prod Is supported FIS - (e197)","type":"Counter","unique":"Always Record Event","participation":""},"event198":{"description":"Screenshot - Fadv (e198)","type":"Counter","unique":"Always Record Event","participation":""}};eventsInfo.prodView={'description':'Product View',};var eventsInfoSplitted=extractFieldFromObjectInfo(eventsInfo,'description');var eventsExtraInfo=eventsInfoSplitted[0];var eventsLabels=eventsInfoSplitted[1];var evarsInfo={"eVar1":{"description":"Marketing Channel Detail (Traffic - Last touch CID v1)","allocation":"Linear","expiration":"Visit"},"eVar2":{"description":"[DEPRECATED] Ecommerce Website (Page v2)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar3":{"description":"ISO Week Number (Session v3)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar5":{"description":"Cart ID (Order v5)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar6":{"description":"Country (Page v6)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar7":{"description":"Local time (Session v7)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar8":{"description":"URL (Page v8)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar9":{"description":"User ID (User v9)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar10":{"description":"Store Configuration (Store v10)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar11":{"description":"Store Chain (Store v11)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar12":{"description":"Keyword (Internal Search v12)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar13":{"description":"Results Count (Internal Search v13)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar14":{"description":"State (Order v14)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar15":{"description":"Search View (Internal Search v15)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar16":{"description":"Marketing PromoCode Override (Traffic - Last touch CID v16)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar17":{"description":"Email MD5 (User v17)","allocation":"Most Recent (Last)","expiration":"Never"},"eVar18":{"description":"Active Subscriptions (User v18)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar19":{"description":"Marketing Channel (Traffic - Multi Touch MID v19)","allocation":"Linear","expiration":"Visit"},"eVar20":{"description":"Tax Rate (Order v20)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar22":{"description":"User agent (Device v22)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar23":{"description":"Shipping mode (Order v23)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar24":{"description":"Keyword (Store Search v24)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar25":{"description":"Error (Website v25)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar26":{"description":"Section (Page v26) DEPRECATED","allocation":"Linear","expiration":"Visit"},"eVar27":{"description":"Discount amount (Order v27)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar28":{"description":"Recipe Changed (OC v28)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar29":{"description":"Discount code (Order v29)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar30":{"description":"Giftcard code (Order v30)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar31":{"description":"Payment type (Order v31)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar32":{"description":"Region (Page - Old Ecom v32)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar34":{"description":"Cancellation ID (Order v34)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar35":{"description":"Order ID (Order v35)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar36":{"description":"Error detail (Website v36)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar37":{"description":"Search Type (Internal Search v37)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar38":{"description":"Session ID (Tags - ContentSquare v38)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar39":{"description":"Login status & source (User v39)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar40":{"description":"Currency code + yymm (Order v40)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar41":{"description":"Installments (Order v41)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar43":{"description":"Discount method (Order v43)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar44":{"description":"Action (Action v44)","allocation":"Linear","expiration":"Hit"},"eVar45":{"description":"Segments (User v45)","allocation":"Linear","expiration":"Never"},"eVar46":{"description":"Loyalty Card (User v46)","allocation":"Most Recent (Last)","expiration":"Never"},"eVar47":{"description":"Loyalty Tier (User v47)","allocation":"Most Recent (Last)","expiration":"Never"},"eVar48":{"description":"Release ID (Tags - Tealium v48)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar51":{"description":"Location code (User v51)","allocation":"Most Recent (Last) \\ Original Value (First)","expiration":"Visit"},"eVar52":{"description":"Country (User v52)","allocation":"Original Value (First)","expiration":"Visit"},"eVar53":{"description":"Language (User v53)","allocation":"Original Value (First)","expiration":"Visit"},"eVar54":{"description":"Screen (Device v54)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar56":{"description":"Previous Page (Action v56)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar57":{"description":"Previous Click (Action v57)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar58":{"description":"Page Name (Page v58)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar59":{"description":"Device type (Page v59)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar60":{"description":"Action (Action v60)","allocation":"Linear","expiration":"Visit"},"eVar61":{"description":"Previous Action (Action v61)","allocation":"Linear","expiration":"Visit"},"eVar62":{"description":"User ID (User - Timestamp v62)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar63":{"description":"Phone MD5 (User v63)","allocation":"Most Recent (Last)","expiration":"Never"},"eVar65":{"description":"Insured (Order v65)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar66":{"description":"Exam ID (Exam v66)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar67":{"description":"Q:patient (Exam v67)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar68":{"description":"Referrer (Page v68)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar69":{"description":"Q:lenses worn before (Exam v69)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar70":{"description":"Prescription Method (Order v70)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar71":{"description":"Login type (User v71)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar72":{"description":"Double Google Click ID (Tags - SA360 v72)","allocation":"Most Recent (Last)","expiration":"Custom(21 Days)"},"eVar74":{"description":"Brand (Page v74)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar75":{"description":"Release (Rx v75)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar76":{"description":"Subscription Frequency (Order v76)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar77":{"description":"Google Click ID (Tags - SA360 v77)","allocation":"Most Recent (Last)","expiration":"Custom(21 Days)"},"eVar78":{"description":"Q:visits purpose (Exam v78)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar79":{"description":"Ko Reason (Rxr v79)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar80":{"description":"Previous Action (Action x80)","allocation":"Linear","expiration":"Hit"},"eVar81":{"description":"BOT Name (Traffic v81)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar82":{"description":"Insurance code + status (Order v82)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar83":{"description":"Error code (Website v83)","allocation":"Linear","expiration":"Hit"},"eVar84":{"description":"Privacy consent (User v84)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar85":{"description":"Session ID (Tags - Smartly v85)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar86":{"description":"Category (Editorial v86)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar87":{"description":"Label (Editorial v87)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar88":{"description":"Scope (Editorial v88)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar89":{"description":"Source (Event v89)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar90":{"description":"MixMatch Badge (Prod v90)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar91":{"description":"Release ID (Page - Platform v91)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar92":{"description":"Store ID (Store v92)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar93":{"description":"Connected (FaceScanning v93)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar94":{"description":"Badges (Product v94)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar95":{"description":"Facet Query (Filter v95)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar96":{"description":"User Profile (Page v96)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar97":{"description":"Insurance benefits (Order v97)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar98":{"description":"Lens Type (Product v98)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar99":{"description":"Price Segment (Product v99)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar100":{"description":"Lens Key (Product v100)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar101":{"description":"Speedy Rx Eligible (Product v101)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar102":{"description":"Speedy Rx Badge (Product v102)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar110":{"description":"Lens Treatment (Product v110)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar111":{"description":"Lens Polarized (Product v111)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar112":{"description":"Visitor Id (Tags - Tealium v112)","allocation":"Most Recent (Last)","expiration":"Never"},"eVar113":{"description":"Session Id (Tags - Tealium v113)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar114":{"description":"Keyword Actual (Internal Search v114)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar115":{"description":"Frame Type (Product v115)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar116":{"description":"Product Badge (Fadv - v116)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar117":{"description":"Reorder - Previous Order Source (Product v117)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar118":{"description":"Best Match (Fadv v118)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar119":{"description":"Release (Fadv v119)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar120":{"description":"Tag ID (Tags Triggered Hits v120)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar121":{"description":"Work Location (1LX User v121)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar122":{"description":"Business Unit (1LX User v122)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar123":{"description":"Business Function (1LX User v123)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar124":{"description":"Group Idap (1LX User v124)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar125":{"description":"Brand Retail (1LX User v125)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar126":{"description":"Full URL (Page v126)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar127":{"description":"Discount name (Order v127)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar128":{"description":"Order Type (Order v128)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar129":{"description":"Preorder (Product v129)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar130":{"description":"Visibility (Product v130)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar131":{"description":"Status (Product v131)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar132":{"description":"Shipping To (Product v132)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar133":{"description":"OOS Options (Product v133)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar134":{"description":"Exam Zipcode (Exam v134)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar135":{"description":"Exam Previous (Exam v135)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar137":{"description":"Store Search Type (Exam v137)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar138":{"description":"Badge (Sadv v138)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar139":{"description":"Release (Oc v139)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar140":{"description":"H5E EDM (Page v140)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar141":{"description":"H5E EDM (Page v141)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar142":{"description":"Release (Vmmv v142)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar143":{"description":"Take Mode (v143)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar144":{"description":"Badge (Vmmv v144)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar145":{"description":"Results Count (Store Search v145)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar146":{"description":"Loyalty Exclusive (Product v146)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar148":{"description":"Release (Sadv v148)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar149":{"description":"UPC Supported (Oc v149)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar150":{"description":"Insurance method (Order v150)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar151":{"description":"Return Cost (Order v151)","allocation":"Most Recent (Last)","expiration":"Returns - orders (e39) (event 39)"},"eVar152":{"description":"Return Type (Order v152)","allocation":"Most Recent (Last)","expiration":"Returns - orders (e39) (event 39)"},"eVar153":{"description":"Badge (Ladv v153)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar154":{"description":"Product Name (v154)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar155":{"description":"Shipping type (Order v155)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar156":{"description":"Store Id (Store Search v156)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar157":{"description":"Discount Price % (Product v157)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar158":{"description":"Same Day available (Order v158)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar159":{"description":"Prescription saved (User v159)","allocation":"Most Recent (Last)","expiration":"Never"},"eVar160":{"description":"Badge (Recom v160)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar161":{"description":"Insurance Provider (Exam v161)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar162":{"description":"Content answer (Content v162)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar163":{"description":"Quotation ID (Order v163)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar164":{"description":"Warranty (Product v164)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar165":{"description":"Page URL EN (Page v165)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar166":{"description":"Release (Rtr v166)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar167":{"description":"Badge (Rtr v167)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar168":{"description":"Badge (FIS v168)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar169":{"description":"Release (Rxr v169)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar170":{"description":"Products Domain (Product v170)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar171":{"description":"Product ContextId (Product v171)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar172":{"description":"Playlist (Fadv v172)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar173":{"description":"Badge lite (Fadv v173)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar174":{"description":"cid parameter (Page v174)","allocation":"Most Recent (Last)","expiration":"Hit"},"eVar175":{"description":"Engraving (Custom Product v175)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar176":{"description":"SecondLens (Custom Product v176)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar177":{"description":"SecondMicrobag (Custom Product v177)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar178":{"description":"Leash (Custom Product v178)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar182":{"description":"Frame (Custom Product v182)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar183":{"description":"Lens (Custom Product v183)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar184":{"description":"Temple (Custom Product v184)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar185":{"description":"Etching (Custom Product v185)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar186":{"description":"Microbag (Custom Product v186)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar187":{"description":"Case (Custom Product v187)","allocation":"Most Recent (Last)","expiration":"Purchase"},"eVar199":{"description":"Product Price (Tags - Target v199)","allocation":"Most Recent (Last)","expiration":"Visit"},"eVar200":{"description":"Product ID (Tags - Target v200)","allocation":"Most Recent (Last)","expiration":"Purchase"}};var evarsInfoSplitted=extractFieldFromObjectInfo(evarsInfo,'description');var evarsExtraInfo=evarsInfoSplitted[0];var evarsLabels=evarsInfoSplitted[1];var propsInfo={"prop1":{"description":"Tracking code (Traffic - Last touch CID c1)","supportList":"Disabled"},"prop2":{"description":"Country (Page c2)","supportList":"Disabled"},"prop3":{"description":"Event ID (Tags - Tealium c3)","supportList":"Disabled"},"prop5":{"description":"Cart ID (Order c5)","supportList":"Disabled"},"prop6":{"description":"Order ID (Order c6)","supportList":"Disabled"},"prop7":{"description":"Local time (Session c7)","supportList":"Disabled"},"prop8":{"description":"URL (Page c8)","supportList":"Disabled"},"prop9":{"description":"User ID (User c9)","supportList":"Disabled"},"prop10":{"description":"Payment type (Order c10)","supportList":"Disabled"},"prop12":{"description":"Store Chain (Store c12)","supportList":"Disabled"},"prop13":{"description":"Keyword (Internal Search c13)","supportList":"Disabled"},"prop14":{"description":"Results Count (Internal Search c14)","supportList":"Disabled"},"prop15":{"description":"Store ID (Store c15)","supportList":"Disabled"},"prop16":{"description":"Store Configuration (Store c16)","supportList":"Disabled"},"prop18":{"description":"Store Segment (Store c18)","supportList":"Disabled"},"prop19":{"description":"Marketing Channel (Traffic - Multi Touch MID c19)","supportList":"Disabled"},"prop20":{"description":"Section (Pages c20) DEPRECATED","supportList":"Disabled"},"prop22":{"description":"User Agent (Device c22)","supportList":"Disabled"},"prop23":{"description":"Error (QA c23)","supportList":"Enabled Sep (,)"},"prop24":{"description":"Version (Content - Test c24)","supportList":"Enabled Sep (|)"},"prop25":{"description":"Error (Website c25)","supportList":"Disabled"},"prop28":{"description":"Creativity (Page c28)","supportList":"Enabled Sep (,)"},"prop30":{"description":"Message (Patch c30)","supportList":"Disabled"},"prop32":{"description":"Error message (Website c32)","supportList":"Disabled"},"prop33":{"description":"Last url requested (Action c33)","supportList":"Disabled"},"prop34":{"description":"Session ID (Tags - ContentSquare c34)","supportList":"Disabled"},"prop36":{"description":"Error details (Website c36)","supportList":"Disabled"},"prop37":{"description":"Shipping amount (Order c37)","supportList":"Disabled"},"prop38":{"description":"Combo (Action c38)","supportList":"Disabled"},"prop39":{"description":"Login status & source (User c39)","supportList":"Disabled"},"prop40":{"description":"Email MD5 (User c40)","supportList":"Disabled"},"prop41":{"description":"Login type (User c41)","supportList":"Disabled"},"prop42":{"description":"User Nation (User c42)","supportList":"Disabled"},"prop45":{"description":"Segments (User c45)","supportList":"Enabled Sep (,)"},"prop46":{"description":"Reason code (Return c46)","supportList":"Disabled"},"prop48":{"description":"Release ID (Tags - Tealium c48)","supportList":"Disabled"},"prop49":{"description":"Order Subscription Frequency (c49)","supportList":"Disabled"},"prop50":{"description":"Keyword Actual (Internal Search c50)","supportList":"Disabled"},"prop51":{"description":"Location code (User c51)","supportList":"Disabled"},"prop52":{"description":"Visitor Id (Tags - Tealium c52)","supportList":"Disabled"},"prop53":{"description":"Session Id (Tags - Tealium c53)","supportList":"Disabled"},"prop54":{"description":"Screen details (Device c54)","supportList":"Disabled"},"prop55":{"description":"Debug input vars (Debug c55)","supportList":"Disabled"},"prop58":{"description":"Page Name (Page c58)","supportList":"Disabled"},"prop59":{"description":"Device Type (Page c59) DEPRECATED","supportList":"Disabled"},"prop60":{"description":"Action (Action c60)","supportList":"Disabled"},"prop61":{"description":"Previous Action (Action c61)","supportList":"Disabled"},"prop62":{"description":"User ID (User - Timestamp c62)","supportList":"Disabled"},"prop65":{"description":"Insured (Order c65)","supportList":"Disabled"},"prop66":{"description":"Language (Pages c66)","supportList":"Disabled"},"prop67":{"description":"Querystring (Page c67)","supportList":"Disabled"},"prop68":{"description":"Referrer (Page c68)","supportList":"Disabled"},"prop70":{"description":"Prescription method (Order c70)","supportList":"Disabled"},"prop71":{"description":"Privacy consent (User c71)","supportList":"Disabled"},"prop72":{"description":"Analytics Log EventId (c72)","supportList":"Disabled"},"prop74":{"description":"Brand (Page c74)","supportList":"Disabled"},};var propsInfoSplitted=extractFieldFromObjectInfo(propsInfo,'description');var propsLabels=propsInfoSplitted[1];var listInfo={"list1":{"description":"Version (Content - Test list1)","separator":"|","expiration":"Visit","allocation":"Full"},"list2":{"description":"Facet - Filters (l2)","separator":"|","expiration":"Hit","allocation":"Full"},"list3":{"description":"Actions (l3)","separator":"|","expiration":"Visit","allocation":"Full"}};var listInfoSplitted=extractFieldFromObjectInfo(listInfo,'description');var listLabels=listInfoSplitted[1];var otherLabels={visitorNameSpace:'Visitor Name Space - Cookie usage',server:'Server Domain',account:'Report Suite',aid:'Analytics Visitor Id',visitorID:'Visitor Id',fid:'Fallback Id',pageName:'Adobe Page',pageUrl:'Adobe Page Default Url',g:'Adobe Page Default Url - first 255 bytes','-g':'Adobe Page Default Url - remaining bytes',referrer:'Referrering Url - hit',currencyCode:'Currency Code - hit',channel:'Channel - Site sections',AQB:'Adobe Query Begin',AQE:'Adobe Query End',charSet:'Char Encoding',cookieDomainPeriods:'Cookie Domain Periods - Cookie usage',cookieLifetime:'Visitor Cookie Lifetime - Cookie usage',dynamicVariablePrefix:'Dynamic Variables',s:'Screen Resolution - width x height',bw:'Browser Width - pixels',bh:'Browser Height - pixels',c:'Color Quality - bits',j:'Browser Javascript Version Installed',v:'Java Enabled',k:'Cookie Support',ndh:'App Measurement Origin',pf:'Platfrom Flag',t:'Timestamp - dd/mm/yyyy hh:mm:ss w o',lrt:'Last Request Timing - ms',};var labels=assignObjectInfo(otherLabels);labels=assignObjectInfo(eventsLabels,labels);labels=assignObjectInfo(evarsLabels,labels);labels=assignObjectInfo(propsLabels,labels);labels=assignObjectInfo(listLabels,labels);datalayerSettings[datalayerkey]={renamings:{'currency':{find:{include:/^cc$/},replace:'currencyCode'},'cookieDp':{find:{include:/^cdp$/},replace:'cookieDomainPeriods'},'charset':{find:{include:/^ce$/},replace:'charSet'},'cookieLt':{find:{include:/^cl$/},replace:'cookieLifetime'},'channel':{find:{include:/^ch$/},replace:'channel'},'dynamicVars':{find:{include:/^D$/},replace:'dynamicVariablePrefix'},'events':{find:{include:/^ev$/},replace:'events'},'pageName':{find:{include:/^gn$/},replace:'pageName'},'pageType':{find:{include:/^gt$/},replace:'pageType'},'namespace':{find:{include:/^ns$/},replace:'visitorNameSpace'},'products':{find:{include:/^pl$/},replace:'products'},'campaign':{find:{include:/^v0$/},replace:'campaign'},'referrer':{find:{include:/^r$/},replace:'referrer'},'server':{find:{include:/^sv$/},replace:'server'},'visitorId':{find:{include:/^vid$/},replace:'visitorID'},'prop':{find:{include:/^c(\d+)$/},replace:'prop$1'},'evar':{find:{include:/^v(\d+)$/},replace:'eVar$1'},'list':{find:{include:/^l(\d+)$/},replace:'list$1'},},groups:{'vendor':{label:'Vendor Variables',rules:{include:/^(account|server)$/,}},'events':{label:'Events / Metrics',rules:{include:/^events/,}},'list':{label:'List Variables',rules:{include:/^list\d+/,}},'products':{label:'Product Variables',rules:{include:/^products/,}},'props':{label:'Traffic Variables',rules:{include:/^prop\d+/,}},'evars':{label:'Conversion Variables',rules:{include:/^eVar\d+/,}},'other':{label:'Other Variables',rules:{include:/.*/,}},},labels:labels,tables:{events:{columnKey:null,columnLabels:'Description',columnValue:['Name','Serial ID','Value'],columns:['Type','Unique Event Recording','Participation'],data:{events:{row:[],extend:{row_separators:',',col_separators:[':','='],labels:eventsLabels,extraInfo:eventsExtraInfo,},},},},products:{columnKey:null,columnValue:['Category','Product ID','Units','Revenue','Events','Evars'],columns:[],columnDetails:{'Events':{table:{events:{columnKey:null,columnLabels:'Description',columnValue:['Name','Serial ID','Value'],columns:['Type','Unique Event Recording','Participation'],data:{events:{row:[],extend:{row_separators:'|',col_separators:[':','='],labels:eventsLabels,extraInfo:eventsExtraInfo,},},},}}},'Evars':{table:{evars:{columnKey:null,columnLabels:'Description',columnValue:['Name','Content'],columns:['Allocation','Expire After'],data:{evars:{row:[],extend:{row_separators:'|',col_separators:'=',labels:evarsLabels,extraInfo:evarsExtraInfo,},},},},}},},data:{products:{row:[],extend:{row_separators:',',col_separators:';',},},},},},};[{props:{columns:['List Support'],data:propsInfo,}},{evars:{columns:['Allocation','Expire After'],data:evarsInfo}},{lists:{columns:['Separator','Expire After','Allocation'],data:listInfo,}},].forEach(function(tableInfo){var tableKey=Object.keys(tableInfo)[0];datalayerSettings[datalayerkey].tables[tableKey]={columnKey:'Name',columnLabel:'Description',columnValue:['Content'],columns:tableInfo[tableKey].columns,data:{},};Object.keys(tableInfo[tableKey].data).forEach(function(dataKey){var dataInfo=assignObjectInfo(tableInfo[tableKey].data[dataKey]);var label=dataInfo.description;delete dataInfo.description;var row=Object.keys(dataInfo).map(function(key){return dataInfo[key]});datalayerSettings[datalayerkey].tables[tableKey].data[dataKey]={label:label,row:row,}});});}
else datalayerSettings[datalayerkey]={};}
datalayerSettings[datalayerkey].title=datalayerMap[datalayerkey];});}
{var userSettings={'no-user':{domURLParamsDetection:['analytics_steps=off'],},};var users=['biz','it','user','lwa'];users.forEach(function(user){userSettings[user]={domURLParamsDetection:(user==='biz'?['analytics_team=biz','tealium_team=biz','analytics_filter=off']
:user==='it'?['analytics_steps=on']
:user==='user'?['analytics_team=user','tealium_team=user']
:user==='lwa'?['analytics_team=lwa','tealium_team=lwa']
:[]),clearStorage:/^(user|lwa)$/.test(user)?true:false,betaExtensions:user==='lwa'?true:false,preserveLog:user==='biz'?false:true,utagDebugger:user==='lwa'?true:false,};datalayerKeys.forEach(function(datalayerkey){userSettings[user][datalayerkey]={enabled:((user==='biz'&&datalayerkey!=='adobe')
||(user==='it'&&(/^(preloader|builder|before_load_rules|after_load_rules|domready|listener|collect)$/.test(datalayerkey)||(datalayerkey==='utag_data'&&window.utag_cfg_ovrd&&window.utag_cfg_ovrd.noview)))
||(user==='user'&&(/^(preloader|domready|listener|collect)$/.test(datalayerkey)||(datalayerkey==='utag_data'&&window.utag_cfg_ovrd&&window.utag_cfg_ovrd.noview)))?false:true),options:{search:true,filters:true,sorting:true,groups:{enabled:true,applied:datalayerkey==='adobe'?true:false,opened:true,},details:{enabled:true,opened:user==='user'&&datalayerkey!=='adobe'?false:true,},objects:{opened:true,},tableView:true,},}});});}
window.AnalyticsLogConfiguration={storage:storage,trackingSettings:trackingSettings,datalayerSettings:datalayerSettings,userSettings:userSettings};}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:'Analytics Log > Configuration',context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:'Analytics Log > Configuration',fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.5.2 - Analytics Log - Component';var tealiumExtensionCode=function(){try{var analyticsLogCSSContainer=document.createElement('style');var analyticsLogCSSContent="#analyticsLogComponent svg.iconLogo g#SVGRepo_bgCarrier path{fill:var(--an-log-icon-color)}#analyticsLogComponent svg:not(.iconLogo)[fill]:not([fill=none]),#analyticsLogComponent svg:not(.iconLogo) g path[fill]:not([fill=none]){fill:var(--an-log-icon-color)}#analyticsLogComponent svg:not(.iconLogo)[stroke]:not([stroke=none]),#analyticsLogComponent svg:not(.iconLogo) g path[stroke]:not([stroke=none]){stroke:var(--an-log-icon-color)}#analyticsLogComponent svg:hover{filter:drop-shadow(0 0 10px var(--an-log-icon-hover-color));cursor:pointer}#analyticsLogComponent svg:active{filter:drop-shadow(0 0 10px var(--an-log-icon-active-color));cursor:grab}#analyticsLogComponent .--button--{font-size:10px;padding:4px 6px;border-radius:10px;border:1px solid;transition-property:color;transition-duration:.4s}#analyticsLogComponent .--button--:hover{cursor:pointer}#analyticsLogComponent .--link--.--button--{font-size:14px;padding:5px;background:transparent!important;border-color:transparent!important}#analyticsLogComponent .--chip--.--button--{font-weight:700;cursor:default;color:#003aa1;background:#ff0;text-shadow:0 0 1px #000000}#analyticsLogComponent .--button--:not(.--chip--){color:#000;background-color:green;border-color:#9acd32}#analyticsLogComponent .--button--:not(.--chip--):hover{color:green;background-color:#000;border-color:#9acd32}#analyticsLogComponent .--button--:not(.--chip--).active{color:#9acd32;background-color:#000;border-color:green}#analyticsLogComponent .--button--:not(.--chip--){color:var(--an-log-button-color);background-color:var(--an-log-background-color);border-color:var(--an-log-border-color)}#analyticsLogComponent .--button--:not(.--chip--):hover{color:var(--an-log-button-hover-color);background-color:var(--an-log-background-hover-color);border-color:var(--an-log-border-hover-color)}#analyticsLogComponent .--button--:not(.--chip--).active{color:var(--an-log-button-active-color);background-color:var(--an-log-background-active-color);border-color:var(--an-log-border-active-color)}#analyticsLogComponent pre{background:var(--an-log-code-background);overflow-x:auto;border:2px solid var(--an-log-code-border-color);border-radius:5px;scrollbar-width:thin;scrollbar-color:var(--an-log-code-scrollbar-color);padding:5px;margin:0}#analyticsLogComponent .--lineSeparator--{height:0;border:1px solid;margin:5px 0}#analyticsLogComponent .--lineSeparator--{border-color:#000}#analyticsLogComponent .--lineSeparator--{border-color:var(--an-log-border-color)}#analyticsLogComponent .--table--{white-space:wrap;overflow-x:auto;scrollbar-width:thin}#analyticsLogComponent .--table-- .--table-wrapper--{display:table;table-layout:auto;width:calc(100% - 5px);border:1px solid green;border-radius:5px}#analyticsLogComponent .--table-- .--table-wrapper-->div.--table-row--{display:table-row}#analyticsLogComponent .--table-- .--table-wrapper-->div.--table-row--.--table-head--{background-color:#0080004d;font-weight:900}#analyticsLogComponent .--table-- .--table-wrapper-->div.--table-row-->div.--table-col--{display:table-cell;padding:10px}#analyticsLogComponent .--table-- .--table-wrapper-- .--table-popup-details--{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10000000000;background:#000000e6;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center}#analyticsLogComponent .--table-- .--table-wrapper-- .--table-popup-details-- .--table-popup-container--{max-width:650px;width:100%;min-height:250px;border:2px solid var(--an-log-border-color);border-radius:5px;display:flex;flex-direction:column;padding:10px;margin:10px;box-sizing:border-box;background-color:var(--an-log-background-color)}#analyticsLogComponent .--table-map-- .--table-map-row-object--{padding-left:20px}#analyticsLogComponent .--table-map-- .--table-map-row-object--.--collapsed--{display:none}#analyticsLogComponent .--table-map-- .--table-map-row--{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:space-between;align-items:flex-start;border-bottom:1px solid;border-radius:3px;border-color:var(--an-log-table-map-row-border-color)!important;width:100%;box-sizing:content-box}#analyticsLogComponent .--table-map-- .--table-map-row--:hover{background-color:var(--an-log-row-background-hover-color)!important}#analyticsLogComponent .--table-map-- .--table-map-row-- svg{height:20px;width:20px}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col--{display:flex;flex-direction:row;flex-wrap:wrap;align-content:center;justify-content:space-between;align-items:center;width:100%;margin:0 5px 5px;white-space:wrap;overflow-x:auto;scrollbar-width:thin}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-main--{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-main-->div{margin-top:5px}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--{padding-right:5px}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--success-- svg:not(.iconLogo) g path[fill]:not([fill=none]),#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--success-- svg:not(.iconLogo) g circle[fill]:not([fill=none]){fill:#00ab00}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--success-- svg:not(.iconLogo) g path[stroke]:not([stroke=none]),#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--success-- svg:not(.iconLogo) g circle[stroke]:not([stroke=none]){stroke:#00ab00}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--warning-- svg:not(.iconLogo) g path[fill]:not([fill=none]),#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--warning-- svg:not(.iconLogo) g circle[fill]:not([fill=none]){fill:#ff8c00}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--warning-- svg:not(.iconLogo) g path[stroke]:not([stroke=none]),#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--warning-- svg:not(.iconLogo) g circle[stroke]:not([stroke=none]){stroke:#ff8c00}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--error-- svg:not(.iconLogo) g path[fill]:not([fill=none]),#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--error-- svg:not(.iconLogo) g circle[fill]:not([fill=none]){fill:#ff0000c7}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--error-- svg:not(.iconLogo) g path[stroke]:not([stroke=none]),#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--error-- svg:not(.iconLogo) g circle[stroke]:not([stroke=none]){stroke:#ff0000c7}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--skip-- svg:not(.iconLogo) g path[fill]:not([fill=none]),#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--skip-- svg:not(.iconLogo) g circle[fill]:not([fill=none]){fill:#6b6b6bbb}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--skip-- svg:not(.iconLogo) g path[stroke]:not([stroke=none]),#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon--.--skip-- svg:not(.iconLogo) g circle[stroke]:not([stroke=none]){stroke:#6b6b6bbb}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-icon-- svg:hover{filter:drop-shadow(0 0 3px rgb(95,179,116))}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-key--{background-color:var(--an-log-table-map-color-1)!important;border-radius:3px;padding:4px 6px;margin-right:5px}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-col-value--{background-color:var(--an-log-table-map-color-2)!important;border-radius:3px;padding:4px 6px}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-details--{padding:4px;margin-top:5px;border-radius:3px;color:var(--an-log-color);background-color:#2e2e2e94}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-details-- a{color:var(--an-log-results-notifications-link-color);text-decoration:unset;font-weight:800}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-details-- a:hover{color:var(--an-log-results-notifications-link-hover-color)}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-details--.--success--{color:var(--an-log-results-notifications-success-color);background-color:var(--an-log-results-notifications-success-background-color)}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-details--.--warning--{color:var(--an-log-results-notifications-warning-color);background-color:var(--an-log-results-notifications-warning-background-color)}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-details--.--error--{color:var(--an-log-results-notifications-error-color);background-color:var(--an-log-results-notifications-error-background-color)}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-- .--table-map-details--.--skip--{color:var(--an-log-results-notifications-skip-color);background-color:var(--an-log-results-notifications-skip-background-color)}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-show-details--{margin:5px 5px 0 0;height:20px}#analyticsLogComponent .--table-map-- .--table-map-row--{background:var(--an-log-row-background-color);border-color:var(--an-log-row-border-color);scrollbar-color:var(--an-log-scrollbar-color)}#analyticsLogComponent .--table-map-- .--table-map-row-- .--table-map-col-key--{background-color:var(--an-log-col-background-color)}#analyticsLogComponent .--panel--{margin:5px 0}#analyticsLogComponent .--panel-- .--panel--title--{border:1px solid darkorange;background-color:#ffa50026;border-radius:5px 5px 0 0;padding:10px;display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:space-between;height:min-content;min-height:25px;font-size:14px;font-weight:900}#analyticsLogComponent .--panel-- .--panel--title--:hover{background-color:#ffa60036}#analyticsLogComponent .--panel-- .--panel--title-- svg{height:25px;width:25px}#analyticsLogComponent .--panel-- .--panel--content--{border:1px solid darkorange;border-radius:0 0 5px 5px;padding:10px}#analyticsLogComponent .--screen--{box-sizing:border-box;position:fixed;left:0;top:0;z-index:1000000000000000000;width:100%;height:100%;margin:0;padding:5px;border:2px solid;border-radius:5px;text-align:left;display:flex;flex-direction:column}#analyticsLogComponent .--screen--{background-color:#fff;color:#000;border-color:#000;scrollbar-color:unset;visibility:hidden}#analyticsLogComponent .--screen--.--collapsed--{visibility:visible}#analyticsLogComponent .--screen-- .--screen-header--{height:min-content;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;background-color:var(--an-log-screen-header-background-color);border-radius:2px}#analyticsLogComponent .--screen-- .--screen-header-- .--screen-titles--{padding:5px}#analyticsLogComponent .--screen-- .--screen-header-- .--screen-title--{font-size:20px}#analyticsLogComponent .--screen-- .--screen-header-- .--screen-subtitle--{font-size:16px}#analyticsLogComponent .--screen-- .--screen-header-- .--screen-close--{position:relative;height:40px}#analyticsLogComponent .--screen-- .--screen-header-- .--screen-close-- svg{height:35px;width:35px}#analyticsLogComponent .--screen-- .--screen-content--{padding:5px;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-width:thin}#analyticsLogComponent .--screen--{background-color:var(--an-log-background-color);color:var(--an-log-color);border-color:var(--an-log-border-color);scrollbar-color:var(--an-log-scrollbar-color)}#analyticsLogComponent .analyticsLogOpen{position:fixed;left:10px;bottom:10px;width:40px;height:40px;z-index:1000000000000000000}#analyticsLogComponent .analyticsLogFunctions{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-end;align-items:center;align-content:space-around;width:calc(100% - 320px);font-size:14px}@media only screen and (max-width: 767px){#analyticsLogComponent .analyticsLogFunctions{width:100%;justify-content:space-between;align-items:flex-start}}#analyticsLogComponent .analyticsLogPanelActions{display:flex;height:40px}@media only screen and (max-width: 767px){#analyticsLogComponent .analyticsLogPanelActions{position:absolute;top:5px;right:0}}#analyticsLogComponent .analyticsLogPanelActions svg{height:25px;padding-right:5px}#analyticsLogComponent .analyticsLogTitle{display:flex;float:left;height:50px}#analyticsLogComponent .analyticsLogTitle svg.iconLogo{height:50px;width:50px;display:inline;margin-top:-31px}#analyticsLogComponent .analyticsLogTitle .--title--{font-size:19px;font-weight:700;margin-top:12px}#analyticsLogComponent .analyticsLogPanelHeader{height:min-content;box-sizing:border-box;display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;justify-content:space-between;align-items:center}#analyticsLogComponent .analyticsLogLineInfo .--content--{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-items:center;align-content:center;padding:5px;font-size:12px}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--text--{margin-right:10px}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--index--{color:#000;padding-right:5px}#analyticsLogComponent .analyticsLogLineInfo .--content-- svg{height:20px;width:20px;padding-right:8px}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--success-- svg:not(.iconLogo) g[fill]:not([fill=none]){fill:#00ab00}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--success-- svg:not(.iconLogo) g path[fill]:not([fill=none]),#analyticsLogComponent .analyticsLogLineInfo .--content-- .--success-- svg:not(.iconLogo) g circle[fill]:not([fill=none]){fill:#00ab00}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--success-- svg:not(.iconLogo) g path[stroke]:not([stroke=none]),#analyticsLogComponent .analyticsLogLineInfo .--content-- .--success-- svg:not(.iconLogo) g circle[stroke]:not([stroke=none]){stroke:#00ab00}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--success-- svg:hover{filter:none}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--success-- svg{cursor:unset}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--error-- svg:not(.iconLogo) g[fill]:not([fill=none]){fill:#ff0000c7}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--error-- svg:not(.iconLogo) g path[fill]:not([fill=none]),#analyticsLogComponent .analyticsLogLineInfo .--content-- .--error-- svg:not(.iconLogo) g circle[fill]:not([fill=none]){fill:#ff0000c7}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--error-- svg:not(.iconLogo) g path[stroke]:not([stroke=none]),#analyticsLogComponent .analyticsLogLineInfo .--content-- .--error-- svg:not(.iconLogo) g circle[stroke]:not([stroke=none]){stroke:#ff0000c7}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--error-- svg:hover{filter:none}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--error-- svg:hover{filter:drop-shadow(0 0 3px rgb(95,179,116))}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--disabled-- svg:not(.iconLogo) g[fill]:not([fill=none]){fill:#666666c7}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--disabled-- svg:not(.iconLogo) g path[fill]:not([fill=none]),#analyticsLogComponent .analyticsLogLineInfo .--content-- .--disabled-- svg:not(.iconLogo) g circle[fill]:not([fill=none]){fill:#666666c7}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--disabled-- svg:not(.iconLogo) g path[stroke]:not([stroke=none]),#analyticsLogComponent .analyticsLogLineInfo .--content-- .--disabled-- svg:not(.iconLogo) g circle[stroke]:not([stroke=none]){stroke:#666666c7}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--disabled-- svg:hover{filter:none}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--disabled-- svg{cursor:unset}#analyticsLogComponent .analyticsLogLineInfo .--notification-error--{box-sizing:border-box;width:100%;padding:5px;border-radius:3px;font-size:12px;color:var(--an-log-notifications-error-color);background-color:var(--an-log-notifications-error-background-color)}#analyticsLogComponent .analyticsLogLineInfo .--content-- .--index--{color:var(--an-log-button-color)}#analyticsLogComponent .analyticsLogPanelInfo .--title--{padding:5px 0;font-size:14px;font-weight:700}#analyticsLogComponent .analyticsLogPanelContent{padding:0 10px;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-width:thin}#analyticsLogComponent .analyticsLogPanelContent{scrollbar-color:var(--an-log-scrollbar-color)}#analyticsLogComponent .analyticsLogPanel{box-sizing:border-box;position:fixed;left:0;bottom:0;z-index:1000000000000000000;width:100%;height:365px;margin:0;padding:5px;border:2px solid;border-radius:8px;text-align:left;display:flex;flex-direction:column;transition-property:background-color;transition-duration:.5s;transition-timing-function:linear}#analyticsLogComponent .analyticsLogPanel{background-color:#fff;color:#000;border-color:#000;visibility:hidden}#analyticsLogComponent .analyticsLogPanel.--collapsed--{visibility:visible}#analyticsLogComponent .analyticsLogPanel.--fullScreen--{height:calc(100% - 25px)}#analyticsLogComponent .analyticsLogPanel{background-color:var(--an-log-background-color);color:var(--an-log-color);border-color:var(--an-log-border-color)}#analyticsLogComponent .analyticsDatalayerScreen{box-sizing:border-box}#analyticsLogComponent .analyticsDatalayerScreen .--filters-wrapper--{background-color:var(--an-log-filters-wrapper-background-color);padding:5px;border-radius:3px}#analyticsLogComponent .analyticsDatalayerScreen .--filters--{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:flex-start;height:min-content;min-height:20px;background-color:var(--an-log-filters-background-color);border-radius:3px;padding:5px;margin:2px 0}#analyticsLogComponent .analyticsDatalayerScreen .--filters-- label[for=search]{display:inline-flex;flex-direction:row;align-items:center;flex-wrap:nowrap}#analyticsLogComponent .analyticsDatalayerScreen .--filters-- label[for=search] div:nth-child(1){font-weight:800;padding-right:5px}@media only screen and (max-width: 479px){#analyticsLogComponent .analyticsDatalayerScreen .--filters-- label[for=search] div:nth-child(1){display:none}}#analyticsLogComponent .analyticsDatalayerScreen .--filters-- label[for=search] div:nth-child(2){display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:flex-start;align-items:center;background-color:var(--an-log-filters-search-background-color);color:var(--an-log-color);width:min-content;min-width:285px;height:25px;border-radius:10px;border-color:var(--an-log-filters-search-border-color);border-style:solid;font-size:10px}#analyticsLogComponent .analyticsDatalayerScreen .--filters-- label[for=search] div:nth-child(2) svg{height:16px;margin-left:5px}#analyticsLogComponent .analyticsDatalayerScreen .--filters-- label[for=search] div:nth-child(2) svg path{stroke:var(--an-log-color)!important}#analyticsLogComponent .analyticsDatalayerScreen .--filters-- input#search{background-color:transparent;color:var(--an-log-filters-search-color);width:min-content;min-width:280px;height:20px;border-color:transparent;border-style:unset;border-image:unset;font-family:monospace,Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;font-size:11px;font-weight:900;margin:0 5px;padding:0 5px}#analyticsLogComponent .analyticsDatalayerScreen .--filters-- input#search:focus,#analyticsLogComponent .analyticsDatalayerScreen .--filters-- input#search:focus-visible,#analyticsLogComponent .analyticsDatalayerScreen .--filters-- input#search:focus-within,#analyticsLogComponent .analyticsDatalayerScreen .--filters-- input#search:is(:-webkit-autofill,:autofill){background-color:var(--an-log-filters-search-background-color);border-color:transparent;border-radius:0 8px 8px 0;outline:unset}#analyticsLogComponent .analyticsDatalayerScreen .--filters-- input#search::placeholder,#analyticsLogComponent .analyticsDatalayerScreen .--filters-- input#search::-ms-input-placeholder{font-weight:400!important;color:gray!important;opacity:1}#analyticsLogComponent .analyticsDatalayerScreen .--filters-- label:nth-child(n+2){margin-left:15px}#analyticsLogComponent .analyticsDatalayerScreen .--filters-- label:nth-child(n+2) input{margin:5px;display:initial;vertical-align:sub;height:auto;width:auto;position:relative;opacity:1}#analyticsLogComponent .analyticsDatalayerScreen .--results-- .--summary--{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:space-between;height:min-content;background-color:var(--an-log-results-summary-background-color);border-radius:3px}#analyticsLogComponent .analyticsDatalayerScreen .--results-- .--summary-- svg{height:30px;width:30px}#analyticsLogComponent .analyticsDatalayerScreen .--results-- .--summary-- .--count--{padding:5px}#analyticsLogComponent .analyticsDatalayerScreen .--results-- .--summary-- .--count-- .--label{font-weight:bolder}#analyticsLogComponent .analyticsDatalayerScreen .--results-- .--summary-- .--actions--{display:flex}#analyticsLogComponent .analyticsDatalayerScreen .--results-- .--notification--{border:1px solid;border-radius:5px;margin:5px 0;padding:10px;color:var(--an-log-notifications-info-color);border-color:var(--an-log-notifications-info-border-color);background-color:var(--an-log-notifications-info-background-color)}#analyticsLogComponent .analyticsDatalayerScreen .--results-- .--notification--.--success--{color:var(--an-log-notifications-success-color);border-color:var(--an-log-notifications-success-border-color);background-color:var(--an-log-notifications-success-background-color)}#analyticsLogComponent .analyticsDatalayerScreen .--results-- .--notification--.--warning--{color:var(--an-log-notifications-warning-color);border-color:var(--an-log-notifications-warning-border-color);background-color:var(--an-log-notifications-warning-background-color)}#analyticsLogComponent .analyticsDatalayerScreen .--results-- .--notification--.--error--{color:var(--an-log-notifications-error-color);border-color:var(--an-log-notifications-error-border-color);background-color:var(--an-log-notifications-error-background-color)}#analyticsLogComponent .betaExtensionScreen .--container--{padding-bottom:5px}#analyticsLogComponent .betaExtensionScreen .--container-- label.--title--{line-height:1.5;padding:0 5px}@media only screen and (max-width: 767px){#analyticsLogComponent .betaExtensionScreen .--container-- label.--title--{padding:0}}#analyticsLogComponent .betaExtensionScreen .--container-- textarea.--content--{box-sizing:border-box;width:100%;height:95px;overflow:hidden;padding:5px;resize:none;border-radius:5px;border:2px solid;background:#ffffffc9;color:#000;font-size:11px;font-weight:700;font-family:monospace}#analyticsLogComponent .betaExtensionScreen #betaExt--refresh{position:fixed;bottom:15px;right:25px;width:50px}#analyticsLogComponent .betaExtensionScreen .--screen-header--{align-items:center}#analyticsLogComponent .betaExtensionScreen .--container-- textarea.--content--{border-color:var(--an-log-border-color)}#analyticsLogComponent [data-analytics-theme=dark]{--an-log-color: white;--an-log-background-color: #000000e6;--an-log-border-color: #1fb745;--an-log-hover-color: #5fb374aa;--an-log-active-color: #222;color:var(--an-log-color);background-color:var(--an-log-background-color);border-color:var(--an-log-border-color);--an-log-icon-color: var(--an-log-border-color);--an-log-icon-hover-color: var(--an-log-hover-color);--an-log-icon-active-color: var(--an-log-active-color);--an-log-button-color: #aaaaaa;--an-log-button-background-color: var(--an-log-background-color);--an-log-button-border-color: var(--an-log-border-color);--an-log-button-hover-color: var(--an-log-color);--an-log-button-background-hover-color: var(--an-log-background-color);--an-log-button-border-hover-color: var(--an-log-border-color);--an-log-button-active-color: yellowgreen;--an-log-button-background-active-color: var(--an-log-background-color);--an-log-button-border-active-color: var(--an-log-border-color);--an-log-scrollbar-color: var(--an-log-background-color) var(--an-log-border-color);--an-log-row-background-color: #0a0a0a;--an-log-row-background-hover-color: #151515;--an-log-row-border-color: greenyellow;--an-log-col-background-color: var(--an-log-hover-color);--an-log-table-map-color-1: #222222;--an-log-table-map-color-2:#22222259;--an-log-table-map-row-border-color: #adff2f66;--an-log-screen-header-background-color: #498b052e;--an-log-results-summary-background-color: #00323b66;--an-log-results-notifications-success-color: var(--an-log-color);--an-log-results-notifications-success-background-color:#00800059;--an-log-results-notifications-warning-color: var(--an-log-color);--an-log-results-notifications-warning-background-color: #ffff0059;--an-log-results-notifications-error-color: var(--an-log-color);--an-log-results-notifications-error-background-color: #ff000059;--an-log-results-notifications-skip-color: var(--an-log-color);--an-log-results-notifications-skip-background-color: #c2bfbf59;--an-log-results-notifications-link-color: lightblue;--an-log-results-notifications-link-hover-color: black;--an-log-code-background: #0a0a0a;--an-log-code-border-color: yellowgreen;--an-log-code-scrollbar-color: black yellowgreen;--an-log-notifications-info-color: var(--an-log-color);--an-log-notifications-info-border-color: cyan;--an-log-notifications-info-background-color: #00ffff2b;--an-log-notifications-success-color: var(--an-log-color);--an-log-notifications-success-border-color: green;--an-log-notifications-success-background-color: #00800047;--an-log-notifications-warning-color: var(--an-log-color);--an-log-notifications-warning-border-color: yellow;--an-log-notifications-warning-background-color: #ffff0036;--an-log-notifications-error-color: var(--an-log-color);--an-log-notifications-error-border-color: red;--an-log-notifications-error-background-color: #ff00004d;--an-log-filters-wrapper-background-color: #1c1c1cb3;--an-log-filters-background-color: #80808026;--an-log-filters-search-color: #3e99de;--an-log-filters-search-border-color: #0a0a0a;--an-log-filters-search-background-color: #00000059}#analyticsLogComponent [data-analytics-theme=light]{--an-log-color: #222;--an-log-background-color: #dce7f7e6;--an-log-border-color: #88c2e8;--an-log-hover-color: #023c5eaa;--an-log-active-color: #d6d6d6;color:var(--an-log-color);background-color:var(--an-log-background-color);border-color:var(--an-log-border-color);--an-log-icon-color: var(--an-log-border-color);--an-log-icon-hover-color: var(--an-log-hover-color);--an-log-icon-active-color: var(--an-log-active-color);--an-log-button-color: #7e7e7e;--an-log-button-background-color: var(--an-log-background-color);--an-log-button-border-color: var(--an-log-border-color);--an-log-button-hover-color: var(--an-log-color);--an-log-button-background-hover-color: var(--an-log-background-color);--an-log-button-border-hover-color: var(--an-log-border-color);--an-log-button-active-color: steelblue;--an-log-button-background-active-color: var(--an-log-background-color);--an-log-button-border-active-color: var(--an-log-border-color);--an-log-scrollbar-color: var(--an-log-background-color) var(--an-log-border-color);--an-log-row-background-color: #dcedffa8;--an-log-row-background-hover-color: #b6ecff59;--an-log-row-border-color: #319bdd;--an-log-col-background-color: #5c9acc;--an-log-table-map-color-1: #88c2e861;--an-log-table-map-color-2:#9cbdc059;--an-log-table-map-row-border-color: #2fa7ff66;--an-log-screen-header-background-color: #b0daf5a3;--an-log-results-summary-background-color: #bfddf5cc;--an-log-results-notifications-success-color: darkgreen;--an-log-results-notifications-success-background-color:#00800059;--an-log-results-notifications-warning-color: darkorange;--an-log-results-notifications-warning-background-color: #ffff0059;--an-log-results-notifications-error-color: darkred;--an-log-results-notifications-error-background-color: #ff000059;--an-log-results-notifications-skip-color: #313131;--an-log-results-notifications-skip-background-color: #666666a8;--an-log-results-notifications-link-color: #003f70;--an-log-results-notifications-link-hover-color: white;--an-log-code-background: #ffffff24;--an-log-code-border-color: var(--an-log-border-color);--an-log-code-scrollbar-color: #ffffff var(--an-log-border-color);--an-log-notifications-info-color: darkcyan;--an-log-notifications-info-border-color: cyan;--an-log-notifications-info-background-color: #00ffff2b;--an-log-notifications-success-color: darkgreen;--an-log-notifications-success-border-color: green;--an-log-notifications-success-background-color: #00800047;--an-log-notifications-warning-color: darkorange;--an-log-notifications-warning-border-color: yellow;--an-log-notifications-warning-background-color: #ffff0036;--an-log-notifications-error-color: darkred;--an-log-notifications-error-border-color: red;--an-log-notifications-error-background-color: #ff00004d;--an-log-filters-wrapper-background-color: #b6c8dba8;--an-log-filters-background-color: #80808026;--an-log-filters-search-color: #0078d4;--an-log-filters-search-border-color: #dcedffa8;--an-log-filters-search-background-color: #ffffff54}#analyticsLogComponent{font-family:monospace,Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;font-weight:400;font-synthesis:none;font-size:12px;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%;letter-spacing:normal;height:0;width:0}#analyticsLogComponent *,#analyticsLogComponent *:before,#analyticsLogComponent *:after{box-sizing:unset;line-height:initial}#analyticsLogComponent label{font-size:12px;color:var(--an-log-color)!important;font-family:monospace,Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;margin:0;display:initial;position:initial}#analyticsLogComponent label.--title{font-weight:800}";if(analyticsLogCSSContainer){analyticsLogCSSContainer.appendChild(document.createTextNode(analyticsLogCSSContent));var headContainer=document.head||document.getElementsByTagName('head')[0];if(!headContainer)throw new Error('Document head is null. Review the import of utag.js on site!');headContainer.appendChild(analyticsLogCSSContainer);}
var analyticsLogDOMContainer=document.createElement('div');analyticsLogDOMContainer.id='analyticsLogComponent';analyticsLogDOMContainer.setAttribute('data-analytics_available_call','0');var bodyContainer=document.body||document.getElementsByTagName('body')[0];if(!bodyContainer)throw new Error('Document body is null. Review the import of utag.js on site!');bodyContainer.appendChild(analyticsLogDOMContainer);var _excluded=["children"],_excluded2=["children"],_excluded3=["children"],_excluded4=["children"],_excluded5=["children","key"],_excluded6=["children"],_excluded7=["children"],_excluded8=["children"];function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r);}
function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r);}
function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o]);}return i;}
function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n];}return t;}
function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1;}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r;}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return;}finally{if(o)throw n;}}return a;}}
function _arrayWithHoles(r){if(Array.isArray(r))return r;}
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}
function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}
function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e;}
function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o;}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;},_typeof(o);}
function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o);}}
function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;}
function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+"";}
function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t);}
function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}
function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n2=0,F=function F(){};return{s:F,n:function n(){return _n2>=r.length?{done:!0}:{done:!1,value:r[_n2++]};},e:function e(r){throw r;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var o,a=!0,u=!1;return{s:function s(){t=t.call(r);},n:function n(){var r=t.next();return a=r.done,r;},e:function e(r){u=!0,o=r;},f:function f(){try{a||null==t["return"]||t["return"]();}finally{if(u)throw o;}}};}
function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0;}}
function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n;}
(function(){var e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;var _iterator=_createForOfIteratorHelper(document.querySelectorAll('link[rel="modulepreload"]')),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var r=_step.value;l(r);}}catch(err){_iterator.e(err);}finally{_iterator.f();}
new MutationObserver(function(r){var _iterator2=_createForOfIteratorHelper(r),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var a=_step2.value;if(a.type==="childList"){var _iterator3=_createForOfIteratorHelper(a.addedNodes),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var i=_step3.value;i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}).observe(document,{childList:!0,subtree:!0});function n(r){var a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a;}
function l(r){if(r.ep)return;r.ep=!0;var a=n(r);fetch(r.href,a);}})();var Se,k,dt,Y,Ke,ut,Ve,$e,Re,Oe,ht,he={},pt=[],Cn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ie=Array.isArray;function z(t,e){for(var n in e)t[n]=e[n];return t;}
function _t(t){var e=t.parentNode;e&&e.removeChild(t);}
function mn(t,e,n){var l,r,a,i={};for(a in e)a=="key"?l=e[a]:a=="ref"?r=e[a]:i[a]=e[a];if(arguments.length>2&&(i.children=arguments.length>3?Se.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)i[a]===void 0&&(i[a]=t.defaultProps[a]);return be(t,i,l,r,null);}
function be(t,e,n,l,r){var a={type:t,props:e,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r!==null&&r!==void 0?r:++dt,__i:-1,__u:0};return r==null&&k.vnode!=null&&k.vnode(a),a;}
function P(t){return t.children;}
function ve(t,e){this.props=t,this.context=e;}
function Q(t,e){if(e==null)return t.__?Q(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Q(t):null;}
function ft(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break;}
return ft(t);}}
function Te(t){(!t.__d&&(t.__d=!0)&&Y.push(t)&&!ke.__r++||Ke!==k.debounceRendering)&&((Ke=k.debounceRendering)||ut)(ke);}
function ke(){var t,e,n,l,r,a,i,c;for(Y.sort(Ve);t=Y.shift();){var _a;t.__d&&(e=Y.length,l=void 0,a=(r=(n=t).__v).__e,i=[],c=[],n.__P&&((l=z({},r)).__v=r.__v+1,k.vnode&&k.vnode(l),Ze(n.__P,l,r,n.__n,n.__P.namespaceURI,32&r.__u?[a]:null,i,(_a=a)!==null&&_a!==void 0?_a:Q(r),!!(32&r.__u),c),l.__v=r.__v,l.__.__k[l.__i]=l,mt(i,l,c),l.__e!=a&&ft(l)),Y.length>e&&Y.sort(Ve));}
ke.__r=0;}
function gt(t,e,n,l,r,a,i,c,u,d,h){var o,_,p,m,v,w=l&&l.__k||pt,g=e.length;for(n.__d=u,yn(n,e,w),u=n.__d,o=0;o<g;o++)(p=n.__k[o])!=null&&typeof p!="boolean"&&typeof p!="function"&&(_=p.__i===-1?he:w[p.__i]||he,p.__i=o,Ze(t,p,_,r,a,i,c,u,d,h),m=p.__e,p.ref&&_.ref!=p.ref&&(_.ref&&qe(_.ref,null,p),h.push(p.ref,p.__c||m,p)),v==null&&m!=null&&(v=m),65536&p.__u||_.__k===p.__k?u=Ct(p,u,t):typeof p.type=="function"&&p.__d!==void 0?u=p.__d:m&&(u=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=u,n.__e=v;}
function yn(t,e,n){var l,r,a,i,c,u=e.length,d=n.length,h=d,o=0;for(t.__k=[],l=0;l<u;l++)i=l+o,(r=t.__k[l]=(r=e[l])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?be(null,r,null,null,null):Ie(r)?be(P,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?be(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=t,r.__b=t.__b+1,c=bn(r,n,i,h),r.__i=c,a=null,c!==-1&&(h--,(a=n[c])&&(a.__u|=131072)),a==null||a.__v===null?(c==-1&&o--,typeof r.type!="function"&&(r.__u|=65536)):c!==i&&(c==i-1?o=c-i:c==i+1?o++:c>i?h>u-i?o+=c-i:o--:c<i&&o++,c!==l+o&&(r.__u|=65536))):(a=n[i])&&a.key==null&&a.__e&&!(131072&a.__u)&&(a.__e==t.__d&&(t.__d=Q(a)),je(a,a,!1),n[i]=null,h--);if(h)for(l=0;l<d;l++)(a=n[l])!=null&&!(131072&a.__u)&&(a.__e==t.__d&&(t.__d=Q(a)),je(a,a));}
function Ct(t,e,n){var l,r;if(typeof t.type=="function"){for(l=t.__k,r=0;l&&r<l.length;r++)l[r]&&(l[r].__=t,e=Ct(l[r],e,n));return e;}
t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Q(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e;}
function bn(t,e,n,l){var r=t.key,a=t.type,i=n-1,c=n+1,u=e[n];if(u===null||u&&r==u.key&&a===u.type&&!(131072&u.__u))return n;if(l>(u!=null&&!(131072&u.__u)?1:0))for(;i>=0||c<e.length;){if(i>=0){if((u=e[i])&&!(131072&u.__u)&&r==u.key&&a===u.type)return i;i--;}
if(c<e.length){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&a===u.type)return c;c++;}}
return-1;}
function Xe(t,e,n){e[0]==="-"?t.setProperty(e,n!==null&&n!==void 0?n:""):t[e]=n==null?"":typeof n!="number"||Cn.test(e)?n:n+"px";}
function Ce(t,e,n,l,r){var a;e:if(e==="style"){if(typeof n=="string")t.style.cssText=n;else{if(typeof l=="string"&&(t.style.cssText=l=""),l)for(e in l)n&&e in n||Xe(t.style,e,"");if(n)for(e in n)l&&n[e]===l[e]||Xe(t.style,e,n[e]);}}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?l?n.u=l.u:(n.u=$e,t.addEventListener(e,a?Oe:Re,a)):t.removeEventListener(e,a?Oe:Re,a);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n!==null&&n!==void 0?n:"";break e;}catch(_unused){}
typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n));}}
function Je(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=$e++;else if(e.t<n.u)return;return n(k.event?k.event(e):e);}};}
function Ze(t,e,n,l,r,a,i,c,u,d){var h,o,_,p,m,v,w,g,b,M,L,U,B,G,H,X,A=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),a=[c=e.__e=n.__e]),(h=k.__b)&&h(e);e:if(typeof A=="function")try{if(g=e.props,b="prototype"in A&&A.prototype.render,M=(h=A.contextType)&&l[h.__c],L=h?M?M.props.value:h.__:l,n.__c?w=(o=e.__c=n.__c).__=o.__E:(b?e.__c=o=new A(g,L):(e.__c=o=new ve(g,L),o.constructor=A,o.render=wn),M&&M.sub(o),o.props=g,o.state||(o.state={}),o.context=L,o.__n=l,_=o.__d=!0,o.__h=[],o._sb=[]),b&&o.__s==null&&(o.__s=o.state),b&&A.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=z({},o.__s)),z(o.__s,A.getDerivedStateFromProps(g,o.__s))),p=o.props,m=o.state,o.__v=e,_)b&&A.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),b&&o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(b&&A.getDerivedStateFromProps==null&&g!==p&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(g,L),!o.__e&&(o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(g,o.__s,L)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(o.props=g,o.state=o.__s,o.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(ae){ae&&(ae.__=e);}),U=0;U<o._sb.length;U++)o.__h.push(o._sb[U]);o._sb=[],o.__h.length&&i.push(o);break e;}
o.componentWillUpdate!=null&&o.componentWillUpdate(g,o.__s,L),b&&o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(p,m,v);});}
if(o.context=L,o.props=g,o.__P=t,o.__e=!1,B=k.__r,G=0,b){for(o.state=o.__s,o.__d=!1,B&&B(e),h=o.render(o.props,o.state,o.context),H=0;H<o._sb.length;H++)o.__h.push(o._sb[H]);o._sb=[];}else do o.__d=!1,B&&B(e),h=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++G<25);o.state=o.__s,o.getChildContext!=null&&(l=z(z({},l),o.getChildContext())),b&&!_&&o.getSnapshotBeforeUpdate!=null&&(v=o.getSnapshotBeforeUpdate(p,m)),gt(t,Ie(X=h!=null&&h.type===P&&h.key==null?h.props.children:h)?X:[X],e,n,l,r,a,i,c,u,d),o.base=e.__e,e.__u&=-161,o.__h.length&&i.push(o),w&&(o.__E=o.__=null);}catch(ae){if(e.__v=null,u||a!=null){for(e.__u|=u?160:32;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,e.__e=c;}else e.__e=n.__e,e.__k=n.__k;k.__e(ae,e,n);}else a==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=vn(n.__e,e,n,l,r,a,i,u,d);(h=k.diffed)&&h(e);}
function mt(t,e,n){e.__d=void 0;for(var l=0;l<n.length;l++)qe(n[l],n[++l],n[++l]);k.__c&&k.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(a){a.call(r);});}catch(a){k.__e(a,r.__v);}});}
function vn(t,e,n,l,r,a,i,c,u){var d,h,o,_,p,m,v,w=n.props,g=e.props,b=e.type;if(b==="svg"?r="http://www.w3.org/2000/svg":b==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((p=a[d])&&"setAttribute"in p==!!b&&(b?p.localName===b:p.nodeType===3)){t=p,a[d]=null;break;}}
if(t==null){if(b===null)return document.createTextNode(g);t=document.createElementNS(r,b,g.is&&g),a=null,c=!1;}
if(b===null)w===g||c&&t.data===g||(t.data=g);else{if(a=a&&Se.call(t.childNodes),w=n.props||he,!c&&a!=null)for(w={},d=0;d<t.attributes.length;d++)w[(p=t.attributes[d]).name]=p.value;for(d in w)if(p=w[d],d!="children"){if(d=="dangerouslySetInnerHTML")o=p;else if(d!=="key"&&!(d in g)){if(d=="value"&&"defaultValue"in g||d=="checked"&&"defaultChecked"in g)continue;Ce(t,d,null,p,r);}}
for(d in g)p=g[d],d=="children"?_=p:d=="dangerouslySetInnerHTML"?h=p:d=="value"?m=p:d=="checked"?v=p:d==="key"||c&&typeof p!="function"||w[d]===p||Ce(t,d,p,w[d],r);if(h)c||o&&(h.__html===o.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(o&&(t.innerHTML=""),gt(t,Ie(_)?_:[_],e,n,l,b==="foreignObject"?"http://www.w3.org/1999/xhtml":r,a,i,a?a[0]:n.__k&&Q(n,0),c,u),a!=null)for(d=a.length;d--;)a[d]!=null&&_t(a[d]);c||(d="value",m!==void 0&&(m!==t[d]||b==="progress"&&!m||b==="option"&&m!==w[d])&&Ce(t,d,m,w[d],r),d="checked",v!==void 0&&v!==t[d]&&Ce(t,d,v,w[d],r));}
return t;}
function qe(t,e,n){try{if(typeof t=="function"){var l=typeof t.__u=="function";l&&t.__u(),l&&e==null||(t.__u=t(e));}else t.current=e;}catch(r){k.__e(r,n);}}
function je(t,e,n){var l,r;if(k.unmount&&k.unmount(t),(l=t.ref)&&(l.current&&l.current!==t.__e||qe(l,null,e)),(l=t.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount();}catch(a){k.__e(a,e);}
l.base=l.__P=null;}
if(l=t.__k)for(r=0;r<l.length;r++)l[r]&&je(l[r],e,n||typeof t.type!="function");n||t.__e==null||_t(t.__e),t.__c=t.__=t.__e=t.__d=void 0;}
function wn(t,e,n){return this.constructor(t,n);}
function kn(t,e,n){var l,r,a,i;k.__&&k.__(t,e),r=(l=typeof n=="function")?null:e.__k,a=[],i=[],Ze(e,t=(!l&&n||e).__k=mn(P,null,[t]),r||he,he,e.namespaceURI,!l&&n?[n]:r?null:e.firstChild?Se.call(e.childNodes):null,a,!l&&n?n:r?r.__e:e.firstChild,l,i),mt(a,t,i);}
function te(t,e){var n={__c:e="__cC"+ht++,__:t,Consumer:function Consumer(l,r){return l.children(r);},Provider:function Provider(l){var r,a;return this.getChildContext||(r=[],(a={})[e]=this,this.getChildContext=function(){return a;},this.componentWillUnmount=function(){r=null;},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&r.some(function(c){c.__e=!0,Te(c);});},this.sub=function(i){r.push(i);var c=i.componentWillUnmount;i.componentWillUnmount=function(){r&&r.splice(r.indexOf(i),1),c&&c.call(i);};}),l.children;}};return n.Provider.__=n.Consumer.contextType=n;}
Se=pt.slice,k={__e:function __e(t,e,n,l){for(var r,a,i;e=e.__;)if((r=e.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(t)),i=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,l||{}),i=r.__d),i)return r.__E=r;}catch(c){t=c;}
throw t;}},dt=0,ve.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=z({},this.state),typeof t=="function"&&(t=t(z({},n),this.props)),t&&z(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Te(this));},ve.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Te(this));},ve.prototype.render=P,Y=[],ut=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ve=function Ve(t,e){return t.__v.__b-e.__v.__b;},ke.__r=0,$e=0,Re=Je(!1),Oe=Je(!0),ht=0;var Ln=0;function s(t,e,n,l,r,a){e||(e={});var i,c,u=e;if("ref"in u)for(c in u={},e)c=="ref"?i=e[c]:u[c]=e[c];var d={type:t,props:u,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Ln,__i:-1,__u:0,__source:r,__self:a};if(typeof t=="function"&&(i=t.defaultProps))for(c in i)u[c]===void 0&&(u[c]=i[c]);return k.vnode&&k.vnode(d),d;}
var Sn=_createClass(function Sn(){var _this=this;_classCallCheck(this,Sn);this.PREFIX="analyticsLog_",this.get=function(e,n){return window.sessionStorage?window.sessionStorage.getItem(_this.PREFIX+e)||n||"":n||"";},this.set=function(e,n){window.sessionStorage&&window.sessionStorage.setItem(_this.PREFIX+e,n);},this.remove=function(e){window.sessionStorage&&window.sessionStorage.removeItem(_this.PREFIX+e);},this.clear=function(e){return _this.keys(e).forEach(function(n){return window.sessionStorage.removeItem(n);});},this.keys=function(e){if(window.sessionStorage){var n=Object.keys(window.sessionStorage);return e?n.filter(function(l){return e.test(l.replace(_this.PREFIX,""));}):n.filter(function(l){return RegExp("^"+_this.PREFIX).test(l);});}
return[];};});var y=new Sn();var ce,E,De,Ye,Le=0,yt=[],x=k,Qe=x.__b,et=x.__r,tt=x.diffed,nt=x.__c,st=x.unmount,lt=x.__;function Ee(t,e){x.__h&&x.__h(E,t,Le||e),Le=0;var n=E.__H||(E.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t];}
function C(t){return Le=1,En(vt,t);}
function En(t,e,n){var l=Ee(ce++,2);if(l.t=t,!l.__c&&(l.__=[vt(void 0,e),function(c){var u=l.__N?l.__N[0]:l.__[0],d=l.t(u,c);u!==d&&(l.__N=[d,l.__[1]],l.__c.setState({}));}],l.__c=E,!E.u)){var r=function r(c,u,d){if(!l.__c.__H)return!0;var h=l.__c.__H.__.filter(function(_){return!!_.__c;});if(h.every(function(_){return!_.__N;}))return!a||a.call(this,c,u,d);var o=!1;return h.forEach(function(_){if(_.__N){var p=_.__[0];_.__=_.__N,_.__N=void 0,p!==_.__[0]&&(o=!0);}}),!(!o&&l.__c.props===c)&&(!a||a.call(this,c,u,d));};E.u=!0;var a=E.shouldComponentUpdate,i=E.componentWillUpdate;E.componentWillUpdate=function(c,u,d){if(this.__e){var h=a;a=void 0,r(c,u,d),a=h;}
i&&i.call(this,c,u,d);},E.shouldComponentUpdate=r;}
return l.__N||l.__;}
function R(t,e){var n=Ee(ce++,3);!x.__s&&bt(n.__H,e)&&(n.__=t,n.i=e,E.__H.__h.push(n));}
function Pn(t){return Le=5,W(function(){return{current:t};},[]);}
function W(t,e){var n=Ee(ce++,7);return bt(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__;}
function ne(t){var e=E.context[t.__c],n=Ee(ce++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(E)),e.props.value):t.__;}
function Nn(){for(var t;t=yt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(we),t.__H.__h.forEach(Fe),t.__H.__h=[];}catch(e){t.__H.__h=[],x.__e(e,t.__v);}}
x.__b=function(t){E=null,Qe&&Qe(t);},x.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),lt&&lt(t,e);},x.__r=function(t){et&&et(t),ce=0;var e=(E=t.__c).__H;e&&(De===E?(e.__h=[],E.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0;})):(e.__h.forEach(we),e.__h.forEach(Fe),e.__h=[],ce=0)),De=E;},x.diffed=function(t){tt&&tt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(yt.push(e)!==1&&Ye===x.requestAnimationFrame||((Ye=x.requestAnimationFrame)||Mn)(Nn)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0;})),De=E=null;},x.__c=function(t,e){e.some(function(n){try{n.__h.forEach(we),n.__h=n.__h.filter(function(l){return!l.__||Fe(l);});}catch(l){e.some(function(r){r.__h&&(r.__h=[]);}),e=[],x.__e(l,n.__v);}}),nt&&nt(t,e);},x.unmount=function(t){st&&st(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(l){try{we(l);}catch(r){e=r;}}),n.__H=void 0,e&&x.__e(e,n.__v));};var rt=typeof requestAnimationFrame=="function";function Mn(t){var e,n=function n(){clearTimeout(l),rt&&cancelAnimationFrame(e),setTimeout(t);},l=setTimeout(n,100);rt&&(e=requestAnimationFrame(n));}
function we(t){var e=E,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),E=e;}
function Fe(t){var e=E;t.__c=t.__(),E=e;}
function bt(t,e){return!t||t.length!==e.length||e.some(function(n,l){return n!==t[l];});}
function vt(t,e){return typeof e=="function"?e(t):e;}
var V=function V(t){return t!=null&&_typeof(t)=="object"&&t.constructor===Object;},f=function f(t,e,n){if(!V(t))return n||null;var l=e?typeof e=="string"?e.split("."):e:[],r=t;try{for(var a=0;a<l.length;a++)if(r.hasOwnProperty(l[a]))r=r[l[a]];else{r=n||null;break;}}catch(_unused2){r=n||null;}
return r;},Ge=function Ge(t,e){for(var n in t)if(t.hasOwnProperty(n)&&f(e,"",{}).hasOwnProperty(n))return!0;return!1;},xn=function xn(t,e){var n={};for(var l in t){var r=!1;for(var a in e)if(e.hasOwnProperty(a))try{var i=f(e,a,{}),c=typeof i.replace=="string"?i.replace:"";if(i.find.include.test(l)&&(!i.find.exclude||!i.find.exclude.test(l))&&c){n[l.replace(i.find.include,c)]=t[l],r=!0;break;}}catch(_unused3){}
r||(n[l]=t[l]);}
return n;},Dn=function Dn(t,e){var n=[];for(var l in t)if(t.hasOwnProperty(l)){var r=f(t,l,{});r[e]&&(n=n.concat(Object.keys(r[e])));}
return n;},ze=function ze(t){return t!=null&&_typeof(t)=="object"&&(t.constructor===Object||t.constructor===Array);},pe=function pe(t){return ze(t)&&Object.keys(t).length>0;},He=function He(t){for(var e in t)if(t.hasOwnProperty(e)&&pe(t[e]))return!0;return!1;},fe=function fe(t,e,n){try{return JSON.stringify(t,e,n);}catch(l){return l.message;}},An=function An(t,e){if(!e)return t;var n={};for(var l in t)try{(RegExp(e,"i").test(l)||RegExp(e,"i").test(ze(t[l])?fe(t[l]):t[l]))&&(n[l]=t[l]);}catch(_unused4){}
return n;},Vn=function Vn(t,e){return t.localeCompare(e);},Rn=function Rn(t,e){return e.localeCompare(t);},On={ascending:Vn,descending:Rn},_wt=function wt(t,e){if(e=e||"ascending",!V(t))return t;var n=Object.keys(t).sort(function(r,a){return On[e](r,a);});var l={};return n.forEach(function(r){return l[r]=_wt(t[r],e);}),l;},Tn=function Tn(t,e,n){if(!V(t))return{};var l=_objectSpread({},t),r={};for(var a in e)if(e.hasOwnProperty(a))try{var i=f(e,a,{}),c=typeof i.label=="string"?i.label:"",u=f(i,"rules",{});for(var d in l)u.include.test(d)&&(!u.exclude||!u.exclude.test(d))&&(r[a]||(r[a]={labelGroup:c,dataGroup:{}}),r[a].dataGroup[d]=l[d],delete l[d]);}catch(_unused5){}
return r;},Pe=f(window.AnalyticsLogConfiguration,"",{}),at=Pe.storage,kt=Pe.trackingSettings,oe=Pe.datalayerSettings,Z=Pe.userSettings;var D={};var jn=function jn(t){V(t)&&Object.keys(t).forEach(function(e){typeof t[e]=="function"&&(D[e]=t[e]);});},J=[],_Lt=function Lt(){var t=J.shift();t&&setTimeout(function(e){window.AnalyticsLogInterface[e.method].apply(null,e.params),_Lt();},1,t);};var Fn=_createClass(function Fn(){_classCallCheck(this,Fn);this.onPageLoad=function(e,n,l){if(!D.hasOwnProperty("updatePageLoad"))return J.push({method:"onPageLoad",params:[e,n,l]}),null;e=typeof e=="string"?e:"",V(oe)&&oe.hasOwnProperty(e)&&(n=V(n)?n:{},l=V(l)?l:{},setTimeout(function(){return D.updatePageLoad(e,n,l);},1,e,n,l));},this.onEvent=function(e,n,l,r){return!D.hasOwnProperty("createEvent")||!D.hasOwnProperty("updateEvents")?(J.push({method:"onEvent",params:[e,n,l,r]}),null):(e=D.createEvent(typeof e=="number"?e:typeof e=="string"&&parseInt(e)||null),n=typeof n=="string"?n:"",V(oe)&&oe.hasOwnProperty(n)&&(l=V(l)?l:{},r=V(r)?r:{},setTimeout(function(){return D.updateEvents(e,n,l,r);},1,e,n,l,r)),e);},this.onUser=function(e){if(!D.hasOwnProperty("updateUser"))return J.push({method:"onUser",params:[e]}),null;setTimeout(function(){return D.updateUser(typeof e=="string"?e:"");},1,e);},this.onTheme=function(e){if(!D.hasOwnProperty("updateThemeMode"))return J.push({method:"onTheme",params:[e]}),null;setTimeout(function(){return D.updateThemeMode(e);},1,e);},this.onPanel=function(e){if(!D.hasOwnProperty("updatePanelOpened")||!D.hasOwnProperty("updatePanelFullScreen"))return J.push({method:"onPanel",params:[e]}),null;V(e)&&(setTimeout(function(){return D.updatePanelOpened(e.opened);},1,e.opened),setTimeout(function(){return D.updatePanelFullScreen(e.fullScreen);},1,e.fullScreen));},this.onFunctions=function(e){if(!D.hasOwnProperty("updatePreserveLogEnabled")||!D.hasOwnProperty("updateUtagDebuggerEnabled"))return J.push({method:"onFunctions",params:[e]}),null;V(e)&&(setTimeout(function(n){return D.updatePreserveLogEnabled(n.preserveLog);},1,e),setTimeout(function(n){return D.updateUtagDebuggerEnabled(n.utagDebugger);},1,e));},window.addEventListener("message",function(e){if(e.origin===window.location.origin&&V(e.data)&&V(e.data.request)){var n=e.data.request;if(n["interface"]==="AnalyticsLogInterface"){var l=window.AnalyticsLogInterface[n.method];if(typeof l=="function"){var r=Array.isArray(n.params)?n.params:[],a=l.apply(null,r);e.source.postMessage({response:{"interface":n["interface"],method:n.method,applied:a!==null}});}}}});});window.AnalyticsLogInterface=new Fn();var K={setMethods:jn,handleRequests:_Lt},Gn=function Gn(){var _C=C(null),_C2=_slicedToArray(_C,2),t=_C2[0],e=_C2[1],n=function n(l){return typeof l=="string"&&e(l);};return K.setMethods({updateThemeMode:n}),{themeMode:t};},St=te(null),Hn=function Hn(){return ne(St);},Un=function Un(_ref){var t=_ref.children,e=_objectWithoutProperties(_ref,_excluded);var n=Gn(),_C3=C(/^(light|dark)$/.test(n.themeMode)?n.themeMode:y.get("Theme","dark")),_C4=_slicedToArray(_C3,2),l=_C4[0],r=_C4[1],a=function a(){var c=l=="light"?"dark":"light";r(c),y.set("Theme",c);};R(function(){/^(light|dark)$/.test(n.themeMode)&&l!==n.themeMode&&a();},[n.themeMode]);var i=W(function(){return{theme:l,switchTheme:a};},[l]);return s(St.Provider,{value:i,children:s("div",{"data-analytics-theme":l,children:t})});};var Bn=_createClass(function Bn(){var _this2=this;_classCallCheck(this,Bn);this.NO_USER="no-user",this.update=function(e,n){_this2.userKey=e,_this2.settings=n;},this.detect=function(){var e=-1,n="";var _loop=function _loop(l){if(Z.hasOwnProperty(l)){var r=f(Z[l],"domURLParamsDetection",[]);Array.isArray(r)&&r.forEach(function(a){var i=window.location.search.indexOf(a);i>-1&&i>e&&(e=i,n=l);});}};for(var l in Z){_loop(l);}
return n;},this.isValidUser=function(e){return!!(e&&V(Z)&&Z.hasOwnProperty(e));},this.getUser=function(){return _this2.userKey;},this.setUser=function(e){if(V(Z)){var n=y.get("User",""),l=_this2.isValidUser(e)?e:_this2.detect();l?(l!=n&&y.clear(),l===_this2.NO_USER?_this2.userKey="":(y.set("User",l),_this2.update(l,Z[l]))):n&&_this2.update(n,Z[n]);}},this.init=function(){_this2.update("",null),_this2.setUser(null);},this.isUserDetected=function(){return!!_this2.userKey;},this.isClearStorageEnabled=function(){return!!f(_this2.settings,"clearStorage",!1);},this.isBetaExtensionsEnabled=function(){return!!f(_this2.settings,"betaExtensions",!1);},this.isPreserveLogEnabled=function(){return!!f(_this2.settings,"preserveLog",!1);},this.isUtagDebuggerEnabled=function(){return!!f(_this2.settings,"utagDebugger",!1);},this.isDatalayerEnabled=function(e){return!!f(_this2.settings,e+".enabled",!1);},this.isDatalayerSearchEnabled=function(e){return!!f(_this2.settings,e+".options.search",!1);},this.isDatalayerFiltersEnabled=function(e){return!!f(_this2.settings,e+".options.filters",!1);},this.isDatalayerSortingEnabled=function(e){return!!f(_this2.settings,e+".options.sorting",!1);},this.isDatalayerGroupsEnabled=function(e){return!!f(_this2.settings,e+".options.groups.enabled",!1);},this.isDatalayerGroupsApplied=function(e){return!!f(_this2.settings,e+".options.groups.applied",!1);},this.isDatalayerGroupsAllOpened=function(e){return!!f(_this2.settings,e+".options.groups.opened",!1);},this.isDatalayerDetailsEnabled=function(e){return!!f(_this2.settings,e+".options.details.enabled",!1);},this.isDatalayerDetailsAllOpened=function(e){return!!f(_this2.settings,e+".options.details.opened",!1);},this.isDatalayerObjectsAllOpened=function(e){return!!f(_this2.settings,e+".options.objects.opened",!1);},this.isDatalayerTableView=function(e){return!!f(_this2.settings,e+".options.tableView",!1);},this.update("",null);});var N=new Bn(),$n=function $n(){var _C5=C(N.getUser()),_C6=_slicedToArray(_C5,2),t=_C6[0],e=_C6[1],n=function n(l){N.setUser(l),e(N.getUser());};return K.setMethods({updateUser:n}),{userKey:t};};N.init();var Et=te(null),ge=function ge(){return ne(Et);},In=function In(_ref2){var t=_ref2.children,e=_objectWithoutProperties(_ref2,_excluded2);var _$n=$n(),n=_$n.userKey,_C7=C(N.isUserDetected()),_C8=_slicedToArray(_C7,2),l=_C8[0],r=_C8[1];R(function(){r(N.isUserDetected()),N.isUserDetected()&&K.handleRequests();},[n]);var a=y.get("PreserveLogEnabled","0")==="1";a||y.remove("LastEvent");var i=y.get("LastEvent",""),c=y.get("UtagDebuggerEnabled","0")==="1",u=W(function(){return{userKey:n,analyticsLogEnabled:l,setAnalyticsLogEnabled:r,analyticsPreserveLogEnabled:a,analyticsPreserveLogLastEvent:i,analyticsUtagDebuggerEnabled:c};},[n,l]);return s(Et.Provider,{value:u,children:n&&l?t:s(P,{})});},Zn=function Zn(){var _C9=C(null),_C10=_slicedToArray(_C9,2),t=_C10[0],e=_C10[1],_C11=C(null),_C12=_slicedToArray(_C11,2),n=_C12[0],l=_C12[1],r=function r(i){return e(i);},a=function a(i){return l(i);};return K.setMethods({updatePanelOpened:r,updatePanelFullScreen:a}),{opened:t,fullScreen:n};},ie=function ie(t,e,n){y.set(t,e?"1":"0"),n(e);},Pt=te(null),se=function se(){return ne(Pt);},qn=function qn(_ref3){var t=_ref3.children,e=_objectWithoutProperties(_ref3,_excluded3);var _ge=ge(),n=_ge.userKey,l=Zn(),_C13=C(y.get("PanelOpen")==="1"),_C14=_slicedToArray(_C13,2),r=_C14[0],a=_C14[1],i=function i(){return ie("PanelOpen",!0,a);},c=function c(){return ie("PanelOpen",!1,a);};R(function(){l.opened!=null&&ie("PanelOpen",l.opened,a);},[l.opened]);var _C15=C(y.get("PanelFullScreen")==="1"),_C16=_slicedToArray(_C15,2),u=_C16[0],d=_C16[1],h=function h(){return ie("PanelFullScreen",!0,d);},o=function o(){return ie("PanelFullScreen",!1,d);};R(function(){l.fullScreen!=null&&ie("PanelFullScreen",l.fullScreen,d);},[l.fullScreen]);var _C17=C(null),_C18=_slicedToArray(_C17,2),_=_C18[0],p=_C18[1],m=function m(){return _&&_.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"});},v=W(function(){return{userKey:n,opened:r,openPanel:i,closePanel:c,fullScreen:u,maximizePanel:h,minimizePanel:o,endLineRef:_,setEndLineRef:p,scrollToEndLine:m};},[r,u,n,_]);return s(Pt.Provider,{value:v,children:n&&t||s(P,{})});},Nt=te(null),de=function de(){return ne(Nt);},zn=function zn(_ref4){var t=_ref4.children,e=_objectWithoutProperties(_ref4,_excluded4);var _C19=C({}),_C20=_slicedToArray(_C19,2),n=_C20[0],l=_C20[1],_C21=C(!1),_C22=_slicedToArray(_C21,2),r=_C22[0],a=_C22[1],i=function i(d){l(d),a(!0);},c=function c(){l({}),a(!1);},u=W(function(){return{data:n,opened:r,openScreen:i,closeScreen:c};},[r]);return s(Nt.Provider,{value:u,children:t||s(P,{})});};function Mt(t){return s("svg",_objectSpread(_objectSpread({className:"iconLogo",width:"160px",height:"160px",viewBox:"-3.36 -3.36 30.72 30.72",id:"meteor-icon-kit__solid-activity",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(180)matrix(1, 0, 0, 1, 0, 0)",stroke:"#ffffff","stroke-width":"1.44"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0",transform:"translate(0,0), scale(1)",children:s("path",{transform:"translate(-3.36, -3.36), scale(1.92)",fill:"#1fb745",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33z","stroke-width":"0"})}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round",stroke:"#CCCCCC","stroke-width":"0.144"}),s("g",{id:"SVGRepo_iconCarrier",children:s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23.9072 13.5C23.169 19.4195 18.1194 24 12 24C5.88057 24 0.830982 19.4195 0.0928345 13.5H6.99999C7.50152 13.5 7.96987 13.2493 8.24807 12.8321L10.144 9.98816L11.5204 18.2466C11.744 19.5879 13.4938 19.9635 14.2481 18.8321L17.8028 13.5H23.9072ZM0.0928345 10.5C0.830982 4.58053 5.88057 0 12 0C18.1194 0 23.169 4.58053 23.9072 10.5H17C16.4985 10.5 16.0301 10.7507 15.7519 11.1679L13.856 14.0118L12.4796 5.7534C12.256 4.4121 10.5062 4.03652 9.75192 5.16795L6.19722 10.5H0.0928345Z",fill:"#212121"})})]}));}
function Wn(t){return s("svg",_objectSpread(_objectSpread({className:"iconFull",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 11.5373 21.3065 11.4608 21.0672 11.8568C19.9289 13.7406 17.8615 15 15.5 15C11.9101 15 9 12.0899 9 8.5C9 6.13845 10.2594 4.07105 12.1432 2.93276C12.5392 2.69347 12.4627 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"#11ee3d"})," "]})]}));}
function Kn(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#000000"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M7.28451 10.3333C7.10026 10.8546 7 11.4156 7 12C7 14.7614 9.23858 17 12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C11.4156 7 10.8546 7.10026 10.3333 7.28451",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," ",s("path",{d:"M12 2V4",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," ",s("path",{d:"M12 20V22",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," ",s("path",{d:"M4 12L2 12",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," ",s("path",{d:"M22 12L20 12",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," ",s("path",{d:"M19.7778 4.22266L17.5558 6.25424",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," ",s("path",{d:"M4.22217 4.22266L6.44418 6.25424",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," ",s("path",{d:"M6.44434 17.5557L4.22211 19.7779",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," ",s("path",{d:"M19.7778 19.7773L17.5558 17.5551",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," "]})]}));}
function xt(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z",stroke:"#1fb745","stroke-width":"1.5"})," ",s("path",{d:"M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," "]})]}));}
function Xn(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M10.5 13.5H7.5M10.5 13.5V16.5M10.5 13.5L7 17",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",s("path",{d:"M13.5 10.5H16.5M13.5 10.5V7.5M13.5 10.5L17 7",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",s("path",{d:"M10.5 10.5H7.5M10.5 10.5V7.5M10.5 10.5L7 7",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",s("path",{d:"M13.5 13.5H16.5M13.5 13.5V16.5M13.5 13.5L17 17",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",s("path",{d:"M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C21.5093 4.43821 21.8356 5.80655 21.9449 8",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," "]})]}));}
function Jn(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M17 7H14M17 7V10M17 7L13.5 10.5M7 17H10M7 17V14M7 17L10.5 13.5",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",s("path",{d:"M7 7H10M7 7V10M7 7L10.5 10.5M17 17H14M17 17V14M17 17L13.5 13.5",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",s("path",{d:"M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C21.5093 4.43821 21.8356 5.80655 21.9449 8",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," "]})]}));}
function Yn(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M7.37756 11.6296H6.62756H7.37756ZM7.37756 12.5556L6.81609 13.0528C6.95137 13.2056 7.14306 13.2966 7.34695 13.3049C7.55084 13.3133 7.74932 13.2382 7.89662 13.0969L7.37756 12.5556ZM9.51905 11.5414C9.81805 11.2547 9.82804 10.7799 9.54137 10.4809C9.2547 10.182 8.77994 10.172 8.48095 10.4586L9.51905 11.5414ZM6.56148 10.5028C6.28686 10.1927 5.81286 10.1639 5.50277 10.4385C5.19267 10.7131 5.16391 11.1871 5.43852 11.4972L6.56148 10.5028ZM14.9317 9.0093C15.213 9.31337 15.6875 9.33184 15.9915 9.05055C16.2956 8.76927 16.3141 8.29476 16.0328 7.9907L14.9317 9.0093ZM12.0437 6.25C9.05802 6.25 6.62756 8.653 6.62756 11.6296H8.12756C8.12756 9.49251 9.87531 7.75 12.0437 7.75V6.25ZM6.62756 11.6296L6.62756 12.5556H8.12756L8.12756 11.6296H6.62756ZM7.89662 13.0969L9.51905 11.5414L8.48095 10.4586L6.85851 12.0142L7.89662 13.0969ZM7.93904 12.0583L6.56148 10.5028L5.43852 11.4972L6.81609 13.0528L7.93904 12.0583ZM16.0328 7.9907C15.0431 6.9209 13.6212 6.25 12.0437 6.25V7.75C13.1879 7.75 14.2154 8.23504 14.9317 9.0093L16.0328 7.9907Z",fill:"#1fb745"})," ",s("path",{d:"M16.6188 11.4443L17.1795 10.9462C17.044 10.7937 16.8523 10.703 16.6485 10.6949C16.4447 10.6868 16.2464 10.7621 16.0993 10.9034L16.6188 11.4443ZM14.4805 12.4581C14.1817 12.745 14.1722 13.2198 14.4591 13.5185C14.746 13.8173 15.2208 13.8269 15.5195 13.54L14.4805 12.4581ZM17.4393 13.4972C17.7144 13.8068 18.1885 13.8348 18.4981 13.5597C18.8078 13.2846 18.8358 12.8106 18.5607 12.5009L17.4393 13.4972ZM9.04688 15.0047C8.76342 14.7027 8.28879 14.6876 7.98675 14.9711C7.68472 15.2545 7.66966 15.7292 7.95312 16.0312L9.04688 15.0047ZM11.9348 17.7499C14.9276 17.7499 17.3688 15.3496 17.3688 12.3703H15.8688C15.8688 14.5047 14.1158 16.2499 11.9348 16.2499V17.7499ZM17.3688 12.3703V11.4443H15.8688V12.3703H17.3688ZM16.0993 10.9034L14.4805 12.4581L15.5195 13.54L17.1383 11.9853L16.0993 10.9034ZM16.0581 11.9425L17.4393 13.4972L18.5607 12.5009L17.1795 10.9462L16.0581 11.9425ZM7.95312 16.0312C8.94543 17.0885 10.3635 17.7499 11.9348 17.7499V16.2499C10.792 16.2499 9.76546 15.7704 9.04688 15.0047L7.95312 16.0312Z",fill:"#1fb745"})," ",s("path",{d:"M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," "]})]}));}
function Dt(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M3 9.5H21M3 14.5H21M8 4.5V19.5M6.2 19.5H17.8C18.9201 19.5 19.4802 19.5 19.908 19.282C20.2843 19.0903 20.5903 18.7843 20.782 18.408C21 17.9802 21 17.4201 21 16.3V7.7C21 6.5799 21 6.01984 20.782 5.59202C20.5903 5.21569 20.2843 4.90973 19.908 4.71799C19.4802 4.5 18.9201 4.5 17.8 4.5H6.2C5.0799 4.5 4.51984 4.5 4.09202 4.71799C3.71569 4.90973 3.40973 5.21569 3.21799 5.59202C3 6.01984 3 6.57989 3 7.7V16.3C3 17.4201 3 17.9802 3.21799 18.408C3.40973 18.7843 3.71569 19.0903 4.09202 19.282C4.51984 19.5 5.07989 19.5 6.2 19.5Z",stroke:"#1fb745","stroke-width":"2"})," "]})]}));}
function At(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M14.0184 7.36446C14.1256 6.96436 13.8882 6.55311 13.4881 6.4459C13.088 6.3387 12.6767 6.57614 12.5695 6.97623L9.98131 16.6355C9.8741 17.0356 10.1115 17.4468 10.5116 17.5541C10.9117 17.6613 11.323 17.4238 11.4302 17.0237L14.0184 7.36446Z",fill:"#1fb745"})," ",s("path",{d:"M16.0303 8.46967C15.7374 8.17678 15.2626 8.17678 14.9697 8.46967C14.6768 8.76256 14.6768 9.23744 14.9697 9.53033L15.1412 9.7019C15.8229 10.3836 16.2797 10.8426 16.5753 11.2301C16.8577 11.6002 16.9216 11.8157 16.9216 12C16.9216 12.1843 16.8577 12.3998 16.5753 12.7699C16.2797 13.1574 15.8229 13.6164 15.1412 14.2981L14.9697 14.4697C14.6768 14.7626 14.6768 15.2374 14.9697 15.5303C15.2626 15.8232 15.7374 15.8232 16.0303 15.5303L16.2387 15.322C16.874 14.6867 17.4038 14.1569 17.7678 13.6798C18.1521 13.1762 18.4216 12.6441 18.4216 12C18.4216 11.3559 18.1521 10.8238 17.7678 10.3202C17.4038 9.84307 16.874 9.31331 16.2387 8.67801L16.0303 8.46967Z",fill:"#1fb745"})," ",s("path",{d:"M7.96986 8.46967C8.26275 8.17678 8.73762 8.17678 9.03052 8.46967C9.32341 8.76256 9.32341 9.23744 9.03052 9.53033L8.85894 9.7019C8.17729 10.3836 7.72052 10.8426 7.42488 11.2301C7.14245 11.6002 7.07861 11.8157 7.07861 12C7.07861 12.1843 7.14245 12.3998 7.42488 12.7699C7.72052 13.1574 8.17729 13.6164 8.85894 14.2981L9.03052 14.4697C9.32341 14.7626 9.32341 15.2374 9.03052 15.5303C8.73762 15.8232 8.26275 15.8232 7.96986 15.5303L7.76151 15.322C7.12618 14.6867 6.59637 14.1569 6.23235 13.6798C5.84811 13.1762 5.57861 12.6441 5.57861 12C5.57861 11.3559 5.84811 10.8238 6.23235 10.3202C6.59637 9.84307 7.12617 9.31332 7.7615 8.67802L7.96986 8.46967Z",fill:"#1fb745"})," ",s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.9426 1.25C9.63423 1.24999 7.82519 1.24998 6.41371 1.43975C4.96897 1.63399 3.82895 2.03933 2.93414 2.93414C2.03933 3.82895 1.63399 4.96897 1.43975 6.41371C1.24998 7.82519 1.24999 9.63423 1.25 11.9426V12.0574C1.24999 14.3658 1.24998 16.1748 1.43975 17.5863C1.63399 19.031 2.03933 20.1711 2.93414 21.0659C3.82895 21.9607 4.96897 22.366 6.41371 22.5603C7.82519 22.75 9.63423 22.75 11.9426 22.75H12.0574C14.3658 22.75 16.1748 22.75 17.5863 22.5603C19.031 22.366 20.1711 21.9607 21.0659 21.0659C21.9607 20.1711 22.366 19.031 22.5603 17.5863C22.75 16.1748 22.75 14.3658 22.75 12.0574V11.9426C22.75 9.63423 22.75 7.82519 22.5603 6.41371C22.366 4.96897 21.9607 3.82895 21.0659 2.93414C20.1711 2.03933 19.031 1.63399 17.5863 1.43975C16.1748 1.24998 14.3658 1.24999 12.0574 1.25H11.9426ZM3.9948 3.9948C4.56445 3.42514 5.33517 3.09825 6.61358 2.92637C7.91356 2.75159 9.62178 2.75 12 2.75C14.3782 2.75 16.0864 2.75159 17.3864 2.92637C18.6648 3.09825 19.4355 3.42514 20.0052 3.9948C20.5749 4.56445 20.9018 5.33517 21.0736 6.61358C21.2484 7.91356 21.25 9.62178 21.25 12C21.25 14.3782 21.2484 16.0864 21.0736 17.3864C20.9018 18.6648 20.5749 19.4355 20.0052 20.0052C19.4355 20.5749 18.6648 20.9018 17.3864 21.0736C16.0864 21.2484 14.3782 21.25 12 21.25C9.62178 21.25 7.91356 21.2484 6.61358 21.0736C5.33517 20.9018 4.56445 20.5749 3.9948 20.0052C3.42514 19.4355 3.09825 18.6648 2.92637 17.3864C2.75159 16.0864 2.75 14.3782 2.75 12C2.75 9.62178 2.75159 7.91356 2.92637 6.61358C3.09825 5.33517 3.42514 4.56445 3.9948 3.9948Z",fill:"#1fb745"})," "]})]}));}
function Qn(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"1.5 1.5 21 21",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44","stroke-width":"1.5",stroke:"#1fb745",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},t),{},{children:[s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s("path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),s("path",{d:"M4 9h16"}),s("path",{d:"M10 14l2 2l2 -2"})]}));}
function es(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"1.5 1.5 21 21",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44","stroke-width":"1.5",stroke:"#1fb745",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},t),{},{children:[s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s("path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),s("path",{d:"M4 9h16"}),s("path",{d:"M10 16l2 -2l2 2"})]}));}
function Vt(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M5.70711 9.71069C5.31658 10.1012 5.31658 10.7344 5.70711 11.1249L10.5993 16.0123C11.3805 16.7927 12.6463 16.7924 13.4271 16.0117L18.3174 11.1213C18.708 10.7308 18.708 10.0976 18.3174 9.70708C17.9269 9.31655 17.2937 9.31655 16.9032 9.70708L12.7176 13.8927C12.3271 14.2833 11.6939 14.2832 11.3034 13.8927L7.12132 9.71069C6.7308 9.32016 6.09763 9.32016 5.70711 9.71069Z",fill:"#1fb745"})," "]})]}));}
function Rt(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M18.2929 15.2893C18.6834 14.8988 18.6834 14.2656 18.2929 13.8751L13.4007 8.98766C12.6195 8.20726 11.3537 8.20757 10.5729 8.98835L5.68257 13.8787C5.29205 14.2692 5.29205 14.9024 5.68257 15.2929C6.0731 15.6835 6.70626 15.6835 7.09679 15.2929L11.2824 11.1073C11.673 10.7168 12.3061 10.7168 12.6966 11.1073L16.8787 15.2893C17.2692 15.6798 17.9024 15.6798 18.2929 15.2893Z",fill:"#1fb745"})," "]})]}));}
function Ot(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z",fill:"#1fb745"})," ",s("path",{d:"M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z",fill:"#1fb745"})," ",s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z",fill:"#1fb745"})," "]})]}));}
function Tt(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M18.2202 21.25H5.78015C5.14217 21.2775 4.50834 21.1347 3.94373 20.8364C3.37911 20.5381 2.90402 20.095 2.56714 19.5526C2.23026 19.0101 2.04372 18.3877 2.02667 17.7494C2.00963 17.111 2.1627 16.4797 2.47015 15.92L8.69013 5.10999C9.03495 4.54078 9.52077 4.07013 10.1006 3.74347C10.6804 3.41681 11.3346 3.24518 12.0001 3.24518C12.6656 3.24518 13.3199 3.41681 13.8997 3.74347C14.4795 4.07013 14.9654 4.54078 15.3102 5.10999L21.5302 15.92C21.8376 16.4797 21.9907 17.111 21.9736 17.7494C21.9566 18.3877 21.7701 19.0101 21.4332 19.5526C21.0963 20.095 20.6211 20.5381 20.0565 20.8364C19.4919 21.1347 18.8581 21.2775 18.2202 21.25V21.25Z",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," ",s("path",{d:"M10.8809 17.15C10.8809 17.0021 10.9102 16.8556 10.9671 16.7191C11.024 16.5825 11.1074 16.4586 11.2125 16.3545C11.3175 16.2504 11.4422 16.1681 11.5792 16.1124C11.7163 16.0567 11.8629 16.0287 12.0109 16.03C12.2291 16.034 12.4413 16.1021 12.621 16.226C12.8006 16.3499 12.9398 16.5241 13.0211 16.7266C13.1023 16.9292 13.122 17.1512 13.0778 17.3649C13.0335 17.5786 12.9272 17.7745 12.7722 17.9282C12.6172 18.0818 12.4203 18.1863 12.2062 18.2287C11.9921 18.2711 11.7703 18.2494 11.5685 18.1663C11.3666 18.0833 11.1938 17.9426 11.0715 17.7618C10.9492 17.5811 10.8829 17.3683 10.8809 17.15ZM11.2409 14.42L11.1009 9.20001C11.0876 9.07453 11.1008 8.94766 11.1398 8.82764C11.1787 8.70761 11.2424 8.5971 11.3268 8.5033C11.4112 8.40949 11.5144 8.33449 11.6296 8.28314C11.7449 8.2318 11.8697 8.20526 11.9959 8.20526C12.1221 8.20526 12.2469 8.2318 12.3621 8.28314C12.4774 8.33449 12.5805 8.40949 12.6649 8.5033C12.7493 8.5971 12.8131 8.70761 12.852 8.82764C12.8909 8.94766 12.9042 9.07453 12.8909 9.20001L12.7609 14.42C12.7609 14.6215 12.6808 14.8149 12.5383 14.9574C12.3957 15.0999 12.2024 15.18 12.0009 15.18C11.7993 15.18 11.606 15.0999 11.4635 14.9574C11.321 14.8149 11.2409 14.6215 11.2409 14.42Z",fill:"#1fb745"})," "]})]}));}
function ts(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M12 16.99V17M12 7V14M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]}));}
function jt(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("circle",{cx:"12",cy:"12",r:"10",stroke:"#1fb745","stroke-width":"1.5"})," ",s("path",{d:"M8.5 12.5L10.5 14.5L15.5 9.5",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]}));}
function Ft(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44","stroke-width":"1.5",stroke:"#1fb745",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},t),{},{children:[s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s("path",{d:"M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10"}),s("path",{d:"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2"})]}));}
function Gt(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44","stroke-width":"1.5",stroke:"#1fb745",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},t),{},{children:[s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s("path",{d:"M3 3l18 18"}),s("path",{d:"M11 11a1 1 0 0 1 -1 -1m0 -3.968v-2.032a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10l-3 -3h-3"}),s("path",{d:"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2"})]}));}
function Ht(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44","stroke-width":"1.5",stroke:"#1fb745",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},t),{},{children:[s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s("path",{d:"M9 12h6"}),s("path",{d:"M12 9v6"}),s("path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2"}),s("path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2"})]}));}
function Ut(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44","stroke-width":"1.5",stroke:"#1fb745",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},t),{},{children:[s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s("path",{d:"M9 12h6"}),s("path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2"}),s("path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2"})]}));}
function ns(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("title",{children:"disabled"})," ",s("desc",{children:"Created with sketchtool."})," ",s("g",{id:"web-app",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",children:[" ",s("g",{id:"disabled",fill:"#1fb745",children:[" ",s("path",{d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M7.09435615,18.3198574 L18.3198574,7.09435615 C19.3729184,8.44903985 20,10.1512885 20,12 C20,16.418278 16.418278,20 12,20 C10.1512885,20 8.44903985,19.3729184 7.09435615,18.3198574 Z M5.68014258,16.9056439 C4.62708161,15.5509601 4,13.8487115 4,12 C4,7.581722 7.581722,4 12,4 C13.8487115,4 15.5509601,4.62708161 16.9056439,5.68014258 L5.68014258,16.9056439 Z",id:"Shape",children:" "})," "]})," "]})," "]})]}));}
function ss(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M16.6725 16.6412L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]}));}
function Bt(t){return s("svg",_objectSpread(_objectSpread({className:"iconEmpty",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[s("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s("g",{id:"SVGRepo_iconCarrier",children:[" ",s("path",{d:"M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z",stroke:"#1fb745","stroke-width":"1.5"})," ",s("path",{d:"M15 12H9",stroke:"#1fb745","stroke-width":"1.5","stroke-linecap":"round"})," "]})]}));}
var ee=function ee(t){return s("div",{className:"--button--"+(/^link|chip$/.test(t==null?void 0:t.type)?" --"+t.type+"--":"")+(t!=null&&t.enabled?" active":""),style:t==null?void 0:t.style,onClick:t==null?void 0:t.onClick,children:(t==null?void 0:t.text)||""});},ls=function ls(t){var e=t.data,n=f(e,"",{});return s("pre",{children:s("code",{children:fe(n,null,2)})});},le=function le(t){return s("div",{className:"--lineSeparator--"});},rs=function rs(t){var e=t.columns,n=t.data,l=t.details;return s("div",{className:"--table--",children:s("div",{className:"--table-wrapper--",children:[s("div",{className:"--table-row-- --table-head--",children:[" ",e.map(function(r){return s("div",{className:"--table-col--",children:r},r);})," "]}),n.map(function(r,a){return s(as,{columns:e,data:r,details:l},a);})]})});},as=function as(t){var e=t.columns,n=t.data,l=t.details;return s("div",{className:"--table-row--",children:[" ",n.map(function(r,a){return s(is,{index:a,columns:e,data:r,details:l},a);})]});},is=function is(t){var e=t.index,n=t.columns,l=t.data,r=t.details,a=f(r,n[e],{});return s("div",{className:"--table-col--",children:Object.keys(a).length>0?s(os,{index:e,data:l,template:a},e):l});},os=function os(t){var e=t.index,n=t.data,l=t.template,_C23=C(!1),_C24=_slicedToArray(_C23,2),r=_C24[0],a=_C24[1];return s(P,{children:[s(ee,{text:"Details",onClick:function onClick(){return a(!0);},style:{width:"38px"}}),r&&s(cs,{data:n,template:l,closeDetails:function closeDetails(){return a(!1);}},e)]});},cs=function cs(t){var e=t.data,n=t.template,l=f(n,"table",null);var r={};if(l){var a=Object.keys(l)[0]||"";a&&(r[a]=e);}else e.split(n.row_separators).forEach(function(a){var i=a.split(n.col_separators);r[i[0]]=i[1];});return s("div",{className:"--table-popup-details--",children:s("div",{className:"--table-popup-container--",children:[s("div",{style:{width:"100%"},children:s("div",{style:{width:"35px","float":"right",paddingBottom:"10px"},children:s(xt,{onClick:function onClick(){return t.closeDetails&&t.closeDetails();}})})}),s("div",{style:{width:"100%",overflowY:"auto",scrollbarWidth:"thin"},children:s($t,{data:r,labels:n.labels,tables:l})})]})});},$t=function $t(t){var e=t.data,n=t.labels,l=t.tables,r=t.details,a=t.detailsCollapsed,i=t.objectsCollapsed,c=f(e,"",{}),u=Object.keys(c),d=Dn(l,"data"),h=RegExp("^("+d.join("|")+")$"),o=d.length>0?u.filter(function(_){return!h.test(_);}):u;return s("div",{className:"--table-map--",children:[l&&Object.keys(l).map(function(_){return s(ds,{data:c,table:f(l[_],"",{})});}),o.map(function(_,p){return s(_Ue,{datalayerKey:_,datalayerValue:c[_],labels:n,details:r,detailsCollapsed:a,objectsCollapsed:i},p);})]});},ds=function ds(t){var e=t.data,n=t.table,l=Object.keys(f(n,"data",{}));if(l.length>0){var r=typeof n.columnKey!="string",a=typeof n.columnLabel!="string",i=typeof n.columnLabels!="string",c=Array.isArray(n.columnValue)?n.columnValue:[""+(n.columnValue||"Value")],u=f(n,"columnDetails",{});var d=[];if(r||d.push(n.columnKey||"Key"),a||d.push(n.columnLabel||"Label"),c.length>0&&(d=d.concat(c)),!i){var o=n.columnLabels||"Labels";d=[d.shift(),o].concat(d);}
Array.isArray(n.columns)&&(d=d.concat(n.columns));var h=[];return l.forEach(function(o){if(e.hasOwnProperty(o)){var _=f(n.data,o,{});var p=[];if(r||p.push(o),!a&&_.label&&p.push(_.label),_.extend||p.push(fe(e[o],null,2)),Array.isArray(_.row)&&_.row.length>0&&(p=p.concat(_.row)),_.extend&&typeof e[o]=="string"){var m=f(_,"extend",{}),v=m.cols_empty||"<Empty>";e[o].split(m.row_separators).forEach(function(w){var g;var b=m.col_separators;if(Array.isArray(b)&&b.length>1){var M="([^\\"+b.join("\\")+"]+)";var L=M;b.forEach(function(G){return L=L+"(\\"+G+M+")?";});var U=w.match(RegExp("^"+L+"$"));g=[1].concat(b.map(function(G,H){return(H+1)*2+1;})).map(function(G){return U[G]||v;});}else g=w.split(m.col_separators),g=c.map(function(M,L){return g[L]||v;});if(!i&&m.labels){var _M=f(m,"labels."+g[0],v);_M&&(g=[g.shift(),_M].concat(g));}
if(m.extraInfo){var _M2=f(m,"extraInfo."+g[0],null);_M2&&(g=g.concat(Object.keys(_M2).map(function(L){return _M2[L]||v;})));}
h.push(p.concat(g));});}else h.push(p);}}),h.length>0&&s(rs,{columns:d,data:h,details:u});}},_Ue=function Ue(t){var e=t.datalayerKey,n=t.datalayerValue,l=t.labels,r=t.details,a=t.detailsCollapsed,i=f(l,e,{}),c=typeof i=="string"?i:"",u=f(r,e,{})||{},_C25=C(t.objectsCollapsed?t.objectsCollapsed:!1),_C26=_slicedToArray(_C25,2),d=_C26[0],h=_C26[1],o=function o(){return h(!d);};return R(function(){h(t.objectsCollapsed);},[t.objectsCollapsed]),ze(n)?s(P,{children:[s(it,{prop:e,label:c,detailContent:u.content,detailType:u.type,detailIcon:u.icon,detailCollapsed:a,collapsible:pe(n),collapsed:d,onExpand:o,onCollapse:o},e),s("div",{className:"--table-map-row-object--"+(d?" --collapsed--":""),children:Array.isArray(n)?n.map(function(_,p){return s(_Ue,{datalayerKey:""+p,datalayerValue:_,details:u.children,detailsCollapsed:a},p);}):Object.keys(n).map(function(_){return s(_Ue,{datalayerKey:_,datalayerValue:n[_],labels:i,details:u.children,detailsCollapsed:a},_);})})]}):s(it,{prop:e,value:n,label:c,detailContent:u.content,detailType:u.type,detailIcon:u.icon,detailCollapsed:a},e);},it=function it(t){var e=t.prop,n=t.value,l=t.label,r=t.detailContent,a=t.detailType,i=t.collapsible,c=t.collapsed,u=t.onCollapse,d=t.onExpand,h=t.detailIcon&&typeof t.detailIcon=="string"?s(us,{type:t.detailIcon}):t.detailIcon,o=r&&{__html:r},_C27=C(t.detailCollapsed?t.detailCollapsed:!0),_C28=_slicedToArray(_C27,2),_=_C28[0],p=_C28[1],m=function m(v){v.stopPropagation(),p(!_);};return R(function(){return p(t.detailCollapsed);},[t.detailCollapsed]),s("div",{className:"--table-map-row--",children:[s("div",{className:"--table-map-col--",onClick:function onClick(){i&&(c?d():u());},children:[s("div",{className:"--table-map-col-main--",children:[r&&s("div",{className:"--table-map-col-icon--"+(a?" --"+a+"--":""),children:h?s("div",{onClick:m,children:h}):s(Ot,{onClick:m})}),s("div",{className:"--table-map-col-key--",children:l?l+" ("+e+") ":e}),!i&&s("div",{className:"--table-map-col-value--",children:fe(n,null,2)})]}),r&&!_&&s("div",{className:"--table-map-details--"+(a?" --"+a+"--":""),children:s("div",{dangerouslySetInnerHTML:o})})]}),i&&s("div",{className:"--table-map-show-details--",children:[" ",c?s(Vt,{onClick:d}):s(Rt,{onClick:u})," "]})]});},us=function us(t){var e=t.type;switch(e.toLocaleLowerCase()){case"error":return s(Tt,{});case"warning":return s(ts,{});case"success":return s(jt,{});default:return s(Ot,{});}},hs=function hs(_ref5){var t=_ref5.children,e=_ref5.key,n=_objectWithoutProperties(_ref5,_excluded5);var l=n.title,r=n.collapsible,a=n.collapsed,i=n.header,_C29=C(r?a:!1),_C30=_slicedToArray(_C29,2),c=_C30[0],u=_C30[1],d=function d(){u(!c);};return R(function(){u(n.collapsed);},[n.collapsed]),s("div",{className:"--panel--",children:[s("div",{className:"--panel--title--",onClick:d,children:[s("div",{children:[" ",l||e," "]}),i?s("div",{children:i}):s(P,{}),r?c?s(Vt,{}):s(Rt,{}):s(P,{})]}),r&&c?s(P,{}):s("div",{className:"--panel--content--",children:t||s(P,{})})]});},It=function It(_ref6){var t=_ref6.children,e=_objectWithoutProperties(_ref6,_excluded6);var _de=de(),n=_de.opened,l=_de.closeScreen;return s("div",{className:"--screen--"+(n?" --collapsed--":""),children:[s("div",{className:"--screen-header--",children:[s("div",{className:"--screen-titles--",children:[s(ot,{type:"title",label:e==null?void 0:e.labelTitle,value:e==null?void 0:e.title}),s(ot,{type:"subtitle",label:e==null?void 0:e.labelSubtitle,value:e==null?void 0:e.subtitle})]}),s("div",{className:"--screen-close--",children:s(Bt,{onClick:l})})]}),s(le,{}),s("div",{className:"--screen-content--",children:t||s(P,{})})]});},ot=function ot(t){var e=/^(sub)?title$/.test(t==null?void 0:t.type)?t.type:"title",n=(t==null?void 0:t.label)||"",l=(t==null?void 0:t.value)||"",r=e=="title"?"Title":"Sub Title";if(n||l)return s("div",{className:"--screen-"+t.type+"--",children:[s("b",{children:n||r}),": ",l]});},ps=function ps(t){var _se=se(),e=_se.opened,n=_se.openPanel;if(!e)return s("div",{className:"analyticsLogOpen",onClick:n,children:s(Mt,{id:"analyticsLogoIcon",title:"Analytics Log Icon",width:"40",height:"40"})});};var O=function(t){return t.BetaExt="/BetaExt",t.Storage="/Utils/Storage",t.Cookie="Utils/Cookie",t;}(O||{});var Ne={};Ne["/BetaExt"]="TealiumBetaExtService";Ne["/Utils/Storage"]="__Utils__.Storage";Ne["Utils/Cookie"]="__Utils__.Cookie";var _s=_createClass(function _s(e){var _this3=this;_classCallCheck(this,_s);this.getServicePathName=function(n){return _this3.serviceMap[n]||"";},this.getService=function(n){var l=n.split("."),r=window;for(var a=0;a<l.length;a++)r[l[a]],r=r[l[a]];return r;},this.isValidMethod=function(n,l){return typeof n[l]=="function";},this.invokeMethod=function(n,l,r){return n[l].apply(null,r);},this.getResponse=function(n,l,r){return{status:n,message:l||(n=="success"?"OK":""),result:r};},this.getRequest=function(n,l,r,a){try{var i=_this3.getServicePathName(n);if(!i)return _this3.getResponse("error",'the service url "'+n+'" is not valid');var c=_this3.getService(i);if(!c)return _this3.getResponse("error",'the service "'+i+'" is not available');if(!_this3.isValidMethod(c,l))return _this3.getResponse("error",'the service method "'+i+"."+l+'" is not valid');var u=_this3.invokeMethod(c,l,r);return a==="result"?u:_this3.getResponse("success","OK",u);}catch(i){return a==="result"?"":_this3.getResponse("error",i.message);}},this.serviceMap=_objectSpread({},e);});var T=new _s(Ne),fs=function fs(){var _C31=C(null),_C32=_slicedToArray(_C31,2),t=_C32[0],e=_C32[1],n=function n(l){return typeof l=="boolean"&&e(l);};return K.setMethods({updatePreserveLogEnabled:n}),{preserveLog:t};},gs=function gs(){var _C33=C(null),_C34=_slicedToArray(_C33,2),t=_C34[0],e=_C34[1],n=function n(l){return typeof l=="boolean"&&e(l);};return K.setMethods({updateUtagDebuggerEnabled:n}),{utagDebugger:t};},Cs=function Cs(){return s("div",{className:"analyticsLogFunctions",children:[s(ms,{}),s(ys,{}),s(bs,{}),s(vs,{})]});},ms=function ms(){if(N.isClearStorageEnabled())return s(ee,{type:"link",text:"Clear Storage",onClick:function onClick(){confirm("Are you sure to clear the Tealium storage?")&&at.prefix&&(T.getRequest(O.Storage,"removeItems",[at.prefix]),window.location.reload());}});},ys=function ys(){if(!N.isBetaExtensionsEnabled())(T.getRequest(O.BetaExt,"getIds",[],"result")||[]).forEach(function(t){T.getRequest(O.BetaExt,"removeCode",[t]);});else{var _C35=C(T.getRequest(O.BetaExt,"atleastOneAvailable",[],"result")||!1),_C36=_slicedToArray(_C35,2),t=_C36[0],e=_C36[1],_de2=de(),n=_de2.openScreen;return s(ee,{type:"link",text:"Beta Extensions",onClick:function onClick(){n({route:"/beta_extension",header:{labelTitle:"Function",title:"Beta Extensions"},content:{},setBetaExtEnabled:e});},enabled:t});}},bs=function bs(){if(N.isPreserveLogEnabled()){var _ge2=ge(),t=_ge2.analyticsPreserveLogEnabled,_fs=fs(),e=_fs.preserveLog,_C37=C(e||t),_C38=_slicedToArray(_C37,2),n=_C38[0],l=_C38[1];y.set("PreserveLogEnabled",n?"1":"0");var r=function r(){y.set("PreserveLogEnabled",n?"0":"1"),l(!n);};return R(function(){e!==null&&n!==e&&r();},[e]),s(ee,{type:"link",text:"Preserve Log",onClick:r,enabled:n});}},vs=function vs(){if(N.isUtagDebuggerEnabled()){var _ge3=ge(),t=_ge3.analyticsUtagDebuggerEnabled,_gs=gs(),e=_gs.utagDebugger,_C39=C(e||t),_C40=_slicedToArray(_C39,2),n=_C40[0],l=_C40[1];y.set("UtagDebuggerEnabled",n?"1":"0");var r=function r(){T.getRequest(O.Cookie,"set",["utagdb",n?"false":"true"]),y.set("UtagDebuggerEnabled",n?"0":"1"),l(!n);};return R(function(){e!==null&&n!==e&&r();},[e]),s(ee,{type:"link",text:"Utag Debugger",onClick:r,enabled:n});}},ws=function ws(){var _Hn=Hn(),t=_Hn.theme,e=_Hn.switchTheme,_ge4=ge(),n=_ge4.setAnalyticsLogEnabled,_se2=se(),l=_se2.closePanel,r=_se2.fullScreen,a=_se2.minimizePanel,i=_se2.maximizePanel;return s("div",{className:"analyticsLogPanelActions",children:[t=="light"?s(Wn,{onClick:e}):s(Kn,{onClick:e}),s(Bt,{onClick:l}),r?s(Xn,{onClick:a}):s(Jn,{onClick:i}),s(xt,{onClick:function onClick(){confirm("Are you sure to exit from the Analytics Log panel?")&&n(!1);}})]});},ks=function ks(t){var _se3=se(),e=_se3.closePanel;return s("div",{className:"analyticsLogTitle",children:[s(Mt,{onClick:e}),s("div",{className:"--title--",children:" Analytics Log "})]});},Ls=function Ls(t){return s("div",{className:"analyticsLogPanelHeader",children:[s(ks,{}),s(Cs,{}),s(ws,{})]});},Ss=function Ss(t){var e=f(oe,t+".title","");return(typeof e=="string"?e:"")||t;},ct=function ct(t){return/^(missing|error|done)$/.test(f(t,"status",""));},Es=function Es(t,e){return(t==="done"?/^(error|done)$/:t==="error"?/^(error)$/:/^(missing|error|done)$/).test(e);},Zt=function Zt(t,e,n,l){t.hasOwnProperty(e)?(ct(n)&&Es(t[e].status,n.status)&&(t[e].status=n.status),typeof n.notes=="string"&&(t[e].notes=n.notes),typeof n.isNew=="boolean"&&(t[e].isNew=n.isNew),Array.isArray(n.notifications)&&(t[e].notifications=t[e].notifications.concat(n.notifications)),typeof l.merge=="boolean"&&l.merge?t[e].datalayer=_objectSpread(_objectSpread({},t[e].datalayer),f(n.datalayer,"",{})):t[e].datalayer=f(n.datalayer,"",null)||t[e].datalayer):t[e]={label:Ss(e),status:ct(n)?n.status:"missing",notes:typeof n.notes=="string"?n.notes:"",isNew:typeof n.isNew=="boolean"?n.isNew:!1,notifications:Array.isArray(n.notifications)?n.notifications:[],datalayer:f(n.datalayer,"",{})};},Ps=function Ps(){var _C41=C({}),_C42=_slicedToArray(_C41,2),t=_C42[0],e=_C42[1],n=function n(r){if(!r||r<0||!t.hasOwnProperty(r)){r=Object.keys(t).length+1;var a=_objectSpread({},t);a[r]={},e(a);}
return r;},l=function l(r,a,i,c){var u=_objectSpread({},t);Zt(u[r],a,i,c),e(u);};return K.setMethods({createEvent:n,updateEvents:l}),{events:t};},qt=function qt(t){var e=t.index,n=t.source,l=t.dataKey,r=t.data;if(!N.isDatalayerEnabled(l))return s(P,{});var _de3=de(),a=_de3.openScreen,i=function i(){a({route:"/datalayer",header:{labelTitle:"Section",labelSubtitle:"Source",title:l||"",subtitle:n||""},content:r||{}});},_C43=C(!1),_C44=_slicedToArray(_C43,2),c=_C44[0],u=_C44[1],d=function d(){return u(!c);};return s("div",{className:"analyticsLogLineInfo",children:[s("div",{className:"--content--",children:[e&&s("div",{className:"--index--",children:[e,"."]}),r.status=="done"?s("div",{className:"--success--",children:s(jt,{})}):r.status=="error"?s("div",{className:"--error--",children:s(Tt,{onClick:d})}):s("div",{className:"--disabled--",children:s(ns,{})}),s("div",{className:"--text--",children:r.label}),r.notes&&s("div",{className:"--text--",children:">> "+r.notes}),r.isNew&&s(ee,{type:"chip",text:"NEW"}),r.status!=="missing"&&pe(r.datalayer)&&s(ee,{text:"Check Variables",onClick:i,enabled:!1})]}),c&&r.notifications.map(function(h){return h=f(h,"",null),h.type==="error"&&typeof h.text=="string"&&h.text&&s("div",{className:"--notification-error--",children:h.text});})]});},zt=function zt(_ref7){var t=_ref7.children,e=_objectWithoutProperties(_ref7,_excluded7);return s("div",{className:"analyticsLogPanelInfo",children:[s("div",{className:"--title--",children:e.title}),t||s(P,{})]});},Wt=function Wt(t){var e=t.index,n=t.data,l=f(n,"",{}),r=f(kt,"onEvent.title"),a=typeof r=="function"?r(l,e):typeof r=="string"?r:"Event "+e;return s(zt,{title:a,children:Object.keys(l).map(function(i,c){return s(qt,{index:t.index+"."+(c+1),dataKey:i,source:a,data:l[i]},i);})});},Ns=function Ns(){var _se4=se(),t=_se4.scrollToEndLine,_Ps=Ps(),e=_Ps.events,n=Object.keys(e);return y.get("PreserveLogEnabled","0")==="1"&&n.length>0&&y.set("LastEvent",fe(e[n.length])),R(function(){return t();},[e]),s(P,{children:n.map(function(r){return s(P,{children:[s(le,{}),s(Wt,{index:r,data:e[r]})]});})});},Ms=function Ms(){var _ge5=ge(),t=_ge5.analyticsPreserveLogLastEvent,e="-1";return t&&s(P,{children:[s(Wt,{index:e,data:JSON.parse(t)},e),s(le,{})]});},xs=function xs(){var _C45=C({}),_C46=_slicedToArray(_C45,2),t=_C46[0],e=_C46[1],n=function n(l,r,a){var i=_objectSpread({},t);Zt(i,l,r,a),e(i);};return K.setMethods({updatePageLoad:n}),{pageLoad:t};},Ds=function Ds(){var _se5=se(),t=_se5.scrollToEndLine,e=f(kt,"onPageLoad.title"),n=typeof e=="function"?e():typeof e=="string"?e:"Page Load",_xs=xs(),l=_xs.pageLoad;return R(function(){return t();},[l]),s(zt,{title:n,children:Object.keys(l).map(function(r){return s(qt,{dataKey:r,source:n,data:l[r]},r);})});},As=function As(){var t=Pn(null),_se6=se(),e=_se6.setEndLineRef;return R(function(){e(t);}),s("div",{className:"analyticsLogPanelContent",children:[s(Ms,{}),s(Ds,{}),s(Ns,{}),s("div",{ref:t,"class":"--endline--"})]});},Vs=function Vs(){var _se7=se(),t=_se7.opened,e=_se7.fullScreen;return s("div",{className:"analyticsLogPanel"+(t?" --collapsed--":"")+(e?" --fullScreen--":""),children:[s(Ls,{}),s(le,{}),s(As,{})]});};var Rs=_createClass(function Rs(){var _this4=this;_classCallCheck(this,Rs);this.init=function(e){var n=f(oe,e,{});_this4.settings=V(n)?n:{};},this.getEnrichments=function(){return Array.isArray(_this4.settings.enrichments)?_this4.settings.enrichments:[];},this.getRenamings=function(){return f(_this4.settings.renamings,"",{});},this.getGroups=function(){return f(_this4.settings.groups,"",{});},this.getLables=function(){return f(_this4.settings.labels,"",{});},this.getNotifications=function(){return f(_this4.settings,"notifications",[]);},this.getDetails=function(){return f(_this4.settings.details,"",{});},this.getFilters=function(){return f(_this4.settings,"filters",[]);},this.getHiddens=function(){return Array.isArray(_this4.settings.hiddens)?_this4.settings.hiddens:[];},this.getTables=function(){return f(_this4.settings.tables,"",{});},this.settings=null;});var F=new Rs(),Kt=function Kt(t){return t=f(t,"",{}),t.callback=typeof t.callback=="function"?t.callback:null,t.customParams=f(t,"customParams",null),t;},Xt=function Xt(t,e){var n={};var l=t.callback;return l&&t.customParams&&Object.keys(t.customParams).forEach(function(r){return n[r]=f(e,t.customParams[r],null);}),l&&l.bind(null,n);},Jt=function Jt(t,e){return Xt(Kt(t),e);},Os=function Os(t,e,n,l){var r=Jt(t,e);return n=n||[],r?r.apply(void 0,_toConsumableArray(n)):l||null;},_e={init:Kt,bind:Xt,resolve:Jt,apply:Os};var Ts=_createClass(function Ts(){var _this5=this;_classCallCheck(this,Ts);this.init=function(e){_this5.notifications=[],_this5.datalayer=e;},this.get=function(){return _this5.notifications;},this.add=function(e){var n=Array.isArray(e)?e:_e.apply(e,_this5.datalayer,[],[]);_this5.notifications=_this5.notifications.concat(n);},this.notifications=[],this.datalayer=null;});var me=new Ts();var js=_createClass(function js(){var _this6=this;_classCallCheck(this,js);this.init=function(e,n){_this6.filters=[],_this6.datalayer=e,_this6.section=n;},this.get=function(){return _this6.filters;},this.add=function(e){var l=(Array.isArray(e)?e:_e.apply(e,_this6.datalayer,[],[])).filter(function(r){var a=f(r,"dependencies",[]);for(var i in a)if(a.hasOwnProperty(i)&&f(_this6.datalayer,a[i],null))return!0;return!1;});_this6.filters=_this6.filters.concat(l);for(var r in _this6.filters)_this6.filters.hasOwnProperty(r)&&y.get("Filters["+r+"]")&&(_this6.filters[r].options=JSON.parse(y.get(_this6.section+"_Filters["+r+"]")));},this.update=function(e,n,l){_this6.filters[e].options[n].checked=l;for(var r in _this6.filters)_this6.filters.hasOwnProperty(r)&&y.set(_this6.section+"_Filters["+r+"]",JSON.stringify(_this6.filters[r].options));},this.hasChecked=function(){for(var e in _this6.filters)if(_this6.filters.hasOwnProperty(e)){var n=_this6.filters[e],l=f(n,"options",[]);for(var r in l)if(l.hasOwnProperty(r)){var a=f(l[r],"",{});if(a.checked&&a.hasOwnProperty("value"))return!0;}}
return!1;},this.apply=function(e){var n={callback:_this6.applyFilters,customParams:{}},l=[];return _this6.filters.filter(function(r){r=f(r,"",{});var a=typeof r.type=="string"?r.type:"";var i=[];f(r,"options",[]).forEach(function(h){h.checked&&h.hasOwnProperty("value")&&i.push(h.value);});var u=f(r,"onFilter",{}),d=typeof u.callback=="function"?u.callback:null;if(i.length>0&&d){var h=f(u,"customParams",{});n.customParams=_objectSpread(_objectSpread({},n.customParams),h),l.push({type:a,values:i,apply:d});}}),_e.apply(n,_this6.datalayer,[e,l],{});},this.applyFilters=function(e,n,l){var r={};var _loop2=function _loop2(a){if(n.hasOwnProperty(a)){var i=Object.keys(e);if(i.filter(function(c){return e[c].hasOwnProperty(a);}).length===i.length){var c={};i.forEach(function(d){c[d]=e[d][a].children||e[d][a];});var u=_this6.applyFilters.bind(null,c)(n[a],l);if(pe(u))r[a]=u;else{var d=!0;l.forEach(function(h){d=d&&h.apply(_objectSpread(_objectSpread({},e),{},{datalayerKey:a,datalayerValue:n[a],filterType:h.type,filterValues:h.values}));}),d&&(r[a]=pe(n[a])?{}:n[a]);}}}};for(var a in n){_loop2(a);}
return r;},this.filters=[],this.datalayer=null;});var q=new js();var Fs=_createClass(function Fs(){var _this7=this;_classCallCheck(this,Fs);this.init=function(e){_this7.details={},_this7.datalayer=e;},this.get=function(){return _this7.details;},this.set=function(e){var n=_e.apply(f(e,"",{}),_this7.datalayer,[],null)||e;_this7.details=n;},this.details={},this.datalayer=null;});var Ae=new Fs();var Gs=_createClass(function Gs(){var _this8=this;_classCallCheck(this,Gs);this.softCopy=function(e){var n=f(e,"",{});_this8.datalayerReplaced=Object.keys(n).length>0?_objectSpread({},n):n;},this.enrichment=function(){F.getEnrichments().forEach(function(n){var l=f(n,"",{}),r=f(l,"customParams",{});r.datalayer="",_e.apply(l,_this8.datalayerReplaced,[],null);});},this.rename=function(){var e=xn(_this8.datalayerReplaced,F.getRenamings());Object.keys(e).length>0&&(_this8.datalayerReplaced=e);},this["delete"]=function(){var e=F.getHiddens();Array.isArray(e)&&e.forEach(function(n){typeof n=="string"&&delete _this8.datalayerReplaced[n];});},this.apply=function(e){return _this8.softCopy(e),_this8.enrichment(),_this8.rename(),_this8["delete"](),_this8.datalayerReplaced;},this.datalayerReplaced={};});var Hs=new Gs(),Yt=te(null),re=function re(){return ne(Yt);},Us=function Us(_ref8){var t=_ref8.children,e=_ref8.datalayer,n=_ref8.section,l=_ref8.notifications;F.init(n);var r=Hs.apply(e),a=F.getGroups(),_C47=C(N.isDatalayerGroupsEnabled(n)&&Object.keys(a).length>0?y.get(n+"_GroupsApplied")?y.get(n+"_GroupsApplied")=="1":N.isDatalayerGroupsApplied(n):null),_C48=_slicedToArray(_C47,2),i=_C48[0],c=_C48[1],u=function u(){We(X(A,!i)),y.set(n+"_GroupsApplied",i?"0":"1"),c(!i);},_C49=C(N.isDatalayerSearchEnabled(n)?y.get(n+"_SearchText")||"":null),_C50=_slicedToArray(_C49,2),d=_C50[0],h=_C50[1],o=function o(S){xe(S,g,_,i),y.set(n+"_SearchText",S),h(S);},_C51=C(N.isDatalayerSortingEnabled(n)?y.get(n+"_SortingType")||"none":null),_C52=_slicedToArray(_C51,2),_=_C52[0],p=_C52[1],m=function m(S){xe(d,g,S,i),y.set(n+"_SortingType",S),p(S);};q.init(e,n),N.isDatalayerFiltersEnabled(n)&&q.add(F.getFilters());var _C53=C(q.get()),_C54=_slicedToArray(_C53,2),v=_C54[0],w=_C54[1],_C55=C(q.hasChecked()),_C56=_slicedToArray(_C55,2),g=_C56[0],b=_C56[1],M=function M(S,$,ue){q.update(S,$,ue);var I=q.hasChecked();xe(d,I,_,i),w(_toConsumableArray(q.get())),b(I);};Ae.init(e),N.isDatalayerDetailsEnabled(n)&&Ae.set(F.getDetails());var L=Ae.get();me.init(e),me.add(l),me.add(F.getNotifications());var U=me.get(),B=F.getLables(),G=i?F.getTables():{},H=function H(S,$,ue,I){var j=S;return $&&(j=An(j,$)),ue&&(j=q.apply(j)),I&&I!=="none"&&(j=_wt(j,I==="desc"?"descending":"ascending")),j;},X=function X(S,$){return $?Tn(S,a,!0):{};},_C57=C(H(r,d,g,_)),_C58=_slicedToArray(_C57,2),A=_C58[0],ae=_C58[1],_C59=C(Object.keys(A)),_C60=_slicedToArray(_C59,2),ln=_C60[0],rn=_C60[1],_C61=C(He(A)),_C62=_slicedToArray(_C61,2),an=_C62[0],on=_C62[1],_C63=C(L?Ge(A,L):!1),_C64=_slicedToArray(_C63,2),cn=_C64[0],dn=_C64[1],_C65=C(X(A,i)),_C66=_slicedToArray(_C65,2),Me=_C66[0],un=_C66[1],_C67=C(i?Object.keys(Me):[]),_C68=_slicedToArray(_C67,2),hn=_C68[0],pn=_C68[1],_n=function _n(S){ae(S),rn(Object.keys(S)),on(He(S)),dn(L?Ge(S,L):!1);},We=function We(S){un(S),pn(Object.keys(S));},xe=function xe(S,$,ue,I){var j=H(r,S,$,ue);_n(j);var gn=X(j,I);We(gn);},fn=W(function(){return{searchText:d,updateSearch:o,sortingType:_,updateSorting:m,datalayerFilters:v,updateDatalayerFilters:M,grouped:i,switchGroup:u,datalayerNotifications:U,datalayerDetails:L,datalayerLabels:B,datalayerTables:G,datalayerFiltered:A,datalayerFilteredKeys:ln,datalayerFilteredHasChildren:an,datalayerFilteredHasDetails:cn,datalayerFilteredGrouped:Me,datalayerFilteredGroupedKeys:hn};},[A,Me]);return s(Yt.Provider,{value:fn,children:t||s(P,{})});},ye=function ye(t,e,n){y.set(t,e?"1":"0"),n(e);},Qt=te(null),en=function en(){return ne(Qt);},Bs=function Bs(_ref9){var t=_ref9.children,e=_ref9.section;var _C69=C(y.get(e+"_ObjectsAllCollapsed")?y.get(e+"_ObjectsAllCollapsed")=="1":!N.isDatalayerObjectsAllOpened(e)),_C70=_slicedToArray(_C69,2),n=_C70[0],l=_C70[1],r=function r(){return ye(e+"_ObjectsAllCollapsed",!n,l);},_C71=C(y.get(e+"_DetailsAllCollapsed")?y.get(e+"_DetailsAllCollapsed")=="1":!N.isDatalayerDetailsAllOpened(e)),_C72=_slicedToArray(_C71,2),a=_C72[0],i=_C72[1],c=function c(){return ye(e+"_DetailsAllCollapsed",!a,i);},_C73=C(y.get(e+"_GroupssAllCollapsed")?y.get(e+"_GroupssAllCollapsed")=="1":!N.isDatalayerGroupsAllOpened(e)),_C74=_slicedToArray(_C73,2),u=_C74[0],d=_C74[1],h=function h(){return ye(e+"_GroupssAllCollapsed",!u,d);},_C75=C(y.get(e+"_TableViewAllEnabled")?y.get(e+"_TableViewAllEnabled")=="1":N.isDatalayerTableView(e)),_C76=_slicedToArray(_C75,2),o=_C76[0],_=_C76[1],p=function p(){return ye(e+"_TableViewAllEnabled",!o,_);},m=W(function(){return{objectsCollapsedAll:n,switchObjectsCollapsedAll:r,detailsCollapsedAll:a,switchDetailsCollapsedAll:c,panelsCollapsedAll:u,switchPanelsCollapsedAll:h,tableViewAll:o,switchTableViewAll:p};},[n,a,u,o]);return s(Qt.Provider,{value:m,children:t||s(P,{})});},tn=te(null),Be=function Be(){return ne(tn);},nn=function nn(_ref10){var t=_ref10.children,e=_objectWithoutProperties(_ref10,_excluded8);var _C77=C(e.datalayer||{}),_C78=_slicedToArray(_C77,2),n=_C78[0],l=_C78[1],_C79=C(Object.keys(e.datalayer||{})),_C80=_slicedToArray(_C79,2),r=_C80[0],a=_C80[1];R(function(){l(e.datalayer),a(Object.keys(e.datalayer));},[e.datalayer]);var _re=re(),i=_re.datalayerDetails,c=He(n),u=i?Ge(n,i):!1,_C81=C(e.objectsCollapsed?e.objectsCollapsed:!1),_C82=_slicedToArray(_C81,2),d=_C82[0],h=_C82[1],o=function o(){return h(!d);};R(function(){h(e.objectsCollapsed);},[e.objectsCollapsed]);var _C83=C(e.detailsCollapsed?e.detailsCollapsed:!0),_C84=_slicedToArray(_C83,2),_=_C84[0],p=_C84[1],m=function m(){return p(!_);};R(function(){p(e.detailsCollapsed);},[e.detailsCollapsed]);var _C85=C(e.tableView?e.tableView:!0),_C86=_slicedToArray(_C85,2),v=_C86[0],w=_C86[1],g=function g(){return w(!v);};R(function(){w(e.tableView);},[e.tableView]);var b=W(function(){return{datalayer:n,datalayerKeys:r,datalayerHasChildren:c,datalayerHasDetails:u,objectsCollapsed:d,switchObjectsCollapsed:o,detailsCollapsed:_,switchDetailsCollapsed:m,tableView:v,switchTableView:g};},[n,d,_,v]);return s(tn.Provider,{value:b,children:t||s(P,{})});},$s=function $s(){var _de4=de(),t=_de4.data,e=t.header||{},n=t.content||{},l=(n==null?void 0:n.datalayer)||{},r=(n==null?void 0:n.notifications)||[];if((t==null?void 0:t.route)==="/datalayer")return s("div",{className:"analyticsDatalayerScreen",children:s(It,{labelTitle:e.labelTitle||"",labelSubtitle:e.labelSubtitle||"",title:e.title||"",subtitle:e.subtitle||"",children:s(Us,{datalayer:l,section:e.title,notifications:r,children:[s(Is,{}),s(le,{}),s(Bs,{section:e.title,children:s(Ks,{})})]})})});},Is=function Is(t){return s("div",{className:"--filters-wrapper--",children:[s(Zs,{}),s(zs,{}),s(qs,{}),s(Ws,{})]});},Zs=function Zs(t){var _re2=re(),e=_re2.searchText,n=_re2.updateSearch;return typeof e=="string"&&s("div",{className:"--filters--",children:s("label",{"for":"search",children:[s("div",{children:"Search"}),s("div",{children:[s(ss,{}),s("input",{id:"search",name:"search",type:"search",value:e,placeholder:"Search datalayer variables",onInput:function onInput(r){var a=r.currentTarget.value||"";n(a);}})]})]})});},qs=function qs(t){var _re3=re(),e=_re3.switchGroup,n=_re3.grouped,l=function l(r){e();};return typeof n=="boolean"&&s("div",{className:"--filters--",children:[s("label",{className:"--title",children:"Grouped"}),s("label",{children:[s("input",{type:"radio",name:"groups",value:"none",checked:!n,onInput:l}),"No"]}),s("label",{children:[s("input",{type:"radio",name:"groups",value:"all",checked:n,onInput:l}),"Yes"]})]});},zs=function zs(){var _re4=re(),t=_re4.datalayerFilters,e=_re4.updateDatalayerFilters,n=function n(l,r,a){var i=a.currentTarget.checked||!1;e(l,r,i);};return s(P,{children:t.map(function(l,r){var a=typeof l.label=="string"&&l.label?l.label:"Filter "+r,i=Array.isArray(l.options)?l.options:[];return s("div",{className:"--filters--",children:[s("label",{className:"--title",children:a}),i.map(function(c,u){var d=/string|number/.test(_typeof(c.value))?c.value:null,h=typeof c.label=="string"&&c.label?c.label:"Option "+u,o=typeof c.checked=="boolean"?c.checked:!1;return s("label",{children:[s("input",{type:"checkbox",name:""+d,checked:o,onInput:n.bind(null,r,u)}),h]});})]});})});},Ws=function Ws(t){var _re5=re(),e=_re5.sortingType,n=_re5.updateSorting,l=function l(r){var a=r.currentTarget.value||"";n(a);};return typeof e=="string"&&s("div",{className:"--filters--",children:[s("label",{className:"--title",children:"Sorted"}),s("label",{children:[s("input",{type:"radio",name:"sorting",value:"none",checked:e=="none",onInput:l}),"No"]}),s("label",{children:[s("input",{type:"radio",name:"sorting",value:"asc",checked:e=="asc",onInput:l}),"Ascending"]}),s("label",{children:[s("input",{type:"radio",name:"sorting",value:"desc",checked:e=="desc",onInput:l}),"Descending"]})]});},Ks=function Ks(t){var _re6=re(),e=_re6.grouped,n=_re6.datalayerNotifications,l=_re6.datalayerFiltered,r=_re6.datalayerFilteredKeys,a=_re6.datalayerFilteredHasChildren,i=_re6.datalayerFilteredHasDetails,c=_re6.datalayerFilteredGrouped,u=_re6.datalayerFilteredGroupedKeys,_en=en(),d=_en.objectsCollapsedAll,h=_en.switchObjectsCollapsedAll,o=_en.detailsCollapsedAll,_=_en.switchDetailsCollapsedAll,p=_en.panelsCollapsedAll,m=_en.switchPanelsCollapsedAll,v=_en.tableViewAll,w=_en.switchTableViewAll;return s("div",{className:"--results--",children:[s("div",{className:"--summary--",children:[s("div",{className:"--count--",children:[s("span",{children:[s("span",{className:"--label",children:"Results: "}),r.length]}),e?s("span",{children:[s("span",{className:"--label",children:[" | Groups: "," "]}),u.length]}):""]}),s("div",{className:"--actions--",children:[a&&v&&(d?s(Ht,{onClick:h}):s(Ut,{onClick:h})),i&&v&&(o?s(Ft,{onClick:_}):s(Gt,{onClick:_})),e&&(p?s(es,{onClick:m}):s(Qn,{onClick:m})),v?s(At,{onClick:w}):s(Dt,{onClick:w})]})]}),s(le,{}),n.map(function(g){if(g=f(g,"",null),g){var b=typeof g.text=="string"?g.text:"",M=/^(error|warning|success|info)$/.test(g.type)?g.type:"";return s("div",{className:"--notification--"+(M?" --"+M+"--":""),children:[" ",b]});}}),e?u.map(function(g){return s(Xs,{title:c[g].labelGroup||g,data:c[g].dataGroup},g);}):s(nn,{datalayer:l,tableView:v,objectsCollapsed:d,detailsCollapsed:o,children:s(sn,{})})]});},Xs=function Xs(t){var e=t.key,n=t.title,l=t.data,_en2=en(),r=_en2.objectsCollapsedAll,a=_en2.detailsCollapsedAll,i=_en2.panelsCollapsedAll,c=_en2.tableViewAll;return s(nn,{datalayer:l,tableView:c,objectsCollapsed:r,detailsCollapsed:a,children:s(hs,{title:n,collapsible:!0,collapsed:i,children:[s(Js,{}),s(le,{}),s(sn,{})]},e)});},Js=function Js(t){var _Be=Be(),e=_Be.objectsCollapsed,n=_Be.switchObjectsCollapsed,l=_Be.detailsCollapsed,r=_Be.switchDetailsCollapsed,a=_Be.tableView,i=_Be.switchTableView,_Be2=Be(),c=_Be2.datalayerKeys,u=_Be2.datalayerHasChildren,d=_Be2.datalayerHasDetails;return s("div",{className:"--summary--",children:[s("div",{className:"--count--",children:s("span",{children:[s("span",{className:"--label",children:"Results: "}),c.length]})}),s("div",{className:"--actions--",children:[u&&a&&(e?s(Ht,{onClick:n}):s(Ut,{onClick:n})),d&&a&&(l?s(Ft,{onClick:r}):s(Gt,{onClick:r})),a?s(At,{onClick:i}):s(Dt,{onClick:i})]})]});},sn=function sn(){var _re7=re(),t=_re7.datalayerLabels,e=_re7.datalayerTables,n=_re7.datalayerDetails,_Be3=Be(),l=_Be3.datalayer,r=_Be3.objectsCollapsed,a=_Be3.detailsCollapsed,i=_Be3.tableView;return s("div",{className:"--content--",children:i?s($t,{data:l,labels:t,tables:e,details:n,detailsCollapsed:a,objectsCollapsed:r}):s(ls,{data:l})});},Ys=function Ys(){var _de5=de(),t=_de5.data,e=t.header||{},n=function n(){return window.location.reload();};if((t==null?void 0:t.route)==="/beta_extension")return s("div",{className:"betaExtensionScreen",children:s(It,{labelTitle:e.labelTitle||"",title:e.title||"",children:[s(Qs,{}),s(Yn,{id:"betaExt--refresh",onClick:n})]})});},Qs=function Qs(){var _de6=de(),t=_de6.data,e="beta_ext_id_",n=function n(l){var r=l.currentTarget.value||"",a=l.currentTarget.id.replace(e,"");r?T.getRequest(O.BetaExt,"setCode",[a,r]):T.getRequest(O.BetaExt,"removeCode",[a]),t.setBetaExtEnabled(T.getRequest(O.BetaExt,"atleastOneAvailable",[],"result")||!1);};return(T.getRequest(O.BetaExt,"getIds",[],"result")||[]).map(function(l){var _this9=this;return s(el,{id:e+l,label:T.getRequest(O.BetaExt,"getName",[l],"result"),text:T.getRequest(O.BetaExt,"getCode",[l],"result"),onInput:n,onFocus:function onFocus(){return _this9.select();}},l);});},el=function el(t){return s("div",{className:"--container--",children:[s("label",{"for":t.id,className:"--title--",children:t.label}),s("textarea",{id:t.id,name:t.id,className:"--content--",onInput:t.onInput,children:t.text})]});};function tl(){return s(In,{children:s(Un,{children:s(qn,{children:[s(ps,{}),s(zn,{children:[s(Vs,{}),s($s,{}),s(Ys,{})]})]})})});}
kn(s(tl,{}),document.getElementById("analyticsLogComponent"));}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:'Analytics Log > Component',context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:'Analytics Log > Component',fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.6 - Automatic QA - Service';var tealiumExtensionCode=function(){__Utils__.MessageLogging.timeStart('AUTO QA: CREATION');window.AutoQAService=function AutoQAServiceCTRL(){var __cname='AutoQAService';try{var MLOG=__Utils__.MessageLogging;var TC=__Utils__.TypeChecking;var REB=__Utils__.RegExpBuilder;var ___=__Utils__.Common;var CustomDataObject=__Utils__.CustomDataObject;var DatalayerTableObject=__Utils__.DatalayerTableObject;var MapObject=__Utils__.MapObject;var ArrayList=__Utils__.ArrayList;var ConfigDefaultTable=function ConfigDefaultTableCTRL(){var __cname='AutoQAService.ConfigDefaultTable';try{var __table=new MapObject('any');__table.setData({'DatalayerDepthSeparator':'$$','DatalayerDependencySeparator':'___','DatalayerDynamicProp':'__INDEX__','DatalayerEmptyProp':'__EMPTY__',});this.export={getTable:function(){return __table.getData();},};{var keys=__table.getKeys();for(var i=0;i<keys.length;i++){this.export['get'+keys[i]]=function(key){return __table.getValue(key);}.bind(null,keys[i]);this.export['set'+keys[i]]=function(key,value){__table.setEntry(key,value);}.bind(null,keys[i]);}}}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigDefaultTableCTRL.prototype));};var ConfigGlobalStaticTable=function ConfigGlobalStaticTableCTRL(TABLE){var __cname='AutoQAService.ConfigGlobalStaticTable';try{var __table=new MapObject('array');var __getTable=function(){return __table.getData();};var __setTable=function(t){if(t)__table.setData(t);};var __getInfo=function(key){return __table.getValue(key);};var __setInfo=function(key,values){return __table.setEntry(key,values);};__setTable(TABLE);this.export={getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},getInfo:function(key){return ___.tryCatch(__getInfo,[key],null,__cname);},setInfo:function(key,values){return ___.tryCatch(__setInfo,[key,values],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigGlobalStaticTableCTRL.prototype));};var ConfigPropertyStaticTable=function ConfigPropertyStaticTableCTRL(TABLE){var __cname='AutoQAService.ConfigPropertyStaticTable';try{var __s_info=new CustomDataObject({values:'array'});var __table=new DatalayerTableObject(__s_info,CFGD.getDatalayerDepthSeparator(),CFGD.getDatalayerDynamicProp());var __getTable=function(){return __table.getData();};var __setTable=function(t){__table.setData(t);};var __getInfo=function(prop){var info=__table.getInfo(prop);return!TC.isNull(info)?info.values:null;};var __setInfo=function(prop,values){var info=TC.isNull(values)?{}:{values:values};return __table.setEntry(prop,info);};var __init=function(){__table.setDepthSeparator(CFGD.getDatalayerDepthSeparator());__table.setDynamicProperty(CFGD.getDatalayerDynamicProp());};var __isValueOf=function(prop,value){return TC.isString(value)&&REB.isValueOf(__getInfo(prop)).test(value)?true:false;};__setTable(TABLE);this.export={init:function(){return ___.tryCatch(__init,[],null,__cname);},getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},getInfo:function(prop){return ___.tryCatch(__getInfo,[prop],null,__cname);},setInfo:function(prop,values){return ___.tryCatch(__setInfo,[prop,values],null,__cname);},isValueOf:function(prop,value){return ___.tryCatch(__isValueOf,[prop,value],false,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigPropertyStaticTableCTRL.prototype));};var ConfigSuggTable=function ConfigSuggTableCTRL(TABLE){var __cname='AutoQAService.ConfigSuggTable';try{var __s_info=new CustomDataObject({suggestions:'string'});var __table=new DatalayerTableObject(__s_info,CFGD.getDatalayerDepthSeparator(),CFGD.getDatalayerDynamicProp());var __globalSuggestions=new MapObject('string');var __getTable=function(){return __table.getData();};var __setTable=function(t){__table.setData(t);};var __getInfo=function(prop){var info=__table.getInfo(prop);return!TC.isNull(info)?info.suggestions:null;};var __setInfo=function(prop,suggestions){var info=TC.isNull(suggestions)?{}:{suggestions:suggestions};return __table.setEntry(prop,info);};var __init=function(){__table.setDepthSeparator(CFGD.getDatalayerDepthSeparator());__table.setDynamicProperty(CFGD.getDatalayerDynamicProp());};var __getGlobalSuggestions=function(key){return __globalSuggestions.hasKey(key)?__globalSuggestions.getValue(key):__globalSuggestions.getData();};var __setGlobalSuggestions=function(map){for(var key in map)__globalSuggestions.setEntry(key,map[key]);};__setTable(TABLE);__globalSuggestions.setData({SINGLE_VALUE:'It must be',MULTIPLE_VALUE:'It must be one of',EMPTY_STRING:'empty string'});this.export={init:function(){return ___.tryCatch(__init,[],null,__cname);},getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},getInfo:function(prop){return ___.tryCatch(__getInfo,[prop],null,__cname);},setInfo:function(prop,suggestions){return ___.tryCatch(__setInfo,[prop,suggestions],null,__cname);},getGlobalSuggestions:function(key){return ___.tryCatch(__getGlobalSuggestions,[key],{},__cname);},setGlobalSuggestions:function(map){return ___.tryCatch(__setGlobalSuggestions,[map],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigSuggTableCTRL.prototype));};var ConfigDatalayerPropertyListTable=function ConfigDatalayerPropertyListTableCTRL(TABLE,FORMATS){var __cname='AutoQAService.ConfigDatalayerPropertyListTable';try{var __s_info=new CustomDataObject({format:'string',acceptedProps:'number'});var __table=new DatalayerTableObject(__s_info,CFGD.getDatalayerDepthSeparator(),CFGD.getDatalayerDynamicProp());var __formats_available=new MapObject('function');var __formats_requested=new ArrayList('string',true,true);var __formats_complex_struct='object|array';var __getTable=function(){return __table.getData();};var __setTable=function(t){__table.setData(t,function(info){return __isValidInfo(info.format,info.acceptedProps);});};var __isValidInfo=function(format,acceptedProps){return __isValidFormatRequested(format)&&__isValidAcceptedProps(acceptedProps,format);};var __isValidFormatRequested=function(value){return __formats_requested.hasValue(value);};var __isValidAcceptedProps=function(acceptedProps,format){var __fname='__isValidAcceptedProps';if(!TC.isUndefined(acceptedProps)){if(acceptedProps>-1&&format!=='object'&&format!=='array'){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > acceptedProps can be set with positive number (zero included) only for objects and arrays',prop:'acceptedProps',value:acceptedProps});return false;}
if(acceptedProps<0&&(format=='object'||format=='array')){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > acceptedProps can be set with negative number only for formats different than objects or arrays',prop:'acceptedProps',value:acceptedProps});return false;}}
return true;};var __getInfo=function(prop,key){var info=__table.getInfo(prop);return!TC.isNull(info)?(key?info[key]:info):null;};var __setInfo=function(props,value){var info=TC.isString(value)?{format:value}:TC.isPureObject(value)?value:null;if(!TC.isNull(info)&&__isValidInfo(info.format,info.acceptedProps)){props=TC.isArray(props)?props:[props];props.forEach(function(prop){__table.setEntry(prop,___.merge({},info));});}};var __getFormat=function(prop){return __getInfo(prop,'format');};var __getAcceptedProps=function(prop){return __getInfo(prop,'acceptedProps');};var __getAllProps=function(option){return __table.getAllProps(option);};var __getFullProp=function(pathArray){return __table.getFullProp(pathArray);};var __getPathProp=function(pathString){return __table.getPathArray(pathString);};var __isParentOfProp=function(key,dkey){return __table.isParentOf(key,dkey);};var __getFormats=function(){return __formats_requested.getData();};var __setFormats=function(values){__formats_requested.setData(values);};var __checkAvailableFormats=function(values){if(!TC.isArray(values)||TC.isEmptyArray(values))return false;for(var i=0;i<values.length;i++)if(!__formats_available.hasKey(values[i]))return false;return true;};var __isComplexStructure=function(value){return new RegExp('^'+__formats_complex_struct+'$').test(value);};var __matchFormatRequested=function(format,empty,value){return __isValidFormatRequested(format)?__formats_available.getValue(format)(TC.isBoolean(empty)?empty:false,value):null;};var __init=function(){__table.setDepthSeparator(CFGD.getDatalayerDepthSeparator());__table.setDynamicProperty(CFGD.getDatalayerDynamicProp());};__formats_available.setEntry('string',function(isEmpty,value){return __Utils__.TypeChecking[isEmpty?'isEmptyString':'isString'](value);});__formats_available.setEntry('object',function(isEmpty,value){return __Utils__.TypeChecking[isEmpty?'isEmptyObject':'isPureObject'](value);});__formats_available.setEntry('array',function(isEmpty,value){return __Utils__.TypeChecking[isEmpty?'isEmptyArray':'isArray'](value);});__formats_requested.setData(__checkAvailableFormats(FORMATS)?FORMATS:__formats_available.getKeys());__setTable(TABLE);this.export={init:function(){return ___.tryCatch(__init,[],null,__cname);},getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},getInfo:function(prop){return ___.tryCatch(__getInfo,[prop],null,__cname);},setInfo:function(props,info){return ___.tryCatch(__setInfo,[props,info],null,__cname);},getFormat:function(prop){return ___.tryCatch(__getFormat,[prop],null,__cname);},getAcceptedProps:function(prop){return ___.tryCatch(__getAcceptedProps,[prop],null,__cname);},getAllProps:function(option){return ___.tryCatch(__getAllProps,[option],[],__cname);},getFullProp:function(pathArray){return ___.tryCatch(__getFullProp,[pathArray],null,__cname);},getPathProp:function(pathString){return ___.tryCatch(__getPathProp,[pathString],[],__cname);},isParentOfProp:function(key,dkey){return ___.tryCatch(__isParentOfProp,[key,dkey],false,__cname);},getFormats:function(){return ___.tryCatch(__getFormats,[],[],__cname);},setFormats:function(values){return ___.tryCatch(__setFormats,[values],null,__cname);},isValidFormat:function(value){return ___.tryCatch(__isValidFormatRequested,[value],false,__cname);},isComplexStructureFormat:function(value){return ___.tryCatch(__isComplexStructure,[value],false,__cname);},matchFormat:function(format,empty,value){return ___.tryCatch(__matchFormatRequested,[format,empty,value],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigDatalayerPropertyListTableCTRL.prototype));};var ConfigDatalayerContextTable=function ConfigDatalayerContextTableCTRL(TABLE){var __cname='AutoQAService.ConfigDatalayerContextTable';try{var __s_data=new CustomDataObject({onPage:'string',onEvent:'string',eventListAsPage:'array',eventPageMap:'object',domNodeOrElementList:'array'});var __table={};var __eventPageMap=new MapObject('string');var __getTable=function(){return ___.merge({},__table);};var __setTable=function(t){if(__isValidTable(t)){__eventPageMap.setData(t.eventPageMap);__table=t;}};var __isValidTable=function(t){return t&&__s_data.isValid(t)&&__isValidPropList([t.onPage,t.onEvent])&&__isValidContextValue(t.eventListAsPage,t.onEvent)&&__isValidEventPageMap(t.eventPageMap,t.onPage,t.onEvent)&&__isValidPropList(t.domNodeOrElementList);};var __isValidEventPageMap=function(map,p_context,e_context){return __eventPageMap.isValidData(map)&&__isValidContextValue(Object.keys(map),(e_context||__getContextOnEvent()))&&__isValidContextValue(Object.keys(map).map(function(key){return map[key];}),(p_context||__getContextOnPage()));};var __isValidEventPageMapEntry=function(key,value){return __eventPageMap.isValidEntry(key,value)&&__isValidContextValue(key,__getContextOnEvent())&&__isValidContextValue(value,__getContextOnPage());};var __isValidPropList=function(values){values=TC.isArray(values)?values:[values];for(var i=0;i<values.length;i++){if(!CDPLT.getInfo(values[i])){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidPropList',msg:'Invalid Input > the datalayer property does not exist!',prop:'prop',value:values[i]});return false;}}
return true;};var __isValidContextValue=function(values,context){values=TC.isArray(values)?values:[values];for(var i=0;i<values.length;i++){if(!CPST.isValueOf(context,values[i])){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidContextValue',msg:'Invalid Input > the value provided is not a context value!',prop:'value',value:values[i]});return false;}}
return true;};var __getInfo=function(key){return __s_data.isValidKey(key)?___.merge(null,__table[key]):null;};var __setInfo=function(key,value){if(__s_data.isValidInfo(key,value)){if(key=='eventPageMap')__eventPageMap.setData(value);__table[key]=value;}};var __getContextOnPage=function(){return __getInfo('onPage')||'';};var __setContextOnPage=function(name){if(__isValidPropList(name))__setInfo('onPage',name);};var __isContextOnPage=function(name){return __getContextOnPage()===name?true:false;};var __getContextOnEvent=function(){return __getInfo('onEvent')||'';};var __setContextOnEvent=function(name){if(__isValidPropList(name))__setInfo('onEvent',name);};var __isContextOnEvent=function(name){return __getContextOnEvent()===name?true:false;};var __isValidContext=function(name){return(__isContextOnPage(name)||__isContextOnEvent(name))?true:false;};var __getEventsToUseAsPageContext=function(){return __getInfo('eventListAsPage')||[];};var __setEventsToUseAsPageContext=function(values){if(__isValidContextValue(values,__getContextOnEvent())){values=TC.isArray(values)?values:[values];var list=__getEventsToUseAsPageContext();list=TC.isEmptyArray(list)?values:___.merge(list,values);__setInfo('eventListAsPage',list);}};var __isEventToUseAsPageContext=function(value){var list=__getEventsToUseAsPageContext();return(!TC.isEmptyArray(list))&&__isValidContextValue(value,__getContextOnEvent())&&REB.isValueOf(list).test(value)?true:false;};var __getEventsMapWithPageContext=function(){return __getInfo('eventPageMap')||{};};var __getEventsListWithPageContext=function(){return __eventPageMap.getKeys().filter(function(key){if(!TC.isEmptyString(__eventPageMap.getValue(key)))return true;});};var __getPageContextOfEvent=function(key){return __eventPageMap.getValue(key)||'';};var __setEventsMapWithPageContext=function(map){if(__isValidEventPageMap(map))__setInfo('eventPageMap',map);};var __setEntryToEventsMapWithPageContext=function(e_value,p_value){if(__isValidEventPageMapEntry(e_value,p_value)){__eventPageMap.setEntry(e_value,p_value);if(!__table.hasOwnProperty('eventPageMap'))__table.eventPageMap={};__table.eventPageMap[e_value]=p_value;}};var __isEventWithPageContext=function(value){var list=__getEventsListWithPageContext();return(!TC.isEmptyArray(list))&&__isValidContextValue(value,__getContextOnEvent())&&REB.isValueOf(list).test(value)?true:false;};var __getDomNodeOrElementList=function(){return __getInfo('domNodeOrElementList')||[];};var __setDomNodeOrElementList=function(values){if(__isValidPropList(values)){values=TC.isArray(values)?values:[values];var list=__getDomNodeOrElementList();list=TC.isEmptyArray(list)?values:___.merge(list,values);__setInfo('domNodeOrElementList',list);}};var __isDomNodeOrElementList=function(value){var list=__getDomNodeOrElementList();return(!TC.isEmptyArray(list))&&__isValidPropList(value)&&REB.isValueOf(list).test(value)?true:false;};__setTable(TABLE);this.export={getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},getContextOnPage:function(){return ___.tryCatch(__getContextOnPage,[],null,__cname);},setContextOnPage:function(name){return ___.tryCatch(__setContextOnPage,[name],null,__cname);},isContextOnPage:function(name){return ___.tryCatch(__isContextOnPage,[name],false,__cname);},getContextOnEvent:function(){return ___.tryCatch(__getContextOnEvent,[],'',__cname);},setContextOnEvent:function(name){return ___.tryCatch(__setContextOnEvent,[name],null,__cname);},isContextOnEvent:function(name){return ___.tryCatch(__isContextOnEvent,[name],'',__cname);},isValidContext:function(name){return ___.tryCatch(__isValidContext,[name],false,__cname);},getEventsToUseAsPageContext:function(){return ___.tryCatch(__getEventsToUseAsPageContext,[],[],__cname);},setEventsToUseAsPageContext:function(list){return ___.tryCatch(__setEventsToUseAsPageContext,[list],null,__cname);},isEventToUseAsPageContext:function(value){return ___.tryCatch(__isEventToUseAsPageContext,[value],false,__cname);},getEventsMapWithPageContext:function(){return ___.tryCatch(__getEventsMapWithPageContext,[],{},__cname);},getEventsListWithPageContext:function(){return ___.tryCatch(__getEventsListWithPageContext,[],[],__cname);},getPageContextOfEvent:function(value){return ___.tryCatch(__getPageContextOfEvent,[value],'',__cname);},setEventsMapWithPageContext:function(map){return ___.tryCatch(__setEventsMapWithPageContext,[map],null,__cname);},setEntryToEventsMapWithPageContext:function(e_value,p_value){return ___.tryCatch(__setEntryToEventsMapWithPageContext,[e_value,p_value],null,__cname);},isEventWithPageContext:function(value){return ___.tryCatch(__isEventWithPageContext,[value],false,__cname);},getDomNodeOrElementList:function(){return ___.tryCatch(__getDomNodeOrElementList,[],[],__cname);},setDomNodeOrElementList:function(list){return ___.tryCatch(__setDomNodeOrElementList,[list],null,__cname);},isDomNodeOrElementList:function(value){return ___.tryCatch(__isDomNodeOrElementList,[value],false,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigDatalayerContextTableCTRL.prototype));};var ConfigDatalayerPriorityMap=function ConfigDatalayerPriorityMapCTRL(TABLE,PRIORITIES,NO_PRIORITY){var __cname='AutoQAService.ConfigDatalayerPriorityMap';try{var __s_data=new CustomDataObject();var __table={};var __pageContextMap=new MapObject('number');var __eventContextMap=new MapObject('number');var __priorities=new ArrayList('number',true,true);var __no_priority;var __getTable=function(){return ___.merge({},__table);};var __setTable=function(t){if(__isValidTable(t)){__pageContextMap.setData(t[CDCT.getContextOnPage()]);__eventContextMap.setData(t[CDCT.getContextOnEvent()]);__table=t;}};var __isValidTable=function(t){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();return t&&__s_data.isValid(t)&&t.hasOwnProperty(pageContext)&&t.hasOwnProperty(eventContext)&&__isValidContextMap(t[pageContext],pageContext)&&__isValidContextMap(t[eventContext],eventContext);};var __getMapBy=function(context){return CDCT.isContextOnPage(context)?__pageContextMap:CDCT.isContextOnEvent(context)?__eventContextMap:null;};var __isValidContextMap=function(map,context){return __isValidContext(context)&&__getMapBy(context).isValidData(map)&&__isValidContextValue(Object.keys(map),context)&&__isValidPriority(Object.keys(map).map(function(key){return map[key];}));};var __isValidContext=function(context){if(!CDCT.isValidContext(context)){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidContext',msg:'Invalid Input > the context provided is not valid!',prop:'context',value:context});return false;}
return true;};var __isValidContextValue=function(values,context){values=TC.isArray(values)?values:[values];for(var i=0;i<values.length;i++){if(!CPST.isValueOf(context,values[i])){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidContextValue',msg:'Invalid Input > the value provided is not a context value!',prop:'value',value:values[i]});return false;}}
return true;};var __getContextMap=function(context){return __isValidContext(context)?__table[context]:null;};var __getContextMapKeys=function(context){return __isValidContext(context)?__getMapBy(context).getKeys():null;};var __getContextMapValues=function(context){return __isValidContext(context)?__getMapBy(context).getValues():null;};var __getContextMapValue=function(context,key){return __isValidContext(context)&&__isValidContextValue(key,context)?__getMapBy(context).getValue(key):null;};var __isValidContextMapEntry=function(context,key,value){return __isValidContext(context)&&__getMapBy(context).isValidEntry(key,value)&&__isValidContextValue(key,context)&&__isValidPriority(value);};var __setContextMapEntry=function(context,key,value){if(__isValidContextMapEntry(context,key,value)){__getMapBy(context).setEntry(key,value);if(!__table.hasOwnProperty(context))__table[context]={};__table[context][key]=value;}};var __getPriorities=function(){return __priorities.getData();};var __setPriorities=function(values){__priorities.setData(values);};var __isValidPriority=function(values){values=TC.isArray(values)?values:[values];for(var i=0;i<values.length;i++){if(!__priorities.hasValue(values[i])){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidPriority',msg:'Invalid Input > the value provided is not a valid priority!',prop:'value',value:values[i]});return false;}}
return true;};var __getNoPriority=function(){return __no_priority;};var __setNoPriority=function(value){if(__priorities.hasValue(value))__no_priority=value;};var __getMinPriority=function(){return __priorities.getMinValue({exclude:[__no_priority]});};var __getMaxPriority=function(){return __priorities.getMaxValue({exclude:[__no_priority]});};__priorities.setData(PRIORITIES);if(!TC.isUndefined(NO_PRIORITY))__setNoPriority(NO_PRIORITY);if(__priorities.isEmpty()){__priorities.setData([0,1,2]);__no_priority=0;}
{var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();var __STRUCT__={};if(pageContext)__STRUCT__[pageContext]='object';if(eventContext)__STRUCT__[eventContext]='object';__s_data.setData(__STRUCT__);}
__setTable(TABLE);this.export={getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},isValidTable:function(t){return ___.tryCatch(__isValidTable,[t],false,__cname);},getContextMap:function(context){return ___.tryCatch(__getContextMap,[context],null,__cname);},getContextMapKeys:function(context){return ___.tryCatch(__getContextMapKeys,[context],null,__cname);},getContextMapValues:function(context){return ___.tryCatch(__getContextMapValues,[context],null,__cname);},getContextMapValue:function(context,key){return ___.tryCatch(__getContextMapValue,[context,key],null,__cname);},setContextMapEntry:function(context,key,value){return ___.tryCatch(__setContextMapEntry,[context,key,value],null,__cname);},getPriorities:function(){return ___.tryCatch(__getPriorities,[],[],__cname);},setPriorities:function(values){return ___.tryCatch(__setPriorities,[values],null,__cname);},isValidPriority:function(values){return ___.tryCatch(__isValidPriority,[values],false,__cname);},getNoPriority:function(){return ___.tryCatch(__getNoPriority,[],null,__cname);},setNoPriority:function(value){return ___.tryCatch(__setNoPriority,[value],null,__cname);},getMinPriority:function(){return ___.tryCatch(__getMinPriority,[],NaN,__cname);},getMaxPriority:function(){return ___.tryCatch(__getMaxPriority,[],NaN,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigDatalayerPriorityMapCTRL.prototype));};var ConfigRestrictTable=function ConfigRestrictTableCTRL(TABLE){var __cname='AutoQAService.ConfigRestrictTable';try{var __table=new MapObject('array');var __propList=new ArrayList('string',true,true);var __getTable=function(){return __table.getData();};var __setTable=function(t){if(__isValidTable(t))__table.setData(t);};var __isValidTable=function(t){if(!t||(!__table.isValidData(t)))return false;for(var key in t)if(!__isValidPropList(key,t[key]))return false;return true;};var __isValidPropList=function(key,value){var __fname='__isValidPropList';__propList.setData(value);var contexts=[CDCT.getContextOnPage(),CDCT.getContextOnEvent()];for(var i=0;i<contexts.length;i++){if(__propList.hasValue(contexts[i])){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the set of variables contains a context variable!',prop:contexts[i]+'found in',value:__propList.getData()});return false;}}
var props=__propList.getData();for(i=0;i<props.length;i++){if(!CDPLT.getInfo(props[i])){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the set of variables contains a variable not declared in datalayer table!',prop:'prop',value:props[i]});return false;}}
return true;};var __getInfo=function(key){return __table.getValue(key);};var __setInfo=function(key,value){if(__isValidPropList(key,value))__table.setEntry(key,value);};var __isRestricted=function(key,prop){__propList.setData(__getInfo(key)||[]);return __propList.isEmpty()?false:__propList.hasValue(prop);};__setTable(TABLE);this.export={getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},getInfo:function(key){return ___.tryCatch(__getInfo,[key],null,__cname);},setInfo:function(key,value){return ___.tryCatch(__setInfo,[key,value],null,__cname);},isRestricted:function(key,prop){return ___.tryCatch(__isRestricted,[key,prop],false,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigRestrictTableCTRL.prototype));};var ConfigDatalayerTable=function ConfigDatalayerTableCTRL(TABLE,PRIORITIES,NO_PRIORITY,COPIED){var __cname='AutoQAService.ConfigDatalayerTable';try{var __s_info=new CustomDataObject({priorityMap:'object',format:'string',acceptedValues:'regexp',suggestions:'string',acceptedProps:'number'});var __table=new DatalayerTableObject(__s_info,CFGD.getDatalayerDepthSeparator(),CFGD.getDatalayerDynamicProp());var __priorityMap=new ConfigDatalayerPriorityMap();var __globalAccValues=new MapObject('string');var __getTable=function(){return __table.getData();};var __setTable=function(t,isCopied){__table.setData(t,function(info){if(info.hasOwnProperty('priorityMap')&&(!__priorityMap.isValidTable(info.priorityMap)))return false;if(info.hasOwnProperty('format')&&(!__isValidFormat(info.format)))return false;return true;},isCopied);};var __getInfo=function(prop,key){var info=__table.getInfo(prop);return!TC.isNull(info)?(key?info[key]:info):null;};var __setInfo=function(prop,key,value){var info={};if(!TC.isNull(value)){if(key)info[key]=value;else info=value;}
__table.setEntry(prop,info);};var __removeInfo=function(prop){return __table.removeEntry(prop);};var __getPriorityMap=function(prop){return __getInfo(prop,'priorityMap')||{};};var __setPriorityMap=function(prop,value){if(__priorityMap.isValidTable(value))__setInfo(prop,'priorityMap',value);};var __getContextPriorityMap=function(prop,context){__priorityMap.setTable(__getPriorityMap(prop));return __priorityMap.getContextMap(context)||{};};var __setContextPriorityMap=function(props,context,priority,values){props=TC.isArray(props)?props:[props];props.forEach(function(prop){__setInfo(prop,'priorityMap',__getDefaultContextPriorityMap(__getPriorityMap(prop),context,priority,values));});};var __getDefaultContextPriorityMap=function(map,context,priority,values){__priorityMap.setTable(map);values=TC.isArray(values)?values:(values==='ALL'&&CDCT.isValidContext(context)?(CPST.getInfo(context)||[]):[values]);values.forEach(function(value){__priorityMap.setContextMapEntry(context,value,priority);});return __priorityMap.getTable();};var __getFormat=function(prop){return __getInfo(prop,'format');};var __getAcceptedValues=function(prop){return __getInfo(prop,'acceptedValues');};var __setAcceptedValues=function(props,value){var suggestions=__lookUpSuggestions(null,value);props=TC.isArray(props)?props:[props];for(var i=0;i<props.length;i++){__setInfo(props[i],'acceptedValues',__lookUpAcceptedValues(props[i],value));if(suggestions)__setInfo(props[i],'suggestions',suggestions);}};var __findAcceptedValues=function(prop,value){var values;var globalAccValues=__globalAccValues.getData();if(value===globalAccValues.OWN||value===globalAccValues.OWN_OPTIONAL)values=CPST.getInfo(prop);else if(TC.isString(value))values=CGST.getInfo(value);else if(TC.isArray(value))values=value;if(values){var list=new ArrayList();list.setData(values);if(list.size()===0||(list.size()===1&&list.hasValue('')))return null;return list.getData();}
return null;};var __lookUpAcceptedValues=function(prop,value){if(TC.isRegExp(value))return value;var values=__findAcceptedValues(prop,value);if(values){var list=new ArrayList();list.setData(values);return REB.isValueOf(values,(value===__globalAccValues.getData().OWN_OPTIONAL||list.hasValue(''))?0:1);}
return null;};var __lookUpSuggestions=function(prop,acc_values){var values=__findAcceptedValues(prop,acc_values);if(values){var global_suggestions=CHT.getGlobalSuggestions();var list=new ArrayList('string',true,false,'", "');list.setData(values);var optional=list.size()>1&&(acc_values===__globalAccValues.getData().OWN_OPTIONAL||list.hasValue(''))?' or '+global_suggestions.EMPTY_STRING:'';list.clean();if(list.size()>0)return(list.size()===1?global_suggestions.SINGLE_VALUE:global_suggestions.MULTIPLE_VALUE)+' "'+list.getData(true)+'"'+optional;return null;}
return null;};var __getSuggestions=function(prop){return __getInfo(prop,'suggestions');};var __setSuggestions=function(prop,value){__setInfo(prop,'suggestions',value);};var __getAcceptedProps=function(prop){return __getInfo(prop,'acceptedProps');};var __initDefaultTable=function(){__priorityMap=new ConfigDatalayerPriorityMap({},__priorityMap.getPriorities(),__priorityMap.getNoPriority());var props=CDPLT.getAllProps('list');if(props.length>0){var noPriority=__getNoPriority();var acceptedSuggestions=CET.getCauses('ACCEPTED_VALUES');props.forEach(function(prop){var priorityMap=__getDefaultContextPriorityMap(__getPriorityMap(prop),CDCT.getContextOnPage(),noPriority,'ALL');priorityMap=__getDefaultContextPriorityMap(__getPriorityMap(prop),CDCT.getContextOnEvent(),noPriority,'ALL');var availableValues=CPST.getInfo(prop);var acceptedValues=!availableValues||availableValues.length===0?REB.isAll():__lookUpAcceptedValues(prop,availableValues);var suggestions=CHT.getInfo(prop)||__lookUpSuggestions(prop,availableValues)||acceptedSuggestions;var acceptedProps=CDPLT.getAcceptedProps(prop);__setInfo(prop,'',{priorityMap:priorityMap,format:CDPLT.getFormat(prop),acceptedValues:acceptedValues,suggestions:suggestions,acceptedProps:!TC.isUndefined(acceptedProps)?acceptedProps:-1,});});}};var __isValidContextPriorityMap=function(prop,context){return(!TC.isEmptyObject(__getContextPriorityMap(prop,context)));};var __isValidFormat=function(format){if(!CDPLT.isValidFormat(format)){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidFormat',msg:'Invalid Input > format is not valid',prop:'format',value:format});return false;}
return true;};var __isValidAcceptedValues=function(values){return __s_info.isValidInfo('acceptedValues',values);};var __isValidSuggestions=function(suggestions){return __s_info.isValidInfo('suggestions',suggestions);};var __getPriorities=function(){return __priorityMap.getPriorities()||[];};var __setPriorities=function(values){__priorityMap.setPriorities(values);};var __isValidPriority=function(priority){return __priorityMap.isValidPriority(priority);};var __getNoPriority=function(value){return __priorityMap.getNoPriority();};var __setNoPriority=function(value){__priorityMap.setNoPriority(value);};var __getMinPriority=function(value){return __priorityMap.getMinPriority();};var __getMaxPriority=function(value){return __priorityMap.getMaxPriority();};var __getKeys=function(prop){return __table.getKeys(prop);};var __isStructure=function(prop){return CDPLT.isComplexStructureFormat(__getFormat(prop));};var __hasDynamicProp=function(prop){var acceptedProps=__getAcceptedProps(prop);return(TC.isNull(acceptedProps)||acceptedProps<0)?false:true;};var __getAcceptedKeys=function(prop,datalayer){var acceptedProps=__getAcceptedProps(prop);var keys=Object.keys(datalayer||{});if(TC.isNull(acceptedProps)||acceptedProps<0||keys.length==0)return[];if(acceptedProps==0||acceptedProps>keys.length)return keys;return keys.filter(function(key,index){if(index<acceptedProps)return true;});};var __getFullProp=function(pathArray){return __table.getFullProp(pathArray);};var __getGlobalAcceptedValues=function(key){return __globalAccValues.hasKey(key)?__globalAccValues.getValue(key):__globalAccValues.getData();};var __setGlobalAcceptedValues=function(map){for(var key in map)__globalAccValues.setEntry(key,map[key]);};var __init=function(){__table.setDepthSeparator(CFGD.getDatalayerDepthSeparator());__table.setDynamicProperty(CFGD.getDatalayerDynamicProp());};__setPriorities(PRIORITIES);if(!TC.isUndefined(NO_PRIORITY))__setNoPriority(NO_PRIORITY);__globalAccValues.setData({OWN:'__OWN__',OWN_OPTIONAL:'__OWN-OPT__'});__setTable(TABLE,COPIED);this.export={init:function(){return ___.tryCatch(__init,[],null,__cname);},getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},initDefaultTable:function(){return ___.tryCatch(__initDefaultTable,[],null,__cname);},getInfo:function(prop){return ___.tryCatch(__getInfo,[prop],null,__cname);},setInfo:function(prop,obj){return ___.tryCatch(__setInfo,[prop,'',obj],null,__cname);},removeInfo:function(prop){return ___.tryCatch(__removeInfo,[prop],null,__cname);},getPriorityMap:function(prop){return ___.tryCatch(__getPriorityMap,[prop],{},__cname);},setPriorityMap:function(prop,value){return ___.tryCatch(__setPriorityMap,[prop,value],null,__cname);},getContextPriorityMap:function(prop,context){return ___.tryCatch(__getContextPriorityMap,[prop,context],{},__cname);},setContextPriorityMap:function(props,context,priority,values){return ___.tryCatch(__setContextPriorityMap,[props,context,priority,values],null,__cname);},getFormat:function(prop){return ___.tryCatch(__getFormat,[prop],null,__cname);},getAcceptedValues:function(prop){return ___.tryCatch(__getAcceptedValues,[prop],null,__cname);},setAcceptedValues:function(prop,value){return ___.tryCatch(__setAcceptedValues,[prop,value],null,__cname);},getSuggestions:function(prop){return ___.tryCatch(__getSuggestions,[prop],null,__cname);},setSuggestions:function(prop,value){return ___.tryCatch(__setSuggestions,[prop,value],null,__cname);},getAcceptedProps:function(prop){return ___.tryCatch(__getAcceptedProps,[prop],null,__cname);},isValidContextPriorityMap:function(prop,context){return ___.tryCatch(__isValidContextPriorityMap,[prop,context],false,__cname);},isValidFormat:function(format){return ___.tryCatch(__isValidFormat,[format],false,__cname);},isValidAcceptedValues:function(values){return ___.tryCatch(__isValidAcceptedValues,[values],false,__cname);},isValidSuggestions:function(suggestions){return ___.tryCatch(__isValidSuggestions,[suggestions],false,__cname);},getPriorities:function(){return ___.tryCatch(__getPriorities,[],[],__cname);},setPriorities:function(values){return ___.tryCatch(__setPriorities,[values],null,__cname);},isValidPriority:function(priority){return ___.tryCatch(__isValidPriority,[priority],false,__cname);},getNoPriority:function(){return ___.tryCatch(__getNoPriority,[],NaN,__cname);},setNoPriority:function(value){return ___.tryCatch(__setNoPriority,[value],null,__cname);},getMinPriority:function(){return ___.tryCatch(__getMinPriority,[],NaN,__cname);},getMaxPriority:function(){return ___.tryCatch(__getMaxPriority,[],NaN,__cname);},lookUpAcceptedValues:function(prop,value){return ___.tryCatch(__lookUpAcceptedValues,[prop,value],null,__cname);},lookUpSuggestions:function(prop,acc_values){return ___.tryCatch(__lookUpSuggestions,[prop,acc_values],null,__cname);},getKeys:function(prop){return ___.tryCatch(__getKeys,[prop],[],__cname);},isStructure:function(prop){return ___.tryCatch(__isStructure,[prop],false,__cname);},hasDynamicProp:function(prop){return ___.tryCatch(__hasDynamicProp,[prop],false,__cname);},getAcceptedKeys:function(prop,datalayer){return ___.tryCatch(__getAcceptedKeys,[prop,datalayer],[],__cname);},getFullProp:function(pathArray){return ___.tryCatch(__getFullProp,[pathArray],null,__cname);},getGlobalAcceptedValues:function(key){return ___.tryCatch(__getGlobalAcceptedValues,[key],{},__cname);},setGlobalAcceptedValues:function(map){return ___.tryCatch(__setGlobalAcceptedValues,[map],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigDatalayerTableCTRL.prototype));};var ConfigDependencyValueMap=function ConfigDependencyValueMapCTRL(TABLE){var __cname='AutoQAService.ConfigDependencyValueMap';try{var __s_data=new CustomDataObject({priority:'number',acceptedValues:'regexp',suggestions:'string',contextName:'string'});var __table=new MapObject('object');var __getTable=function(){return __table.getData();};var __setTable=function(t){if(__isValidTable(t))__table.setData(t);};var __isValidTable=function(t){if(!t||(!__table.isValidData(t)))return false;for(var key in t)if(!__isValidEntry(key,t[key]))return false;return true;};var __isValidEntry=function(key,value){if(!__table.isValidEntry(key,value)||(!__s_data.isValid(value)))return false;if(value.hasOwnProperty('priority')&&(!CDT.isValidPriority(value.priority)))return false;if(value.hasOwnProperty('contextName')&&(!CDCT.isValidContext(value.contextName)))return false;return true;};var __getInfo=function(key,info){var value=__table.getValue(key);return value?(info?value[info]:value):null;};var __setInfo=function(key,info,value){var obj={};if(info)obj[info]=value;else obj=value;if(__isValidEntry(key,obj))__table.setEntry(key,obj);};var __getPriority=function(key){return __getInfo(key,'priority');};var __setPriority=function(key,value){if(CDT.isValidPriority(value))__setInfo(key,'priority',value);};var __getAcceptedValues=function(key){return __getInfo(key,'acceptedValues');};var __setAcceptedValues=function(key,value){__setInfo(key,'acceptedValues',value);};var __getSuggestions=function(key){return __getInfo(key,'suggestions');};var __setSuggestions=function(key,value){__setInfo(key,'suggestions',value);};var __getContextName=function(key){return __getInfo(key,'contextName');};var __setContextName=function(key,value){if(CDCT.isValidContext(value))__setInfo(key,'contextName',value);};var __getKeys=function(){return __table.getKeys();};var __isEmpty=function(){return __table.isEmpty();};var __reset=function(){__table.reset();};__setTable(TABLE);this.export={getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},isValidTable:function(t){return ___.tryCatch(__isValidTable,[t],false,__cname);},getKeys:function(){return ___.tryCatch(__getKeys,[],[],__cname);},getValue:function(key){return ___.tryCatch(__getInfo,[key],null,__cname);},setEntry:function(key,value){return ___.tryCatch(__setInfo,[key,'',value],null,__cname);},getPriority:function(key){return ___.tryCatch(__getPriority,[key],null,__cname);},setPriority:function(key,value){return ___.tryCatch(__setPriority,[key,value],null,__cname);},getAcceptedValues:function(key){return ___.tryCatch(__getAcceptedValues,[key],null,__cname);},setAcceptedValues:function(key,value){return ___.tryCatch(__setAcceptedValues,[key,value],null,__cname);},getSuggestions:function(key){return ___.tryCatch(__getSuggestions,[key],null,__cname);},setSuggestions:function(key,value){return ___.tryCatch(__setSuggestions,[key,value],null,__cname);},getContextName:function(key){return ___.tryCatch(__getContextName,[key],null,__cname);},setContextName:function(key,value){return ___.tryCatch(__setContextName,[key,value],null,__cname);},reset:function(){return ___.tryCatch(__reset,[],null,__cname);},isEmpty:function(){return ___.tryCatch(__isEmpty,[],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigDependencyValueMapCTRL.prototype));};var ConfigDependencyNameMap=function ConfigDependencyNameMapCTRL(TABLE,DEP_SEP){var __cname='AutoQAService.ConfigDependencyNameMap';try{var __DEPENDENCY_SEPARATOR='___';var __table=new MapObject('object');var __depValueMap=new ConfigDependencyValueMap();var __getTable=function(){return __table.getData();};var __setTable=function(t){if(__isValidTable(t))__table.setData(t);};var __isValidTable=function(t){if(!t||(!__table.isValidData(t)))return false;for(var key in t)if(!__isValidEntry(key,t[key]))return false;return true;};var __isValidEntry=function(key,value){if(!__table.isValidEntry(key,value)||(!__depValueMap.isValidTable(value)))return false;if(!__isValidDependency(key,Object.keys(value)[0]))return false;return true;};var __isValidDependency=function(key,value){var __fname='__isValidDependency';var keys=__getMultiDependency(key);var values=__getMultiDependency(value);if(keys.length<1||values.length<1||keys.length!=values.length){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > dependencies provided are not valid!',prop:'dep<key, value>',value:key+' - '+value});return false;}
for(var i=0;i<keys.length;i++){if(!CDPLT.getInfo(keys[i])){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > dependency name is not a valid datalayer variable!',prop:'dep<key>',value:keys[i]});return false;}}
return true;};var __getMultiDependency=function(key){try{var list=new ArrayList(TC.isString(key)?'string':'any',false,true,__DEPENDENCY_SEPARATOR);list.setData(TC.isString(key)?key:TC.isArray(key)?key:[]);if(TC.isString(key))return list.getData();else return list.isEmpty()?null:list.getData(true);}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'__getMultiDependency',msg:e.stack});return TC.isString(key)?[]:null;}};var __getKeys=function(){return __table.getKeys();};var __getValue=function(key){return __table.getValue(key);};var __setEntry=function(key,value){__table.setEntry(key,value);};var __getInfo=function(dep_name,dep_value,method){var info=__table.getValue(dep_name);if(info){__depValueMap.reset();__depValueMap.setEntry(dep_value,info[dep_value]);return __depValueMap[method](dep_value);}
return null;};var __setInfo=function(dep_name,dep_value,info,method){if(__isValidDependency(dep_name,dep_value)){__depValueMap.reset();__depValueMap[method](dep_value,info);if(!__depValueMap.isEmpty())__table.setEntry(dep_name,__depValueMap.getTable());}};var __getPriority=function(dep_name,dep_value){return __getInfo(dep_name,dep_value,'getPriority');};var __setPriority=function(dep_name,dep_value,info){__setInfo(dep_name,dep_value,info,'setPriority');};var __getAcceptedValues=function(dep_name,dep_value){return __getInfo(dep_name,dep_value,'getAcceptedValues');};var __setAcceptedValues=function(dep_name,dep_value,info){__setInfo(dep_name,dep_value,info,'setAcceptedValues');};var __getSuggestions=function(dep_name,dep_value){return __getInfo(dep_name,dep_value,'getSuggestions');};var __setSuggestions=function(dep_name,dep_value,info){__setInfo(dep_name,dep_value,info,'setSuggestions');};var __getContextName=function(dep_name,dep_value){return __getInfo(dep_name,dep_value,'getContextName');};var __setContextName=function(dep_name,dep_value,info){__setInfo(dep_name,dep_value,info,'setContextName');};var __isEmpty=function(){return __table.isEmpty();};var __reset=function(){__table.reset();};var __getDependencySeparator=function(){return __DEPENDENCY_SEPARATOR;};var __setDependencySeparator=function(sep){if(TC.isString(sep)&&(!TC.isEmptyString(sep)))__DEPENDENCY_SEPARATOR=sep;};__setTable(TABLE);__setDependencySeparator(DEP_SEP);this.export={getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},isValidTable:function(t){return ___.tryCatch(__isValidTable,[t],false,__cname);},getKeys:function(){return ___.tryCatch(__getKeys,[],[],__cname);},getValue:function(key){return ___.tryCatch(__getValue,[key],[],__cname);},setEntry:function(key,value){return ___.tryCatch(__setEntry,[key,value],null,__cname);},getInfo:function(dep_name,dep_value){return ___.tryCatch(__getInfo,[dep_name,dep_value,'getValue'],null,__cname);},setInfo:function(dep_name,dep_value,info){return ___.tryCatch(__setInfo,[dep_name,dep_value,info,'setEntry'],null,__cname);},getPriority:function(dep_name,dep_value){return ___.tryCatch(__getPriority,[dep_name,dep_value],null,__cname);},setPriority:function(dep_name,dep_value,info){return ___.tryCatch(__setPriority,[dep_name,dep_value,info],null,__cname);},getAcceptedValues:function(dep_name,dep_value){return ___.tryCatch(__getAcceptedValues,[dep_name,dep_value],null,__cname);},setAcceptedValues:function(dep_name,dep_value,info){return ___.tryCatch(__setAcceptedValues,[dep_name,dep_value,info],null,__cname);},getSuggestions:function(dep_name,dep_value){return ___.tryCatch(__getSuggestions,[dep_name,dep_value],null,__cname);},setSuggestions:function(dep_name,dep_value,info){return ___.tryCatch(__setSuggestions,[dep_name,dep_value,info],null,__cname);},getContextName:function(dep_name,dep_value){return ___.tryCatch(__getContextName,[dep_name,dep_value],null,__cname);},setContextName:function(dep_name,dep_value,info){return ___.tryCatch(__setContextName,[dep_name,dep_value,info],null,__cname);},getMultiDependency:function(key){return ___.tryCatch(__getMultiDependency,[key],null,__cname);},reset:function(){return ___.tryCatch(__reset,[],null,__cname);},isEmpty:function(){return ___.tryCatch(__isEmpty,[],null,__cname);},getDependencySeparator:function(){return ___.tryCatch(__getDependencySeparator,[],null,__cname);},setDependencySeparator:function(sep){return ___.tryCatch(__setDependencySeparator,[sep],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigDependencyNameMapCTRL.prototype));};var ConfigOverrideTable=function ConfigOverrideTableCTRL(TABLE){var __cname='AutoQAService.ConfigOverrideTable';try{var __depNameMap=new ConfigDependencyNameMap(null,CFGD.getDatalayerDependencySeparator());var __DEP_SEP=__depNameMap.getDependencySeparator();var __table=new DatalayerTableObject(new MapObject('object'),CFGD.getDatalayerDepthSeparator(),CFGD.getDatalayerDynamicProp());var __getTable=function(){return __table.getData();};var __setTable=function(t){__table.setData(t,function(info){return __depNameMap.isValidTable(info);});};var __getInfo=function(prop,dep_name,dep_value,method){var info=__table.getInfo(prop);if(info){if(!dep_name||(!dep_value))return null;if(!info[dep_name][dep_value]){var found=false;var dep_values=__getMultiDependency(dep_value);for(var d_value in info[dep_name]){var d_values=__getMultiDependency(d_value);if(dep_values.length==d_values.length){var matches=0;for(var i=0;i<dep_values.length;i++)if(REB.toRegExp(d_values[i]).test(dep_values[i]))matches++;if(matches==dep_values.length){dep_value=d_value;found=true;break;}}}
if(!found)return null;}
__depNameMap.reset();__depNameMap.setInfo(dep_name,dep_value,info[dep_name][dep_value]);var __getters=new ArrayList();__getters.setData(['getPriority','getAcceptedValues','getSuggestions','getContextName','getInfo']);method=__getters.hasValue(method||'')?method:'getInfo';return __depNameMap[method](dep_name,dep_value);}
return null;};var __setInfo=function(props,dep_names,dep_values,dep_info,method){var __setters=new ArrayList();__setters.setData(['setPriority','setAcceptedValues','setSuggestions','setContextName','setInfo']);method=__setters.hasValue(method||'')?method:'setInfo';props=TC.isArray(props)?props:[props];props.forEach(function(prop){dep_names=TC.isArray(dep_names)?dep_names:[dep_names];dep_names.forEach(function(dep_name){var all_dep_values=__getMultiDepValues(dep_name,dep_values);all_dep_values=TC.isArray(all_dep_values)?all_dep_values:[all_dep_values];all_dep_values.forEach(function(dep_value){var d_info=dep_info;dep_value=___.toString(dep_value);if(method==='setInfo'){if(TC.isPureObject(d_info)){d_info=___.merge({},dep_info);if(d_info.hasOwnProperty('acceptedValues')){var acc_values=__checkAndSetOwnAccValues(dep_value,d_info.acceptedValues);d_info.acceptedValues=CDT.lookUpAcceptedValues(dep_name,acc_values);d_info.suggestions=__findAndGetSuggestions(d_info.suggestions,dep_name,acc_values);}else delete d_info.suggestions;if(!d_info.hasOwnProperty('priority')||TC.isUndefined(d_info.contextName))delete d_info.contextName;}}
__depNameMap.reset();__depNameMap[method](dep_name,dep_value,d_info);d_info=__depNameMap.getInfo(dep_name,dep_value);if(d_info){var info_dv={};info_dv[dep_value]=d_info;var info_dn={};info_dn[dep_name]=info_dv;__table.setEntry(prop,info_dn);}});});});};var __checkAndSetOwnAccValues=function(dep_value,acc_values){if(acc_values===CDT.getGlobalAcceptedValues('OWN')||acc_values===CDT.getGlobalAcceptedValues('OWN_OPTIONAL')){if(__depNameMap.getMultiDependency(dep_value).length>1)return[];var values=TC.isArray(dep_value)?dep_value:[dep_value];return values.length>0&&acc_values===CDT.getGlobalAcceptedValues('OWN_OPTIONAL')?values.concat(['']):values;}
return acc_values;};var __checkAndGetOwnDepValues=function(dep_name,dep_value){return(dep_value===CDT.getGlobalAcceptedValues('OWN')||dep_value===CDT.getGlobalAcceptedValues('OWN_OPTIONAL'))?(CPST.getInfo(dep_name)||[]):dep_value;};var __getCombDepValues=function(arr1,arr2){var result=[];for(var i=0;i<arr1.length;i++)
for(var j=0;j<arr2.length;j++)result.push(arr1[i]+__DEP_SEP+arr2[j]);return result;};var __getMultiDepValues=function(dep_name,dep_values){var dname=__depNameMap.getMultiDependency(dep_name);var dvalues=TC.isArray(dep_values)?dep_values:[dep_values];if(dname.length===dvalues.length){if(dname.length==1)return __checkAndGetOwnDepValues(dname[0],dvalues[0]);for(var i=0;i<dvalues.length;i++){dvalues[i]=__checkAndGetOwnDepValues(dname[i],dvalues[i]);if(!TC.isArray(dvalues[i]))return dvalues;}
var result=dvalues[0];for(i=1;i<dvalues.length;i++)result=__getCombDepValues(result,dvalues[i]);return result;}
return dvalues;};var __getPriority=function(prop,dep_name,dep_value){return __getInfo(prop,dep_name,dep_value,'getPriority');};var __setPriority=function(props,dep_names,dep_values,priority,context_name){__setInfo(props,dep_names,dep_values,{priority:priority,contextName:context_name},'setInfo');};var __getAcceptedValues=function(prop,dep_name,dep_value){return __getInfo(prop,dep_name,dep_value,'getAcceptedValues');};var __setAcceptedValues=function(props,dep_names,dep_values,acc_values,suggestions){__setInfo(props,dep_names,dep_values,{acceptedValues:acc_values,suggestions:suggestions},'setInfo');};var __getSuggestions=function(prop,dep_name,dep_value){return __getInfo(prop,dep_name,dep_value,'getSuggestions');};var __setSuggestions=function(props,dep_names,dep_values,suggestions){__setInfo(props,dep_names,dep_values,suggestions,'setSuggestions');};var __findAndGetSuggestions=function(suggestions,prop,acc_values){return(TC.isString(suggestions)&&(!TC.isEmptyString(suggestions))?suggestions:CDT.lookUpSuggestions(prop,acc_values))||'';};var __getContextName=function(prop,dep_name,dep_value){return __getInfo(prop,dep_name,dep_value,'getContextName');};var __getAllProps=function(option){return __table.getAllProps(option);};var __getDependencyKeys=function(prop,multi_dep){multi_dep=TC.isBoolean(multi_dep)?multi_dep:true;var list=new ArrayList('string',true,true);var info=prop?__table.getInfo(prop):null;var props=info?[prop]:__getAllProps('list');props.forEach(function(prop){__depNameMap.reset();__depNameMap.setTable(__table.getInfo(prop));__depNameMap.getKeys().forEach(function(k){list.add(!multi_dep?__depNameMap.getMultiDependency(k):k);});});return list.getData();};var __getMultiDependency=function(key){return __depNameMap.getMultiDependency(key);};var __init=function(){__table.setDepthSeparator(CFGD.getDatalayerDepthSeparator());__depNameMap.setDependencySeparator(CFGD.getDatalayerDependencySeparator());__DEP_SEP=__depNameMap.getDependencySeparator();__table.setDynamicProperty(CFGD.getDatalayerDynamicProp());};__setTable(TABLE);this.export={init:function(){return ___.tryCatch(__init,[],null,__cname);},getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},getInfo:function(prop,dep_name,dep_value){return ___.tryCatch(__getInfo,[prop,dep_name,dep_value],null,__cname);},setInfo:function(props,dep_names,dep_values,info){return ___.tryCatch(__setInfo,[props,dep_names,dep_values,info],null,__cname);},getPriority:function(prop,dep_name,dep_value){return ___.tryCatch(__getPriority,[prop,dep_name,dep_value],null,__cname);},setPriority:function(props,dep_names,dep_values,priority,context_name){return ___.tryCatch(__setPriority,[props,dep_names,dep_values,priority,context_name],null,__cname);},getAcceptedValues:function(prop,dep_name,dep_value){return ___.tryCatch(__getAcceptedValues,[prop,dep_name,dep_value],null,__cname);},setAcceptedValues:function(props,dep_names,dep_values,acc_values,suggestions){return ___.tryCatch(__setAcceptedValues,[props,dep_names,dep_values,acc_values,suggestions],null,__cname);},getSuggestions:function(prop,dep_name,dep_value){return ___.tryCatch(__getSuggestions,[prop,dep_name,dep_value],null,__cname);},setSuggestions:function(props,dep_names,dep_values,suggestions){return ___.tryCatch(__setSuggestions,[props,dep_names,dep_values,suggestions],null,__cname);},getContextName:function(prop,dep_name,dep_value){return ___.tryCatch(__getContextName,[prop,dep_name,dep_value],null,__cname);},getAllProps:function(option){return ___.tryCatch(__getAllProps,[option],[],__cname);},getDependencyKeys:function(prop,multi_dep){return ___.tryCatch(__getDependencyKeys,[prop,multi_dep],[],__cname);},getMultiDependency:function(key){return ___.tryCatch(__getMultiDependency,[key],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigOverrideTableCTRL.prototype));};var ConfigPreProcessRulesTable=function ConfigPreProcessRulesTableCTRL(TABLE,MODE){var __cname='AutoQAService.ConfigPreProcessRulesTable';try{var __s_data=new CustomDataObject({name:'string',rule:'function',skip:'boolean',suggestions:'string'});var __table=new ArrayList('object',false,false);var __mode=false;var __isLastWin=function(){return __mode;};var __isFirstWin=function(){return!__mode;};var __setMode=function(flag){if(TC.isBoolean(flag))__mode=flag;};var __getTable=function(){return __table.getData();};var __setTable=function(t){__table.setData(t,__isValidInfo);};var __isValidInfo=function(item){var __fname='__isValidInfo';if(!__s_data.isValid(item))return false;if(!item.hasOwnProperty('name')||TC.isEmptyString(item.name)||(!__table.isEmpty()&&__table.hasValue(item,'name'))){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the mandatory field \'name\' is missing or duplicated!',prop:'name',value:item.name});return false;}
if(!item.hasOwnProperty('rule')){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the mandatory field \'rule\' is missing!',prop:'rule',value:item.rule});return false;}
return true;};var __setInfo=function(item){if(__isValidInfo(item))__table.add(item);};var __getInfo=function(item){//@REVIEW: can we import the private functions here???
if(TC.isNull(item))return null;return{name:function(){return __name(item);},skip:function(){return __skip(item);},suggestions:function(){return __suggestions(item);},applyRule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){return __applyRule(item,prop,value,format,priority,context_name,context_value,parents,keyValue);},};};var __applyRule=function(item,prop,value,format,priority,context_name,context_value,parents,keyValue){var result=item.rule(prop,value,format,priority,context_name,context_value,parents,keyValue);if(!TC.isBoolean(result)){MLOG.showMessage({type:'error',cname:__cname,fname:'__applyRule',msg:'Invalid output > the function \'rule\' must return a boolean value!'});return null;}
return result;};var __skip=function(item){return item.skip||false;};var __suggestions=function(item){return item.suggestions||'';};var __name=function(item){return item.name||'';};var __iterator=function IteratorCTRL(){var __icname=__cname+'.__iterator';try{var iterator=__table.iterator();var __reset=function(){iterator.reset();};var __hasNext=function(){return iterator.hasNext();};var __next=function(){return __getInfo(iterator.next());};this.export={reset:function(){return ___.tryCatch(__reset,[],null,__icname);},hasNext:function(){return ___.tryCatch(__hasNext,[],false,__icname);},next:function(){return ___.tryCatch(__next,[],null,__icname);},};}catch(e){MLOG.showMessage({type:'error',cname:__icname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},IteratorCTRL.prototype));};var __applyRules=function(prop,value,format,priority,context_name,context_value,parents,keyValue){var __fname='__applyRules';var types=CET.getTypes();try{var post_result={status:types.SUCCESS,suggestions:''};var rule_name;var iterator=__iterator();while(iterator.hasNext()){var item=iterator.next();var result=item.applyRule(prop,value,format,priority,context_name,context_value,___.merge([],parents),keyValue);if(TC.isNull(result))continue;var status=(result&&item.skip())?types.SKIP:(!result&&(!item.skip()))?types.ERROR:types.SUCCESS;if(status!=types.SUCCESS){post_result={status:status,suggestions:item.suggestions()};rule_name=item.name();if(__isFirstWin())break;}}
if(rule_name)MLOG.showMessage({type:'warn',cname:__cname,fname:__fname,msg:'Pre processing rule applied',prop:'name',value:rule_name});return post_result;}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:e.stack});return{status:types.SUCCESS,suggestions:''};}};__setTable(TABLE);__setMode(MODE);this.export={setToLastWin:function(){return ___.tryCatch(__setMode,[true],null,__cname);},setToFirstWin:function(){return ___.tryCatch(__setMode,[false],null,__cname);},isLastWin:function(){return ___.tryCatch(__isLastWin,[],null,__cname);},isFirstWin:function(){return ___.tryCatch(__isFirstWin,[],null,__cname);},getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},addRule:function(info){return ___.tryCatch(__setInfo,[info],null,__cname);},applyRules:function(prop,value,format,priority,context_name,context_value,parents,keyValue){return ___.tryCatch(__applyRules,[prop,value,format,priority,context_name,context_value,parents,keyValue],null,__cname);},iterator:function(){return ___.tryCatch(__iterator,[],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigPreProcessRulesTableCTRL.prototype));};var ConfigPostProcessRulesTable=function ConfigPostProcessRulesTableCTRL(TABLE,MODE){var __cname='AutoQAService.ConfigPostProcessRulesTable';try{var __s_data=new CustomDataObject({name:'string',key:'string',dkeylist:'array',rule:'function',success:'boolean',suggestions:'string'});var __table=new ArrayList('object',false,false);var __mode=false;var __applyKeyPreconditionsCallback=null;var __applyDependencyPreconditionsCallback=null;var __isLastWin=function(){return __mode;};var __isFirstWin=function(){return!__mode;};var __setMode=function(flag){if(TC.isBoolean(flag))__mode=flag;};var __getTable=function(){return __table.getData();};var __setTable=function(t){__table.setData(t,__isValidInfo);};var __isValidInfo=function(item){var __fname='__isValidInfo';if(!__s_data.isValid(item))return false;if(!item.hasOwnProperty('name')||TC.isEmptyString(item.name)||(!__table.isEmpty()&&__table.hasValue(item,'name'))){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the mandatory field \'name\' is missing or duplicated!',prop:'name',value:item.name});return false;}
if(!item.hasOwnProperty('rule')){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the mandatory field \'rule\' is missing!',prop:'rule',value:item.rule});return false;}
if(!item.hasOwnProperty('key')||TC.isEmptyString(item.key)||(!CDPLT.getInfo(item.key))){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the mandatory field \'key\' is missing or not a valid datalayer property!',prop:'key',value:item.key});return false;}
if(item.hasOwnProperty('dkeylist')&&(!__isValidKeyList(item.key,item.dkeylist))){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > the optional field \'dkeylist\' is not an array or it contains atleast one datalayer property not valid',prop:'dkeylist',value:item.dkeylist});return false;}
return true;};var __isValidKeyList=function(key,dkeylist){if(!TC.isArray(dkeylist))return false;for(var i=0;i<dkeylist.length;i++)if(!CDPLT.getInfo(dkeylist[i])||(!__isCompatibleKey(key,dkeylist[i])))return false;return true;};var __isCompatibleKey=function(key,dkey){var __fname='__isCompatibleKey';if(key===dkey){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > dependency key is equals to the primary key',prop:'dkey',value:dkey});return false;}
var keyPath=CDPLT.getPathProp(key);var dkeyPath=CDPLT.getPathProp(dkey);if(keyPath.length<1||dkeyPath.length<1){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > primary key or dependency key is not valid - key: '+key+', dkey:'+dkey});return false;}
if(dkeyPath.length>1&&(keyPath.length==1||(keyPath.length>1&&(!CDPLT.isParentOfProp(key,dkey))))){MLOG.showMessage({type:'error',cname:__cname,fname:__fname,msg:'Invalid Input > a dependency key is not compatible with the primary key',prop:'dkey',value:dkey});return false;}
return true;};var __setInfo=function(item){if(__isValidInfo(item))__table.add(item);};var __getInfo=function(item){//@REVIEW: can we import the private functions here???
if(TC.isNull(item))return null;return{name:function(){return __name(item);},key:function(){return __key(item);},dkeylist:function(){return __dkeylist(item);},success:function(){return __success(item);},suggestions:function(){return __suggestions(item);},applyRule:function(keyValue,dkeyListValues){return __applyRule(item,keyValue,dkeyListValues);},};};var __applyRule=function(item,keyValue,dkeyListValues){var result=item.rule(keyValue,dkeyListValues);if(!TC.isBoolean(result)){MLOG.showMessage({type:'error',cname:__cname,fname:'__applyRule',msg:'Invalid output > the function \'rule\' must return a boolean value!'});return null;}
return result;};var __success=function(item){return item.success||false;};var __suggestions=function(item){return item.suggestions||'';};var __name=function(item){return item.name||'';};var __key=function(item){return item.key||'';};var __dkeylist=function(item){return item.dkeylist||[];};var __iterator=function IteratorCTRL(){var __icname=__cname+'.__iterator';try{var iterator=__table.iterator();var __reset=function(){iterator.reset();};var __hasNext=function(){return iterator.hasNext();};var __next=function(){return __getInfo(iterator.next());};this.export={reset:function(){return ___.tryCatch(__reset,[],null,__icname);},hasNext:function(){return ___.tryCatch(__hasNext,[],false,__icname);},next:function(){return ___.tryCatch(__next,[],null,__icname);},};}catch(e){MLOG.showMessage({type:'error',cname:__icname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},IteratorCTRL.prototype));};var __checkKeyPreconditions=function(QAResultInfo){if(TC.isNull(QAResultInfo))return false;return __applyKeyPreconditionsCallback?__applyKeyPreconditionsCallback(QAResultInfo):true;};var __checkDependencyPreconditions=function(QAResultInfo){if(TC.isNull(QAResultInfo))return false;return __applyDependencyPreconditionsCallback?__applyDependencyPreconditionsCallback(QAResultInfo):true;};var __setApplyKeyPreconditionsCallback=function(callback){if(TC.isFunction(callback))__applyKeyPreconditionsCallback=callback;};var __setApplyDependencyPreconditionsCallback=function(callback){if(TC.isFunction(callback))__applyDependencyPreconditionsCallback=callback;};var __applyRules=function(restrictKey){var resultMap=new MapObject('any');var iterator=__iterator();while(iterator.hasNext()){var item=iterator.next();var keylist=QAR.getFullDynamicPropList(item.key());for(var j=0;j<keylist.length;j++){var key=keylist[j];if(CRT.isRestricted(restrictKey,key))continue;var keyResultInfo=QAR.getResultInfo(key);if(!__checkKeyPreconditions(keyResultInfo))continue;var dkeyListValues=new MapObject('any');var dkeylist=item.dkeylist();var skip=false;for(var i=0;i<dkeylist.length;i++){if(CRT.isRestricted(restrictKey,dkeylist[i]))continue;var dkey=QAR.resolveDynamicProp(dkeylist[i],key)||dkeylist[i];var dkeyResultInfo=QAR.getResultInfo(dkey);if(!__checkDependencyPreconditions(dkeyResultInfo)){skip=true;break;}
dkeyListValues.setEntry(dkeylist[i],dkeyResultInfo.value);}
if(skip)continue;var result=item.applyRule(keyResultInfo.value,dkeyListValues.getData());if(TC.isNull(result))continue;if(__isFirstWin()&&resultMap.hasKey(key))continue;if(result&&item.success())resultMap.setEntry(key,{status:CET.getTypes('SUCCESS'),suggestions:CET.getCauses('CORRECT')});else if(!result&&(!item.success()))resultMap.setEntry(key,{status:CET.getTypes('ERROR'),suggestions:(item.suggestions()||CET.getCauses('ACCEPTED_VALUES'))});MLOG.showMessage({type:'warn',cname:__cname,fname:'__applyRules',msg:'Post processing rule applied',prop:'name',value:item.name()});}}
return resultMap;};__setTable(TABLE);__setMode(MODE);this.export={setToLastWin:function(){return ___.tryCatch(__setMode,[true],null,__cname);},setToFirstWin:function(){return ___.tryCatch(__setMode,[false],null,__cname);},isLastWin:function(){return ___.tryCatch(__isLastWin,[],null,__cname);},isFirstWin:function(){return ___.tryCatch(__isFirstWin,[],null,__cname);},getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},addRule:function(info){return ___.tryCatch(__setInfo,[info],null,__cname);},applyRules:function(keyValue,dkeyListValues){return ___.tryCatch(__applyRules,[keyValue,dkeyListValues],null,__cname);},iterator:function(){return ___.tryCatch(__iterator,[],null,__cname);},setApplyKeyPreconditionsCallback:function(callback){return ___.tryCatch(__setApplyKeyPreconditionsCallback,[callback],false,__cname);},setApplyDependencyPreconditionsCallback:function(callback){return ___.tryCatch(__setApplyDependencyPreconditionsCallback,[callback],false,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigPostProcessRulesTableCTRL.prototype));};var ConfigErrorTable=function ConfigErrorTableCTRL(TABLE,TYPES,PRIORITIES,CAUSES){var __cname='AutoQAService.ConfigErrorTable';try{var __types=new MapObject('string');var __priorities=new ArrayList('number',true,true);var __causes=new MapObject('string');var __s_info=new CustomDataObject({priority:'number',label:'string',message:'string'});var __table=new MapObject('object');var __getTable=function(){return __table.getData();};var __setTable=function(t){if(__isValidTable(t))__table.setData(t);};var __isValidTable=function(t){if(!t||(!__table.isValidData(t)))return false;for(var key in t)if(!__isValidEntry(key,t[key]))return false;return true;};var __isValidEntry=function(key,value){return __isValidKey(key)&&__s_info.isValid(value)&&(!value.hasOwnProperty('priority')||__isValidPriority(value.priority));};var __isValidKey=function(key){var types=new ArrayList('string');types.setData(__types.getValues());if(!types.hasValue(key)){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidKey',msg:'Invalid Input > the key is not a valid error type!',prop:'prop',value:key});return false;}
return true;};var __getKeys=function(){return __s_info.getKeys();};var __getInfo=function(key,info){var value=__table.getValue(key);return value?(info?value[info]:value):null;};var __setInfo=function(key,info,value){var obj={};if(info)obj[info]=value;else obj=value;if(__isValidEntry(key,obj))__table.setEntry(key,obj);};var __getPriority=function(key){return __getInfo(key,'priority');};var __setPriority=function(key,value){__setInfo(key,'priority',value);};var __getLabel=function(key){return __getInfo(key,'label');};var __setLabel=function(key,value){__setInfo(key,'label',value);};var __getMessage=function(key){return __getInfo(key,'message');};var __setMessage=function(key,value){__setInfo(key,'message',value);};var __getTypes=function(key){return __types.hasKey(key)?__types.getValue(key):__types.getData();};var __getTypeBy=function(filterKey,filterValue){var keys=__types.getKeys();for(var i=0;i<keys.length;i++){var type=__types.getValue(keys[i]);if(__getInfo(type,filterKey)===filterValue)return type;}
return null;};var __setTypes=function(map){for(var key in map)__types.setEntry(key,map[key]);};var __getPriorities=function(){return __priorities.getData();};var __setPriorities=function(list){__priorities.setData(list);};var __isValidPriority=function(values){values=TC.isArray(values)?values:[values];for(var i=0;i<values.length;i++){if(!__priorities.hasValue(values[i])){MLOG.showMessage({type:'error',cname:__cname,fname:'__isValidPriority',msg:'Invalid Input > the value provided is not a valid priority!',prop:'value',value:values[i]});return false;}}
return true;};var __getCauses=function(key){return __causes.hasKey(key)?__causes.getValue(key):__causes.getData();};var __setCauses=function(map){for(var key in map)__causes.setEntry(key,map[key]);};var __initDefaultTable=function(){var keys=__types.getKeys();for(var i=0;i<keys.length;i++){var type=__types.getValue(keys[i]);__setInfo(type,'',{priority:i,label:keys[i],message:type});}};__types.setData(TYPES);if(__types.isEmpty())__types.setData({ERROR:'error',WARNING:'warning',SUCCESS:'success',SKIP:'skip'});__priorities.setData(PRIORITIES);if(__priorities.isEmpty())__priorities.setData([0,1,2,3]);__causes.setData(CAUSES);if(__causes.isEmpty())__causes.setData({CORRECT:'Variable is correct!',EXISTING:'Variable is missing!',FORMAT:'Variable\'s format is not correct!',ACCEPTED_VALUES:'Variable\'s value is correct!'});if(!TC.isUndefined(TABLE))__setTable(TABLE);else __initDefaultTable();this.export={getTable:function(){return ___.tryCatch(__getTable,[],null,__cname);},setTable:function(t){return ___.tryCatch(__setTable,[t],null,__cname);},getKeys:function(){return ___.tryCatch(__getKeys,[],[],__cname);},getValue:function(key){return ___.tryCatch(__getInfo,[key],null,__cname);},setEntry:function(key,value){return ___.tryCatch(__setInfo,[key,'',value],null,__cname);},getPriority:function(key){return ___.tryCatch(__getPriority,[key],null,__cname);},setPriority:function(key,value){return ___.tryCatch(__setPriority,[key,value],null,__cname);},getLabel:function(key){return ___.tryCatch(__getLabel,[key],null,__cname);},setLabel:function(key,value){return ___.tryCatch(__setLabel,[key,value],null,__cname);},getMessage:function(key){return ___.tryCatch(__getMessage,[key],null,__cname);},setMessage:function(key,value){return ___.tryCatch(__setMessage,[key,value],null,__cname);},getTypes:function(key){return ___.tryCatch(__getTypes,[key],{},__cname);},getTypeBy:function(filterKey,filterValue){return ___.tryCatch(__getTypeBy,[filterKey,filterValue],null,__cname);},setTypes:function(map){return ___.tryCatch(__setTypes,[map],null,__cname);},getPriorities:function(){return ___.tryCatch(__getPriorities,[],[],__cname);},setPriorities:function(list){return ___.tryCatch(__setPriorities,[list],null,__cname);},getCauses:function(key){return ___.tryCatch(__getCauses,[key],{},__cname);},setCauses:function(map){return ___.tryCatch(__setCauses,[map],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigErrorTableCTRL.prototype));};var ConfigQAProperty=function ConfigQAPropertyCTRL(){var __cname='AutoQAService.ConfigQAProperty';try{var __applyCallback=function(prop,value,priority,format,accValues,suggestions){var types=CET.getTypes();var causes=CET.getCauses();if(__checkExist(value)){if(__checkFormat(value,format)){if(__checkAcceptedValues(value,accValues)){return{type:types.SUCCESS,message:causes.CORRECT};}else{return{type:types.ERROR,message:(suggestions||causes.ACCEPTED_VALUES)};}}else{return{type:types.ERROR,message:causes.FORMAT};}}else{return{type:CET.getTypeBy('priority',priority),message:causes.EXISTING};}};var __setApplyCallback=function(callback){if(TC.isFunction(callback))__applyCallback=callback;};var __apply=function(prop,value,priority,format,accValues,suggestions){try{return __applyCallback(prop,value,priority,format,accValues,suggestions);}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'__apply',msg:e.stack});return{type:CET.getTypes('SKIP'),message:CET.getCauses('SKIP')};}};var __checkExist=function(value){return!TC.isUndefined(value);};var __checkFormat=function(value,format){return CDPLT.matchFormat(format,false,value);};var __checkEmpty=function(value,format){return CDPLT.matchFormat(format,true,value);};var __checkAcceptedValues=function(value,accValues){return accValues.test(___.toString(value));};this.export={apply:function(prop,value,priority,format,accValues,suggestions){return __apply(prop,value,priority,format,accValues,suggestions);},checkExist:function(value){return ___.tryCatch(__checkExist,[value],false,__cname);},checkFormat:function(value,format){return ___.tryCatch(__checkFormat,[value,format],false,__cname);},checkEmpty:function(value,format){return ___.tryCatch(__checkEmpty,[value,format],false,__cname);},checkAcceptedValues:function(value,accValues){return ___.tryCatch(__checkAcceptedValues,[value,accValues],false,__cname);},setApplyCallback:function(callback){return ___.tryCatch(__setApplyCallback,[callback],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},ConfigQAPropertyCTRL.prototype));};var QAResults=function QAResultsCTRL(STATUSES){var __cname='AutoQAService.QAResults';try{var __statuses=new ArrayList('number',true,true);var __s_data=new CustomDataObject({status:'object',result:'object'});var __s_status_info=new CustomDataObject({code:'number',message:'string'});var __s_result_info=new CustomDataObject({priority:'number',value:'any',error:'object'});var __s_result_info_error=new CustomDataObject({type:'string',message:'string'});var __result=new DatalayerTableObject(__s_result_info,CFGD.getDatalayerDepthSeparator(),CFGD.getDatalayerDynamicProp());var __data={};var __getData=function(){return{status:__getStatus(),result:__result.getData()};};var __getStatus=function(){return ___.merge({},__data.status);};var __setStatus=function(code,message){var status={code:code,message:message||''};if(__s_status_info.isValid(status)&&__statuses.hasValue(code))__data.status=status;};var __getResult=function(){return __result.getData();};var __getResultInfo=function(prop,key){var info=__result.getInfo(prop);return!TC.isNull(info)?(key?info[key]:info):null;};var __setResultInfo=function(prop,key,value){var info={};if(!TC.isNull(value)){if(key)info[key]=value;else info=value;}
if(info.hasOwnProperty('error')){if(info.error.hasOwnProperty('type')&&info.error.type&&__s_result_info_error.isValid(info.error)){var error=CET.getValue(info.error.type);if(info.error.message)error.message=info.error.message;info.error=error;}
else delete info.error;}
if(__isValidResultEntry(prop,info))__result.setEntry(prop,info);};var __isValidResultEntry=function(prop,info){if(info.hasOwnProperty('priority')&&(!CDT.isValidPriority(info.priority)))return false;return true;};var __getResultInfoKeys=function(){var resultInfoKeys=new ArrayList('string',true,true);resultInfoKeys.setData(CET.getKeys());resultInfoKeys.addPrefix('error.');resultInfoKeys.add(__s_result_info.getKeys());resultInfoKeys.remove('error');return resultInfoKeys.getData();};var __getResultPriority=function(prop){return __getResultInfo(prop,'priority');};var __setResultPriority=function(prop,value){__setResultInfo(prop,'priority',value);};var __getResultValue=function(prop){return __getResultInfo(prop,'value');};var __setResultValue=function(prop,value){__setResultInfo(prop,'value',value);};var __getResultError=function(prop){return __getResultInfo(prop,'error');};var __setResultError=function(prop,type,message){__setResultInfo(prop,'error',{type:type,message:(message||'')});};var __getAllProps=function(){return __result.getAllProps();};var __getFullProp=function(pathArray){return __result.getFullProp(pathArray);};var __getPathProp=function(pathString){return __result.getPathArray(pathString);};var __getFullDynamicPropList=function(prop){return __result.getFullDynamicPropList(prop,__result.getKeys);};var __resolveDynamicProp=function(dProp,sProp){return __result.resolveDynamicProp(dProp,sProp);};var __reset=function(){__data={};__result.reset();};var __init=function(){__result.setDepthSeparator(CFGD.getDatalayerDepthSeparator());__result.setDynamicProperty(CFGD.getDatalayerDynamicProp());__reset();};__statuses.setData(STATUSES);if(__statuses.isEmpty())__statuses.setData([0,1,2]);this.export={init:function(){return ___.tryCatch(__init,[],null,__cname);},getData:function(){return ___.tryCatch(__getData,[],null,__cname);},getStatus:function(){return ___.tryCatch(__getStatus,[],null,__cname);},setStatus:function(code,message){return ___.tryCatch(__setStatus,[code,message],null,__cname);},getResult:function(){return ___.tryCatch(__getResult,[],null,__cname);},getResultInfo:function(prop){return ___.tryCatch(__getResultInfo,[prop],null,__cname);},getResultInfoKeys:function(){return ___.tryCatch(__getResultInfoKeys,[],[],__cname);},setResultInfo:function(prop,info){return ___.tryCatch(__setResultInfo,[prop,'',info],null,__cname);},getResultPriority:function(prop){return ___.tryCatch(__getResultPriority,[prop],null,__cname);},setResultPriority:function(prop,value){return ___.tryCatch(__setResultPriority,[prop,value],null,__cname);},getResultValue:function(prop){return ___.tryCatch(__getResultValue,[prop],null,__cname);},setResultValue:function(prop,value){return ___.tryCatch(__setResultValue,[prop,value],null,__cname);},getResultError:function(prop){return ___.tryCatch(__getResultError,[prop],null,__cname);},setResultError:function(prop,type,message){return ___.tryCatch(__setResultError,[prop,type,message],null,__cname);},getAllProps:function(){return ___.tryCatch(__getAllProps,[],[],__cname);},getFullProp:function(pathArray){return ___.tryCatch(__getFullProp,[pathArray],null,__cname);},getPathProp:function(pathString){return ___.tryCatch(__getPathProp,[pathString],null,__cname);},getFullDynamicPropList:function(prop){return ___.tryCatch(__getFullDynamicPropList,[prop],[],__cname);},resolveDynamicProp:function(dProp,sProp){return ___.tryCatch(__resolveDynamicProp,[dProp,sProp],null,__cname);},reset:function(){return ___.tryCatch(__reset,[],null,__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},QAResultsCTRL.prototype));};var QAQueryResult=function QAQueryResultCTRL(){var __cname='AutoQAService.QAQueryResult';try{var __fields=new ArrayList('string',true,true,',');var __fields_highLevelKey='prop';var __fields_highLevelKeyName='name';var __query_struct=new CustomDataObject({select:'array',unique:'boolean',groupby:'string',rename:'object',separator:'string',filters:'function'});var __query={};var __query_select=new ArrayList('string',true,true,',');var __query_rename=new MapObject('object');var __query_rename_select_field=new MapObject('string');var __result=new MapObject('array');var __getQuery=function(){return ___.merge({},__query);};var __setQuery=function(query){if(__isValidQuery(query)){__query_select.reset();__query_select.setData(query.select);__query_rename.reset();__query_rename.setData(query.rename);__query=query;}};var __isValidQuery=function(query){return query&&__query_struct.isValid(query)&&__isValidSelect(query.select)&&__isValidField(query.groupby)&&__isValidRename(query.rename,query.select);};var __isValidSelect=function(selectors){if(selectors.length<1)return false;for(var i=0;i<selectors.length;i++)if(!__isValidField(selectors[i]))return false;return true;};var __isValidField=function(selector){return!TC.isEmptyString()&&__fields.hasValue(selector);};var __isValidRename=function(renameMap,querySelectors){if(!__query_rename.isValidData(renameMap))return false;var selectors=new ArrayList('string',true,true,',');selectors.setData(querySelectors);for(var field in renameMap)if(!selectors.hasValue(field)||(!__query_rename_select_field.isValidData(renameMap[field])))return false;return true;};var __resolveQuerySelectors=function(QAResultInfo,field,prop){if(__fields_highLevelKey&&__fields_highLevelKeyName&&(field==__fields_highLevelKey+'.'+__fields_highLevelKeyName))return prop;var resultMatch=field.match(new RegExp('^'+__fields_highLevelKey+'\.(.+)'));if(resultMatch)return QAResultInfo[resultMatch[1]];resultMatch=field.match(/^(.+)\.(.+)/);if(resultMatch)return QAResultInfo[resultMatch[1]][resultMatch[2]];return null;};var __resolveQueryRenameSelectorValue=function(field,item){__query_rename_select_field.reset();__query_rename_select_field.setData(__query.rename[field]||{});if(__query_rename_select_field.isEmpty())return item;var renameMap=__query_rename_select_field.getData();for(var find in renameMap){if(REB.toRegExp(find).test(item))return item.replace(REB.toRegExp(find),renameMap[find]);}
return item;};var __getQueryResultRow=function(QAResultInfo,prop){if(__query.filters){var mapItems={};__fields.getData().forEach(function(field){mapItems[field]=__resolveQuerySelectors(QAResultInfo,field,prop);});if(!__query.filters(mapItems))return null;}
var selectors=__query_select.getData();var resultItems=selectors.map(function(selector){var item=__resolveQuerySelectors(QAResultInfo,selector,prop);return __resolveQueryRenameSelectorValue(selector,item);});var queryResultRow=new ArrayList('string',false,true,__query.separator);queryResultRow.setData(resultItems);return queryResultRow.getData(true);};var __apply=function(query){__setQuery(query);if(!TC.isEmptyObject(__query)){__result.reset();var props=QAR.getAllProps();props.forEach(function(prop,index){var QAResultInfo=QAR.getResultInfo(prop);var groupBy=__resolveQuerySelectors(QAResultInfo,__query.groupby,prop)||index;var queryResultRow=__getQueryResultRow(QAResultInfo,prop);if(!queryResultRow)return;if(__query.unique){var queryResultRows=__result.getValue(___.toString(groupBy));if(queryResultRows){var resultRows=new ArrayList('string',__query.unique,true);resultRows.setData(queryResultRows);if(resultRows.hasValue(queryResultRow))return;}}
__result.setEntry(___.toString(groupBy),[queryResultRow]);});}
return __result.getData();};var __getResult=function(){return __result.getData();};var __initFields=function(){__fields.setData(QAR.getResultInfoKeys());var propKeys=new ArrayList('string',true,true);propKeys.setData(__fields.search(REB.isAllExcept(1,1,['.'],1)));__fields.remove(propKeys.getData());propKeys.add('name');propKeys.addPrefix('prop.');__fields.add(propKeys.getData());};__initFields();this.export={getQuery:function(){return ___.tryCatch(__getQuery,[],{},__cname);},setQuery:function(query){return ___.tryCatch(__setQuery,[query],null,__cname);},apply:function(query){return ___.tryCatch(__apply,[query],{},__cname);},getResult:function(){return ___.tryCatch(__getResult,[],{},__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},QAQueryResultCTRL.prototype));};var QADatalayer=function QADatalayerCTRL(DATALAYER,CONTEXT_NAME,COMMON,RESTRICT_KEY){var __cname='AutoQAService.QADatalayer';try{var CDTO;var __context=new MapObject('any');var __datalayer={};var __common={};var __restrict_key;var __resetContext=function(){__context.reset();};var __getContext=function(key){return key?__context.getValue(key):__context.getData();};var __setContext=function(key,value){if(key)__context.setEntry(key,value);else __context.setData(value);};var __getContextName=function(){return __getContext('name');};var __setContextName=function(name){__setContext('name',name);};var __getContextValue=function(){return __getContext('value');};var __setContextValue=function(value){__setContext('value',value);};var __findContextName=function(datalayer){datalayer=TC.isPureObject(datalayer)?datalayer:__datalayer;if(datalayer.hasOwnProperty(CDCT.getContextOnEvent()))return CDCT.isEventToUseAsPageContext(datalayer[CDCT.getContextOnEvent()])?CDCT.getContextOnPage():CDCT.getContextOnEvent();return CDCT.getContextOnPage();};var __checkAndSetRestrictKey=function(restrict_key){__restrict_key=TC.isString(restrict_key)?(CDTO.getInfo(restrict_key)?(__datalayer[restrict_key]||__common[restrict_key]):restrict_key):'';};var __checkDatalayerContext=function(){var context_name=__getContextName();var context_value=__datalayer[context_name];var result=__checkDatalayerProp(context_name,context_value,null,null,true);if(result.error.type!=CET.getTypes('SUCCESS')){result.value=context_value;QAR.setResultInfo(context_name,result);QAR.setStatus(2,'Automatic QA: '+context_name+' is required to check datalayer!');return;}
else __setContextValue(context_value);if(context_name==CDCT.getContextOnEvent()){var pageContext=CDCT.getContextOnPage();result=__checkDatalayerProp(pageContext,__datalayer[pageContext]);if((result.error.type!=CET.getTypes('SUCCESS')&&result.error.message==CET.getCauses('EXISTING')&&result.priority>CDTO.getNoPriority())||(result.priority==CDTO.getNoPriority())){__common[pageContext]=CDCT.getPageContextOfEvent(context_value)||__common[pageContext];}}};var __restrictDatalayer=function(){var props=CRT.getInfo(__restrict_key);if(props)props.forEach(function(prop){CDTO.removeInfo(prop);});else MLOG.showMessage({type:'warn',cname:__cname,fname:'__restrictDatalayer',msg:'Restrict datalayer > restrict key is not found in the restrict table',prop:'restrict key',value:__restrict_key});};var __checkAndGetDatalayerDependencyMap=function(){var types=CET.getTypes();var context_name=__getContextName();var dependencyMap=new MapObject('any');var missing_dep_list=new ArrayList('string',true,true,', ');var dkey_list=COT.getDependencyKeys('',false);if(context_name==CDCT.getContextOnPage()){dkey_list=dkey_list.filter(function(d){return d!=CDCT.getContextOnEvent()?true:false;});}
var successType=CET.getTypes('SUCCESS');var existingCause=CET.getCauses('EXISTING');var noPriority=CDTO.getNoPriority();for(var index in dkey_list){var prop=dkey_list[index];if(CRT.isRestricted(__restrict_key,prop))continue;var result=__checkDatalayerProp(prop,__datalayer[prop]);if(result.error.type!=successType&&result.error.message==existingCause&&result.priority>noPriority){result=__checkDatalayerProp(prop,__common[prop]);if(result.error.type==successType){if(__common[prop])dependencyMap.setEntry(prop,__common[prop]);}
else missing_dep_list.add(prop);}
else if(result.error.type==successType&&result.priority>noPriority){if(__datalayer[prop])dependencyMap.setEntry(prop,__datalayer[prop]);}
else if(result.priority==noPriority){if(__common[prop])dependencyMap.setEntry(prop,__common[prop]);else{result=__checkDatalayerProp(prop,__datalayer[prop],null,null,true);if(result.error.type==successType){if(__datalayer[prop])dependencyMap.setEntry(prop,__datalayer[prop]);}}}
else missing_dep_list.add(prop);}
if(!missing_dep_list.isEmpty())QAR.setStatus(1,'Automatic QA: it is not possible to make accurate analysis for all dependencies on '+missing_dep_list.getData(true));return dependencyMap;};var __overrideDatalayer=function(){var depMap=__checkAndGetDatalayerDependencyMap();if(!(depMap instanceof MapObject)||depMap.isEmpty())return;var props=COT.getAllProps('list');props.forEach(function(prop){if(CRT.isRestricted(__restrict_key,prop))return;var depKeys=COT.getDependencyKeys(prop);depKeys.forEach(function(dkey){var dkeylist=COT.getMultiDependency(dkey);var dvaluelist=[];dkeylist.forEach(function(k){var value=depMap.getValue(k);if(value)dvaluelist.push(value);});if(dkeylist.length===dvaluelist.length){var dvalue=COT.getMultiDependency(dvaluelist);var dinfo=COT.getInfo(prop,dkey,dvalue);if(dinfo){if(dinfo.contextName&&dinfo.contextName!=__getContextName())return;if(dinfo.hasOwnProperty('priority'))CDTO.setContextPriorityMap(prop,__getContextName(),dinfo.priority,__getContextValue());if(dinfo.hasOwnProperty('acceptedValues'))CDTO.setAcceptedValues(prop,dinfo.acceptedValues);if(dinfo.suggestions)CDTO.setSuggestions(prop,dinfo.suggestions);}
else MLOG.showMessage({type:'warn',cname:__cname,fname:'__overrideDatalayer',msg:'Ovveride info > Dependency not found => '+'prop: '+prop+', dependency(key, value): ('+dkey+', '+dvalue+')'});}});});};var __checkDatalayer=function(datalayer,parents,parentProp,keyValue){var parentList=new ArrayList('string',false,true);parentList.setData(parents||[]);parentProp=parentProp||'';var props=CDTO.getKeys(parentProp);var EMPTY_PROP=CFGD.getDatalayerEmptyProp();props.forEach(function(prop){{parents=parentList.getData();parents.push(TC.isEmptyString(keyValue)?EMPTY_PROP:(!TC.isUndefined(keyValue))?keyValue:prop);}
var fullProp=CDTO.getFullProp([parentProp,prop]);var datalayerSub=!TC.isUndefined(datalayer[keyValue])?datalayer[keyValue]:datalayer[prop];var result=__checkDatalayerProp(fullProp,datalayerSub,parents,keyValue);result.value=___.merge(undefined,datalayerSub);QAR.setResultInfo(CDTO.getFullProp(parents),result);if(CDTO.isStructure(fullProp)){if(CDTO.hasDynamicProp(fullProp)){var keys=CDTO.getAcceptedKeys(fullProp,datalayerSub);keys.forEach(function(kvalue){__checkDatalayer(datalayerSub,parents,fullProp,kvalue);});}
else __checkDatalayer(datalayerSub,parents,fullProp);}});};var __checkDatalayerProp=function(prop,value,parents,keyValue,isPriorityForced){try{parents=TC.isArray(parents)?parents:[];keyValue=TC.isString(keyValue)?keyValue:'';isPriorityForced=TC.isBoolean(isPriorityForced)?isPriorityForced:false;var info=CDTO.getInfo(prop);if(TC.isNull(info))return{priority:CDTO.getNoPriority(),error:{type:CET.getTypes('SKIP'),message:CET.getCauses('SKIP')}};var context_name=__getContextName();var context_value=__getContextValue();var priority=isPriorityForced?CDTO.getMinPriority():info.priorityMap[context_name][context_value];var format=info.format;var accValues=info.acceptedValues;var suggestions=info.suggestions;var error=isPriorityForced?null:__runPreProcessingRules(prop,value,format,priority,context_name,context_value,parents,keyValue,suggestions);if(!error)error=CQAP.apply(prop,value,priority,format,accValues,suggestions);return{priority:priority,error:error};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'__checkDatalayerProp',msg:e.stack});return{priority:CDTO.getNoPriority(),error:{type:CET.getTypes('SKIP'),message:CET.getCauses('SKIP')}};}};var __runPreProcessingRules=function(prop,value,format,priority,context_name,context_value,parents,keyValue,suggestions){var types=CET.getTypes();var result=CPRET.applyRules(prop,value,format,priority,context_name,context_value,parents,keyValue);if(result.status==types.SKIP)return{type:types.SUCCESS,message:CET.getCauses('CORRECT')};else if(result.status==types.ERROR)return{type:types.ERROR,message:(result.suggestions||suggestions||CET.getCauses('ACCEPTED_VALUES'))};return null;};var __runPostProcessingRules=function(){var results=CPOST.applyRules(__restrict_key);if(results instanceof MapObject){var keys=results.getKeys();keys.forEach(function(key){var result=results.getValue(key);QAR.setResultError(key,result.status,result.suggestions);if(result.hasOwnProperty('priority'))QAR.setResultPriority(key,result.priority);});}};var __checkDatalayerAndRunPostProcessingRules=function(){__checkDatalayer(__datalayer);__runPostProcessingRules();};var __initialize=function(datalayer,common,restrict_key){CDTO=new ConfigDatalayerTable(CDT.getTable(),CDT.getPriorities(),CDT.getNoPriority(),true);__datalayer=TC.isPureObject(datalayer)?datalayer:{};__common=TC.isPureObject(common)?common:{};__checkAndSetRestrictKey(restrict_key);__resetContext();__setContextName(__findContextName());};__initialize(DATALAYER,CONTEXT_NAME,COMMON,RESTRICT_KEY);this.export={getContext:function(){return ___.tryCatch(__getContext,[],null,__cname);},getContextName:function(){return ___.tryCatch(__getContextName,[],null,__cname);},getContextValue:function(){return ___.tryCatch(__getContextValue,[],null,__cname);},findContextName:function(datalayer){return ___.tryCatch(__findContextName,[datalayer],'',__cname);},initialize:function(datalayer,common,restrict_key){return ___.tryCatch(__initialize,[datalayer,common,restrict_key],null,__cname);},checkDatalayerContext:function(){return ___.tryCatch(__checkDatalayerContext,[],null,__cname);},restrictDatalayer:function(){return ___.tryCatch(__restrictDatalayer,[],null,__cname);},overrideDatalayer:function(){return ___.tryCatch(__overrideDatalayer,[],[],__cname);},checkDatalayer:function(){return ___.tryCatch(__checkDatalayerAndRunPostProcessingRules,[],[],__cname);},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},QADatalayerCTRL.prototype));};var __run=function(datalayer,common,restrict_key){QAR.init();QADL.initialize(datalayer,common,restrict_key);QADL.checkDatalayerContext();if(QADL.getContextValue()){QAR.setStatus(0,'Automatic QA: it has been completed successfully');QADL.restrictDatalayer();QADL.overrideDatalayer();QADL.checkDatalayer();}
return QAR.getData();};var CFGD=new ConfigDefaultTable();var CGST=new ConfigGlobalStaticTable();var CPST=new ConfigPropertyStaticTable();var CHT=new ConfigSuggTable();var CDPLT=new ConfigDatalayerPropertyListTable();var CDCT=new ConfigDatalayerContextTable();var CRT=new ConfigRestrictTable();var CDT=new ConfigDatalayerTable();var COT=new ConfigOverrideTable();var CPRET=new ConfigPreProcessRulesTable();var CPOST=new ConfigPostProcessRulesTable();var CET=new ConfigErrorTable();var CQAP=new ConfigQAProperty();var QAR=new QAResults();var QAQR=new QAQueryResult();var QADL=new QADatalayer();this.export={ConfigDefaultTable:CFGD,ConfigGlobalStaticTable:CGST,ConfigPropertyStaticTable:CPST,ConfigSuggTable:CHT,ConfigDatalayerPropertyListTable:CDPLT,ConfigDatalayerContextTable:CDCT,ConfigRestrictTable:CRT,ConfigDatalayerTable:CDT,ConfigOverrideTable:COT,ConfigPreProcessRulesTable:CPRET,ConfigPostProcessRulesTable:CPOST,ConfigErrorTable:CET,ConfigQAProperty:CQAP,QAResults:QAR,QAQueryResult:QAQR,QADatalayer:QADL,run:function(datalayer,common,restrict_key){return ___.tryCatch(__run,[datalayer,common,restrict_key],null,__cname);},};}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:__cname,context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},AutoQAServiceCTRL.prototype));}();__Utils__.MessageLogging.timeEnd('AUTO QA: CREATION');};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{if(window.document&&/OptanonConsent=/.test(document.cookie)){}
else{window.utag_data=window.utag_data||{};var language=window.document&&document.documentElement&&document.documentElement.lang?document.documentElement.lang:'';var country=window.utag_data.Page_Country||(/^[a-z]{2,2}$/i.test(window.location.pathname.split("/")[1].split("-")[1])?window.location.pathname.split("/")[1].split("-")[1]:'')||language.split("-")[1];if(/^US$/i.test(country)&&window.claripCookieManager)window.utag_data.clarip_consent_status='ON';else if(/^(ROE|EMEA|INT|EU|AT|BE|CZ|DK|EE|FI|FR|DE|GR|HU|IE|IT|LV|LT|LU|MT|NL|NO|PL|PT|RU|SK|ES|SE|CH|TR|GB|UK|UA|BG|CY|LI|MEA|BR|CA|US|JP|CN)$/i.test(country)){window.utag_data.consent_status='ON';{var mapLanguages={'da-dk':'','nl-be':'','nl-nl':'','en':'','en-ca':'','en-us':'','fr-ca':'','fr-fr':'','de':'','de-at':'','it-it':'','pl':'','pt':'','pt-br':'','es':'','es-us':'','sv':'','ro':'','ru':'','jp':'','cn':'','en-en':'en','de-de':'de','pl-pl':'pl','pt-pt':'pt','es-es':'es','sv-sv':'sv','sv-se':'sv','fr-emea':'fr-fr','de-emea':'de','ro-ro':'ro','ro-md':'ro','en-ro':'ro','jp-jp':'jp','cn-cn':'cn','en-gb':'en','en-uk':'en','en-it':'en','en-es':'en','en-sv':'en','en-fr':'en','en-pl':'en','en-at':'en','en-de':'en','en-nl':'en','en-be':'en','en-dk':'en','en-dr':'en','en-ie':'en','en-int':'en','fr':'fr-fr','nl':'nl-nl','it':'it-it','fr-be':'fr-fr',};var detectionLanguages=[];if(window.utag_data.Page_Language&&window.utag_data.Page_Country)detectionLanguages.push(window.utag_data.Page_Language+'-'+window.utag_data.Page_Country);detectionLanguages.push(window.location.pathname.split("/")[1]);detectionLanguages.push(language);for(var index=0;index<detectionLanguages.length;index++){keyLanguage=detectionLanguages[index].toLowerCase();if(mapLanguages.hasOwnProperty(keyLanguage)){window.utag_data.language=mapLanguages[keyLanguage]||keyLanguage;break;}}}}}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{if(window.utag_data&&window.utag_data.consent_status=='ON'){if(navigator.globalPrivacyControl===true){var getRootDomain=function getRootDomain(){var a=""+window.location.hostname;var b=a.split(".");var c=/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\./.test(a)?3:2;var d=b.splice(b.length-c,c).join(".");return d;};var tealCookieVal=[];tealCookieVal.push("ts:"+new Date().getTime());tealCookieVal.push("consent:false");var tealiumCookieExpireData=new Date();tealiumCookieExpireData.setDate(tealiumCookieExpireData.getDate()+90);document.cookie="CONSENTMGR="+tealCookieVal.join("|")+";domain="+getRootDomain()+";path=/; expires="+tealiumCookieExpireData.toGMTString()+";";}}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.9 - Automatic QA - Configuration';var tealiumExtensionCode=function(){window.AutoQAConfiguration=function(){try{var MLOG=__Utils__.MessageLogging;var TC=__Utils__.TypeChecking;var REB=__Utils__.RegExpBuilder;var DOM=__Utils__.DOMHelper;var ___=__Utils__.Common;var UTAG=__Utils__.UtagHelper;var ArrayList=__Utils__.ArrayList;var CFGD=AutoQAService.ConfigDefaultTable;var CGST=AutoQAService.ConfigGlobalStaticTable;var CPST=AutoQAService.ConfigPropertyStaticTable;var CHT=AutoQAService.ConfigSuggTable;var CDPLT=AutoQAService.ConfigDatalayerPropertyListTable;var CDCT=AutoQAService.ConfigDatalayerContextTable;var CRT=AutoQAService.ConfigRestrictTable;var CDT=AutoQAService.ConfigDatalayerTable;var COT=AutoQAService.ConfigOverrideTable;var CPRET=AutoQAService.ConfigPreProcessRulesTable;var CPOST=AutoQAService.ConfigPostProcessRulesTable;var CET=AutoQAService.ConfigErrorTable;var CQAP=AutoQAService.ConfigQAProperty;{CFGD.setDatalayerDynamicProp('UPC');}
var DEPTH_SEP=CFGD.getDatalayerDepthSeparator();var DEPTH_SEP_FOR_REGEXP=(function(){var regexp_format='';for(var i=0;i<DEPTH_SEP.length;i++)regexp_format+='\\'+DEPTH_SEP[i];return regexp_format;})();var DEP_SEP=CFGD.getDatalayerDependencySeparator();var DYNAMIC_PROP=CFGD.getDatalayerDynamicProp();var PROD_INDEX='Products'+DEPTH_SEP+DYNAMIC_PROP;var PROFILE_BRAND=UTAG.getUtagSettings('ProfileBrand');var PROFILE_GROUP=UTAG.getUtagSettings('ProfileGroup');var PROFILE_NAME=UTAG.getUtagSettings('ProfileName');var PROFILE_IS_ECOMMERCE=PROFILE_GROUP=='ecommerce';var PROFILE_IS_RETAIL=PROFILE_GROUP=='retail';var PROFILE_IS_NO_TRANSACTIONAL=PROFILE_GROUP=='no-transactional';var PROFILE_IS_TRANSACTIONAL=PROFILE_GROUP=='transactional';var PROFILE_IS_ECOMMERCE_MULTI_BRAND=PROFILE_IS_ECOMMERCE&&UTAG.getUtagSettings('ProfileEcommerceMultiBrand');var PROFILE_IS_RB=PROFILE_NAME=='ray-ban';var PROFILE_IS_OO=PROFILE_NAME=='oakley';var PROFILE_IS_SS=PROFILE_NAME=='smartshopper2';var PROFILE_IS_SSR=PROFILE_BRAND!='M4C';var PROFILE_IS_SSW=PROFILE_BRAND=='M4C';var PROFILE_IS_MYEL=PROFILE_NAME=='myluxottica2021';var PROFILE_IS_S360=PROFILE_NAME=='smartly';var PROFILE_IS_UNI=PROFILE_NAME=='university';var PROFILE_IS_NUA=PROFILE_NAME=='nuanceaudio'||PROFILE_BRAND=='NUA';var CrossComponentSettings=function CrossComponentSettingsCTRL(PROP){var __cname='AutoQAConfiguration.CrossComponentSettings';try{var __data={prop:(PROP||''),acceptedValues:REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}),};this.export={getProp:function(){return __data.prop;},setProp:function(prop){__data.prop=prop;},getAcceptedValues:function(){return __data.acceptedValues;},setAcceptedValues:function(values){__data.acceptedValues=values;},setDefaultConfiguration:function(contextName,contextValues){{CDT.setContextPriorityMap(__data.prop,contextName,2,contextValues);CDT.setAcceptedValues(__data.prop,__data.acceptedValues);}},setPageNameConfiguration:function(contextName,contextValue,sections,subSections,types){{if(contextValue){var pageNameMap={};if(sections)pageNameMap.Page_Section1=sections;if(subSections&&TC.isArray(subSections))pageNameMap.Page_Section2=subSections;if(types)pageNameMap.Page_Type=types;for(var key in pageNameMap){if(pageNameMap.hasOwnProperty(key)){COT.setPriority(key,__data.prop+DEP_SEP+contextName,[[__data.acceptedValues],[contextValue]],1);COT.setAcceptedValues(key,__data.prop+DEP_SEP+contextName,[[__data.acceptedValues],[contextValue]],pageNameMap[key]);}}
if(subSections&&TC.isPureObject(subSections)){for(var mainSection in subSections){COT.setPriority('Page_Section2',__data.prop+DEP_SEP+contextName+DEP_SEP+'Page_Section1',[[__data.acceptedValues],[contextValue],[mainSection]],1);COT.setAcceptedValues('Page_Section2',__data.prop+DEP_SEP+contextName+DEP_SEP+'Page_Section1',[[__data.acceptedValues],[contextValue],[mainSection]],subSections[mainSection]);}}}}},addPreProcessingRules:function(){CPRET.addRule({name:__data.prop+'_undefined_notP1_skip',skip:true,rule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){return prop==__data.prop&&priority!=1&&TC.isUndefined(value)?true:false;},});},};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},CrossComponentSettingsCTRL.prototype));};var CONF_INTERFACE={setDatalayerGlobalStaticValues:function(){},setDatalayerPropertyListTable:function(){},getDatalayerRestriction:function(){},setDatalayerSuggestionTable:function(){},setDatalayerStaticAcceptedValues:function(){},setDatalayerContextTable:function(){},setDatalayerTable:function(){},setOverrideDatalayerTable:function(){},setPreProcessingRules:function(){},setPostProcessingRules:function(){},};var CONF_ENTITIES=[];{CONF_ENTITIES.push(function RequiredTrackingFunctionality(){var __cname='AutoQAConfiguration.RequiredTrackingFunctionality';var __export={};var __datalayer=new ArrayList('string',true,true);var __PAGE_VIEW_IDS=['default','VirtualPage-View','Loading-Ready','X-X-X-Loading-Ready'];try{__datalayer.add(['id','Page_Type','Tracking_Type','language',]);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerGlobalStaticValues=function(){CGST.setInfo('UNARY',['1']);CGST.setInfo('BINARY',['0','1']);CGST.setInfo('BINARY_ANSWER',['Y','N']);CGST.setInfo('BINARY_SWITCH',['On','Off']);};__export.setDatalayerStaticAcceptedValues=function(){CPST.setInfo('id',['Event','Impression'].concat(__PAGE_VIEW_IDS));CPST.setInfo('Page_Type',[]);CPST.setInfo('Tracking_Type',['','view','link','hiddenaction','configurator']);};__export.setDatalayerContextTable=function(){CDCT.setContextOnPage('Page_Type');CDCT.setContextOnEvent('id');CDCT.setEventsToUseAsPageContext(__PAGE_VIEW_IDS);};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();[pageContext,eventContext].forEach(function(context_name){CDT.setContextPriorityMap(context_name,context_name,1,'ALL');});var propList=CDPLT.getAllProps('list').filter(function(prop){return/^Events_/g.test(prop);});if(propList.length>0){var propListFiltered=propList.filter(function(prop){return CDT.getAcceptedValues(prop).toString()==REB.isAll();});CDT.setAcceptedValues(propListFiltered,'BINARY');CDT.setContextPriorityMap(propList,pageContext,2,'ALL');CDT.setContextPriorityMap(propList,eventContext,2,'ALL');}
CDT.setContextPriorityMap('Tracking_Type',pageContext,2,'ALL');CDT.setContextPriorityMap('Tracking_Type',eventContext,2,'ALL');{CDT.setContextPriorityMap('language',pageContext,2,'ALL');CDT.setAcceptedValues('language',/^[a-z]{2,2}-[a-z]{2,2}$/);}};__export.setOverrideDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();COT.setInfo(eventContext,pageContext,CPST.getInfo(pageContext),{priority:1,acceptedValues:CDCT.getEventsToUseAsPageContext(),contextName:pageContext});COT.setAcceptedValues(pageContext,eventContext,(CPST.getInfo(eventContext).filter(function(value){if(!CDCT.isEventWithPageContext(value))return value;})),REB.isAll());};__export.setPreProcessingRules=function(){{CPRET.addRule({name:'DomNodeOrElement_format_skip',skip:true,rule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){return format=='object'&&(TC.isDomNode(value)||TC.isDomElement(value))&&CDCT.isDomNodeOrElementList(prop)?true:false;},});CPRET.addRule({name:'DomNodeOrElement_format_error',skip:false,suggestions:'Value matches Dom Node or Element',rule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){return format=='object'&&(TC.isDomNode(value)||TC.isDomElement(value))&&(!CDCT.isDomNodeOrElementList(prop))?false:true;},});CPRET.addRule({name:'Object_format_error',skip:false,suggestions:'',rule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){if(format=='object'&&(!(TC.isDomNode(value)||TC.isDomElement(value)))&&(!CDCT.isDomNodeOrElementList(prop))){try{JSON.stringify(value);return true;}catch(e){this.suggestions=e.message;return false;}}
return true;},});}
CPRET.addRule({name:'id_undefined/empty/pagecontext_skip',skip:true,rule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){return prop=='id'&&(TC.isUndefined(value)||TC.isEmptyString(value)||CDCT.isEventToUseAsPageContext(value))&&context_name==CDCT.getContextOnPage()?true:false;},});CPRET.addRule({name:'Events_undefined_notP1_skip',skip:true,rule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){return/^Events_/g.test(prop)&&priority!=1&&TC.isUndefined(value)?true:false;},});CPRET.addRule({name:'TrackingType_undefined_skip',skip:true,rule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){return prop=='Tracking_Type'&&TC.isUndefined(value)?true:false;},});};__export.setPostProcessingRules=function(){CPOST.addRule({key:'id',dkeylist:(CDPLT.getAllProps('list').filter(function(p){if(/^Events_/g.test(p))return true;})),rule:function(keyValue,dkeyListValues){if(keyValue!=='Event')return true;for(var p in dkeyListValues)if(dkeyListValues.hasOwnProperty(p)&&/^Events_/g.test(p)&&dkeyListValues[p]==='1')return true;return false;},suggestions:'This tracking call with id \'Event\' must have atleast one variable starts with \'Events_\' set to \'1\'',name:'id_Event_error_Events_empty',});{CPOST.addRule({key:'language',dkeylist:['id'],rule:function(keyValue,dkeyListValues){if(keyValue&&(dkeyListValues.id&&(!/Loading-Ready/.test(dkeyListValues.id))))return false;if(!keyValue&&(!dkeyListValues.id||/Loading-Ready/.test(dkeyListValues.id)))return false;return true;},suggestions:'This variable is required only for Page View default and Loading-Ready (Consent Manager usage)',name:'language_error_id_not_required',});CPOST.addRule({key:'language',dkeylist:['id'],rule:function(keyValue,dkeyListValues){if(!keyValue&&(dkeyListValues.id&&(!/Loading-Ready/.test(dkeyListValues.id))))return true;return false;},success:true,name:'language_success_id_not_required',});}};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},RequiredTrackingFunctionality.prototype));}());CONF_ENTITIES.push(function ClickTrackingFunctionality(){var __cname='AutoQAConfiguration.ClickTrackingFunctionality';var __export={};var __datalayer=new ArrayList('string',true,true);try{__datalayer.add(['data_element_id','data_description','data_analytics_available_call']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerStaticAcceptedValues=function(){{CPST.setInfo('id',['Click']);}};__export.setDatalayerTable=function(){var eventContext=CDCT.getContextOnEvent();{CDT.setContextPriorityMap('data_element_id',eventContext,1,['Click']);CDT.setAcceptedValues('data_element_id',REB.isAlphaNumeric({required:'yes',nospaces:'yes'}));}
{CDT.setContextPriorityMap('data_description',eventContext,2,['Click']);CDT.setAcceptedValues('data_description',REB.isAlphaNumeric({required:'yes',nospaces:'yes'}));}
{CDT.setContextPriorityMap('data_analytics_available_call',eventContext,2,['Click']);CDT.setAcceptedValues('data_analytics_available_call',REB.isNumeric({required:'yes',zero:'yes'}));}};__export.setPostProcessingRules=function(){['data_element_id','data_description'].forEach(function(p){CPOST.addRule({key:p,dkeylist:['id','data_analytics_available_call'],rule:function(keyValue,dkeyListValues){if(dkeyListValues.id!='Click'||dkeyListValues.data_analytics_available_call!='0')return false;if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return true;return false;},success:true,name:p+'_value_success',});});};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},ClickTrackingFunctionality.prototype));}());CONF_ENTITIES.push(function ErrorTrackingFunctionality(){var __cname='AutoQAConfiguration.ErrorTrackingFunctionality';var __export={};var __datalayer=new ArrayList('string',true,true);try{__datalayer.add(['Events_Error','Error_Source','Error_Code','Error_Details','Error_Message']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerStaticAcceptedValues=function(){{CPST.setInfo('id',['Error']);CPST.setInfo('Page_Type',['Error']);CPST.setInfo('Events_Error',CGST.getInfo('UNARY'));}
CPST.setInfo('Error_Source',['User','Server','404','Client','Product','Anomaly']);};__export.setDatalayerTable=function(){var eventContext=CDCT.getContextOnEvent();{CDT.setContextPriorityMap(['Error_Source','Error_Code','Error_Details'],eventContext,1,['Error']);CDT.setContextPriorityMap(['Error_Message'],eventContext,2,['Error']);}
{CDT.setAcceptedValues(['Error_Code','Error_Details','Error_Message'],REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}};__export.setOverrideDatalayerTable=function(){COT.setPriority(['Error_Source','Error_Code','Error_Details'],'Events_Error',['1'],1);COT.setPriority(['Error_Message'],'Events_Error',['1'],2);};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},ErrorTrackingFunctionality.prototype));}());CONF_ENTITIES.push(function BasicTrackingFunctionality(){var __cname='AutoQAConfiguration.BasicTrackingFunctionality';var __export={};var __datalayer=new ArrayList('string',true,true);try{__datalayer.add(['Page_Country','Page_Language','Page_Platform','Order_Currency','Page_DeviceType','Page_Type','Page_Section1','Page_Section2','Page_Section3','Page_Design','Order_CartId','Order_CartUrl','Page_Creativities','Page_Brand','Store_Segment','Store_Brand','Store_Custom','Store_Chain','Page_PlatformRelease','Session_Status','Session_Id','Store_Id','Events_CartAdd','Events_ProdFavAdd','Events_CartRemove','Events_LicenceActivation','Events_CourseStart','Events_BookingEvent','Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'OosOptions',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'FrameType',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'LensUPC',PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',PROD_INDEX+DEPTH_SEP+'PriceSegment',PROD_INDEX+DEPTH_SEP+'Units',PROD_INDEX+DEPTH_SEP+'TaxRate',PROD_INDEX+DEPTH_SEP+'Sku',PROD_INDEX+DEPTH_SEP+'ModelName',PROD_INDEX+DEPTH_SEP+'Shape',PROD_INDEX+DEPTH_SEP+'FrameTechnology',PROD_INDEX+DEPTH_SEP+'LensTechnology',PROD_INDEX+DEPTH_SEP+'Brand',PROD_INDEX+DEPTH_SEP+'Warranty',PROD_INDEX+DEPTH_SEP+'ShippingTo',PROD_INDEX+DEPTH_SEP+'Preorder',PROD_INDEX+DEPTH_SEP+'Visibility',PROD_INDEX+DEPTH_SEP+'CancelledUnits',PROD_INDEX+DEPTH_SEP+'CancelledAmount',PROD_INDEX+DEPTH_SEP+'Return_Reason',PROD_INDEX+DEPTH_SEP+'ReorderSource',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url',PROD_INDEX+DEPTH_SEP+'Label',PROD_INDEX+DEPTH_SEP+'Sg_Badge','Products_Id_Array','Products_Id_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_Category_Array','Products_Category_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_ModelName_Array','Products_ModelName_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_Units_Array','Products_Units_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_PriceFull_Array','Products_PriceFull_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_RevenuePerUnit_Array','Products_RevenuePerUnit_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_ContextId_Array','Products_ContextId_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_Language_Array','Products_Language_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_Mandatory_Array','Products_Mandatory_Array'+DEPTH_SEP+DYNAMIC_PROP,'Order_QuotId','Order_Id','Events_DiscountTentative','Events_DiscountApplied','Order_DiscountCode','Order_DiscountName','Order_DiscountAmount','Order_ShippingAmount','Order_ShippingType','Order_ShippingMode','Order_ShippingSameDay','Order_ShippingDeliveryDate','Order_State','Order_ZipCode','Order_PaymentType','Order_PaymentInstallments','Order_Type','Events_GiftCardTentative','Events_GiftCardApplied','Order_GiftCardCode','Order_SubscriptionFrequency','Events_OrderCancel','Order_CancellationId','Events_ReturnCreate','Return_Reasons','Return_Cost','Return_Type','Content_Answers','Event_Source',]);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');{CDPLT.setInfo(['Products'],{format:'object',acceptedProps:0});CDPLT.setInfo([PROD_INDEX],'object');}
{CDPLT.setInfo(['Products_Id_Array','Products_Category_Array','Products_ModelName_Array','Products_ContextId_Array','Products_Language_Array','Products_Units_Array','Products_PriceFull_Array','Products_RevenuePerUnit_Array','Products_Mandatory_Array',],{format:'array',acceptedProps:0});}};__export.getDatalayerRestriction=function(){var datalayerRestriction=new ArrayList('string',true,true);{datalayerRestriction.add(['Page_Country','Page_Language','Page_Platform','Order_Currency','Page_DeviceType','Page_Type','Page_Section1','Page_Section2','Page_Section3','Page_Design']);if(PROFILE_IS_UNI)datalayerRestriction.remove(['Page_Platform','Page_Design']);if(PROFILE_IS_ECOMMERCE)datalayerRestriction.add(['Order_CartUrl']);if(PROFILE_IS_ECOMMERCE||PROFILE_IS_UNI)datalayerRestriction.add(['Order_CartId']);if(PROFILE_IS_RETAIL){if(PROFILE_IS_SS)datalayerRestriction.add(['Page_PlatformRelease','Session_Status','Session_Id']);if(PROFILE_IS_SSW)datalayerRestriction.add(['Store_Brand','Store_Custom','Store_Chain']);if(PROFILE_IS_SSR)datalayerRestriction.add(['Page_Brand','Store_Segment']);if(PROFILE_IS_MYEL)datalayerRestriction.add(['Page_Creativities']);}
if(PROFILE_IS_RETAIL||PROFILE_IS_S360)datalayerRestriction.add(['Store_Id']);}
{if(PROFILE_IS_ECOMMERCE||PROFILE_IS_RETAIL||PROFILE_IS_TRANSACTIONAL){datalayerRestriction.add(['Events_CartAdd','Events_ProdFavAdd','Events_CartRemove']);if(PROFILE_IS_ECOMMERCE||PROFILE_IS_RETAIL)datalayerRestriction.add(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'OosOptions',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'FrameType',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'LensUPC',PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',PROD_INDEX+DEPTH_SEP+'Units',PROD_INDEX+DEPTH_SEP+'TaxRate']);if(PROFILE_IS_ECOMMERCE){datalayerRestriction.add([PROD_INDEX+DEPTH_SEP+'PriceSegment',PROD_INDEX+DEPTH_SEP+'Sku',PROD_INDEX+DEPTH_SEP+'ModelName',PROD_INDEX+DEPTH_SEP+'Shape',PROD_INDEX+DEPTH_SEP+'FrameTechnology',PROD_INDEX+DEPTH_SEP+'LensTechnology',PROD_INDEX+DEPTH_SEP+'Warranty',PROD_INDEX+DEPTH_SEP+'CancelledUnits',PROD_INDEX+DEPTH_SEP+'CancelledAmount',PROD_INDEX+DEPTH_SEP+'Return_Reason',PROD_INDEX+DEPTH_SEP+'ReorderSource',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url',PROD_INDEX+DEPTH_SEP+'Label',PROD_INDEX+DEPTH_SEP+'Sg_Badge',]);if(PROFILE_IS_ECOMMERCE_MULTI_BRAND)datalayerRestriction.add([PROD_INDEX+DEPTH_SEP+'Brand']);}
if(PROFILE_IS_MYEL||PROFILE_IS_RB||PROFILE_IS_OO)datalayerRestriction.add([PROD_INDEX+DEPTH_SEP+'Preorder']);if(PROFILE_IS_MYEL)datalayerRestriction.add([PROD_INDEX+DEPTH_SEP+'ShippingTo']);if(PROFILE_IS_RB)datalayerRestriction.add([PROD_INDEX+DEPTH_SEP+'Visibility']);if(PROFILE_IS_UNI){datalayerRestriction.add(['Events_LicenceActivation','Events_CourseStart','Events_BookingEvent','Products_Id_Array','Products_Id_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_Category_Array','Products_Category_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_ModelName_Array','Products_ModelName_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_Units_Array','Products_Units_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_PriceFull_Array','Products_PriceFull_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_RevenuePerUnit_Array','Products_RevenuePerUnit_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_ContextId_Array','Products_ContextId_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_Language_Array','Products_Language_Array'+DEPTH_SEP+DYNAMIC_PROP,'Products_Mandatory_Array','Products_Mandatory_Array'+DEPTH_SEP+DYNAMIC_PROP,]);}}}
{if(PROFILE_IS_ECOMMERCE||PROFILE_IS_RETAIL||PROFILE_IS_TRANSACTIONAL)datalayerRestriction.add(['Order_Id']);if(PROFILE_IS_ECOMMERCE||PROFILE_IS_RETAIL)datalayerRestriction.add(['Order_ShippingAmount','Order_ShippingType','Order_ShippingMode','Order_ShippingSameDay','Order_ShippingDeliveryDate','Order_State','Order_ZipCode','Order_PaymentType']);if(PROFILE_IS_ECOMMERCE||PROFILE_IS_TRANSACTIONAL)datalayerRestriction.add(['Order_SubscriptionFrequency']);if(PROFILE_IS_ECOMMERCE)datalayerRestriction.add(['Order_QuotId','Events_DiscountTentative','Events_DiscountApplied','Order_DiscountCode','Order_DiscountName','Order_DiscountAmount','Order_PaymentInstallments','Order_Type','Events_GiftCardTentative','Events_GiftCardApplied','Order_GiftCardCode','Events_OrderCancel','Order_CancellationId','Events_ReturnCreate','Return_Reasons','Return_Cost','Return_Type']);}
{if(PROFILE_IS_ECOMMERCE)datalayerRestriction.add(['Content_Answers']);}
datalayerRestriction.add(['Event_Source']);return datalayerRestriction.getData();};__export.setDatalayerGlobalStaticValues=function(){CGST.setInfo('COUNTRIES_3L',['INT','LAT','MEA','ROE']);CGST.setInfo('LOGIN_REGISTER_PAGE_SECTIONS',['Checkout']);CGST.setInfo('CLUB&TE_SUBSCRIPTIONS',['&TeMini','&TeContact','&TeVistaBase','&TeVistaPlus','&TeVistaDeluxe']);CGST.setInfo('STATIC_PAGE_SECTIONS',['Other','GetSupport'].concat(PROFILE_IS_UNI?['Login']:[]));CGST.setInfo('PLP_PAGE_DESIGNS',['','Editorial']);CGST.setInfo('PDP_PAGE_DESIGNS',['','Premium']);CGST.setInfo('CATEGORIES_NOT_EYEWEAR',['GIFTCARD','CONTACT LENSENS','SPARE PARTS','AFA','ACCESSORIES','VAS']);CGST.setInfo('DATALAYER_PRODUCTS_NO_CUSTOM',['Sku','ModelName','Shape','FrameTechnology','LensTechnology']);CGST.setInfo('DATALAYER_URL_ONLY',['Order_CartUrl',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url']);};__export.setDatalayerStaticAcceptedValues=function(){{CPST.setInfo('id',['MiniWishOverlay-Open','MiniCartOverlay-Open','Overlay-View','Prods-Update','AddToCart','ProdFavAdd','Prods-Delete','EmailMeWhenAvailable','Checkout-Step-Login','Checkout-Step-Delivery','Checkout-Step-Payment','OrderDiscountCode-Applied','OrderDiscountCode-Tentative','OrderGiftCard-Applied','OrderGiftCard-Tentative',]);CPST.setInfo('Page_Type',['Home','Clv','Clp','Landing','Static','Quoto','Plp','EPlp','CPlp','Pdp','PClp','Comparator','CartPage','Login&Register','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor',//@TODO: 'Doctor' should be moved out]);['Events_CartAdd','Events_ProdFavAdd','Events_CartRemove','Events_DiscountTentative','Events_DiscountApplied','Events_GiftCardTentative','Events_GiftCardApplied','Events_OrderCancel','Events_ReturnCreate','Events_LicenceActivation','Events_CourseStart','Events_BookingEvent',].forEach(function(prop){CPST.setInfo(prop,CGST.getInfo('UNARY'));});{CPST.setInfo('Page_Brand',['RB','OO','SGH','LC','SV','TO','OPSM','PV','DC','OC','AL','SO','FE','LP','GV']);CPST.setInfo('Page_DeviceType',(PROFILE_IS_SS)?['ipad','wall43']:['mobile','desktop','tablet','all']);CPST.setInfo('Page_Platform',['EShop','Yext']);CPST.setInfo('Session_Status',CGST.getInfo('BINARY_SWITCH'));}}
CPST.setInfo('Products',null);CPST.setInfo(PROD_INDEX,null);CPST.setInfo(PROD_INDEX+DEPTH_SEP+'Preorder',CGST.getInfo('BINARY'));CPST.setInfo(PROD_INDEX+DEPTH_SEP+'Status',['Available','Coming soon','Out-of-stock','SoldOut','Not-for-sale','Available-oneLeft','Available-twoLeft','Available-fewLeft']);CPST.setInfo(PROD_INDEX+DEPTH_SEP+'Category',['ACCESSORIES','OPTICS','SUN','AFA','EYEWEAR','Electronics'].concat((PROFILE_IS_ECOMMERCE)?['GIFTCARD','CONTACT LENSES','VAS']:(PROFILE_IS_MYEL)?['SPARE PARTS']:[]).concat((PROFILE_IS_NUA)?['ELECTRONICS AUDIO OPTICAL']:[]));CPST.setInfo(PROD_INDEX+DEPTH_SEP+'FrameType',[]);CPST.setInfo(PROD_INDEX+DEPTH_SEP+'LensType',['','PLANO']);CPST.setInfo(PROD_INDEX+DEPTH_SEP+'OosOptions',[]);CPST.setInfo(PROD_INDEX+DEPTH_SEP+'Visibility',['Public','Private','Semiprivate']);CPST.setInfo(PROD_INDEX+DEPTH_SEP+'ReorderSource',['Ecom','Retail']);['Products_Id_Array','Products_Category_Array','Products_ModelName_Array','Products_ContextId_Array','Products_Language_Array','Products_Units_Array','Products_PriceFull_Array','Products_RevenuePerUnit_Array','Products_Mandatory_Array',].forEach(function(prop){CPST.setInfo(prop,null);});CPST.setInfo('Products_Mandatory_Array'+DEPTH_SEP+DYNAMIC_PROP,CGST.getInfo('BINARY'));CPST.setInfo('Order_ShippingType',['Home','Store']);CPST.setInfo('Order_ShippingMode',(PROFILE_IS_SS)?['Ship-to-store:Green','Delivery-at-home:Green','Ship-to-store:Express','Delivery-at-home:Express','Ship-to-store:Standard','Delivery-at-home:Standard']:['Standard','Express','Economic','Scheduled','Pick-up-point','Standard - Shoprunner','Express - Shoprunner','Ground','Click&Collect','Second Business Day','USPS Only','Military','Same Day Delivery','Next Business Day','EGift','Green']);CPST.setInfo('Order_ShippingSameDay',['true','false']);CPST.setInfo('Order_Type',['','Standard','Preorder'].concat(PROFILE_IS_OO?['SI-official','SI-non-official']:[]));CPST.setInfo('Return_Type',['refund','exchange']);};__export.setDatalayerContextTable=function(){CDCT.setEventsToUseAsPageContext('Prods-Update');CDCT.setEntryToEventsMapWithPageContext('Checkout-Step-Login','Login&Register');CDCT.setEntryToEventsMapWithPageContext('Checkout-Step-Delivery','Delivery');CDCT.setEntryToEventsMapWithPageContext('Checkout-Step-Payment','Payment');};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();{{CDT.setContextPriorityMap('Page_Country',pageContext,1,'ALL');CDT.setAcceptedValues('Page_Country',REB.isValueOf([REB.toStringAndClean(REB.isAlpha(2,2,'uppercase'))].concat(CGST.getInfo('COUNTRIES_3L')),1));}
{CDT.setContextPriorityMap('Page_Language',pageContext,1,'ALL');CDT.setAcceptedValues('Page_Language',REB.isAlpha(2,2,'uppercase'));}
{CDT.setContextPriorityMap('Page_Platform',pageContext,2,'ALL');}
{CDT.setContextPriorityMap('Order_Currency',pageContext,1,'ALL');CDT.setAcceptedValues('Order_Currency',REB.isAlpha(3,3,'uppercase'));}
{CDT.setContextPriorityMap('Page_DeviceType',pageContext,1,'ALL');}
{CDT.setContextPriorityMap('Page_Section1',pageContext,1,'ALL');CDT.setAcceptedValues('Page_Section1',REB.isAlphaNumeric({nospaces:'yes',required:'yes',exceptions:[':'],multiples:{type:'item'}}));}
{CDT.setContextPriorityMap('Page_Section2',pageContext,1,['Clv','Clp','Plp','EPlp','CPlp','Pdp','PClp','Landing','Comparator','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor','Static','Quoto','Error']);CDT.setContextPriorityMap('Page_Section2',eventContext,1,['Checkout-Step-Login','Checkout-Step-Delivery','Checkout-Step-Payment','Overlay-View','Impression']);CDT.setAcceptedValues('Page_Section2',REB.isAlphaNumeric({nospaces:'yes',multiples:{type:'item',sep:':'}}));}
{CDT.setContextPriorityMap('Page_Section3',pageContext,2,['Plp','Pdp']);CDT.setAcceptedValues('Page_Section3',REB.isAlphaNumeric({nospaces:'yes',multiples:{type:'item',sep:':'}}));}
{CDT.setContextPriorityMap('Page_Design',pageContext,1,['Shipping']);CDT.setContextPriorityMap('Page_Design',pageContext,2,['Clv','Clp','Plp','EPlp','CPlp','Pdp','PClp']);}
{CDT.setContextPriorityMap('Order_CartId',pageContext,2,'ALL');CDT.setContextPriorityMap('Order_CartId',pageContext,1,['CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setAcceptedValues('Order_CartId',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setContextPriorityMap('Order_CartUrl',pageContext,2,'ALL');CDT.setContextPriorityMap('Order_CartUrl',eventContext,2,['Checkout-Step-Login','Checkout-Step-Delivery','Checkout-Step-Payment']);CDT.setAcceptedValues('Order_CartUrl',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setContextPriorityMap('Page_Creativities',pageContext,1,'ALL');CDT.setAcceptedValues('Page_Creativities',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item',sep:','}}));}
{CDT.setContextPriorityMap('Page_Brand',pageContext,1,'ALL');}
{CDT.setContextPriorityMap('Store_Segment',pageContext,1,'ALL');CDT.setAcceptedValues('Store_Segment',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item',sep:','}}));}
{CDT.setContextPriorityMap('Store_Brand',pageContext,1,'ALL');CDT.setAcceptedValues('Store_Brand',REB.isValueOf(['null','ALL',REB.toStringAndClean(REB.isAlpha(2,2,'uppercase'))],1));}
{CDT.setContextPriorityMap('Store_Custom',pageContext,1,'ALL');CDT.setAcceptedValues('Store_Custom',REB.isValueOf(['null',REB.toStringAndClean(REB.isSeparatedBy(REB.isValueOf(CGST.getInfo('CUSTOM_CONFIGURATOR_LIST'),1),',',1))],1));}
{CDT.setContextPriorityMap('Store_Chain',pageContext,1,'ALL');CDT.setAcceptedValues('Store_Chain',REB.isAlphaNumeric({nospaces:'yes',required:'yes'}));}
{CDT.setContextPriorityMap('Page_PlatformRelease',pageContext,1,'ALL');CDT.setAcceptedValues('Page_PlatformRelease',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item'}}));}
{CDT.setContextPriorityMap('Session_Status',pageContext,1,'ALL');}
{CDT.setContextPriorityMap('Session_Id',pageContext,1,'ALL');CDT.setAcceptedValues('Session_Id',REB.isAlphaNumeric({nospaces:'yes',required:'yes'}));}
{CDT.setContextPriorityMap('Store_Id',pageContext,1,'ALL');{if(PROFILE_IS_MYEL||PROFILE_IS_SSW){CDT.setAcceptedValues('Store_Id',REB.isNumeric({zero:'yes',required:'yes'}));CDT.setSuggestions('Store_Id','Specify the client code as agree for the store id. It should be a positive integer (Zero included).');}
else if(PROFILE_IS_SSR){CDT.setAcceptedValues('Store_Id',REB.isGlobalStoreId(1));CDT.setSuggestions('Store_Id','Specify the global id related to the current store of the platform. Format: [sap code]-[store id]');}
else CDT.setAcceptedValues('Store_Id',REB.isAlphaNumeric({nospaces:'yes',required:'yes'}));}}}
{{['Products',PROD_INDEX].forEach(function(p){CDT.setContextPriorityMap(p,pageContext,1,['Pdp','PClp','Plp','EPlp','CPlp','Comparator','CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setContextPriorityMap(p,eventContext,1,['AddToCart','ProdFavAdd','Prods-Delete','EmailMeWhenAvailable','MiniWishOverlay-Open','MiniCartOverlay-Open']);CDT.setAcceptedValues(p,REB.isObj(1));});{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Status',pageContext,1,['Pdp','PClp','Plp','EPlp','CPlp','CartPage']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Status',eventContext,1,['AddToCart','MiniWishOverlay-Open','MiniCartOverlay-Open']);}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'OosOptions',pageContext,1,['Plp','EPlp','CPlp','Pdp','PClp']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'OosOptions',eventContext,1,['MiniWishOverlay-Open','MiniCartOverlay-Open']);}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Category',pageContext,1,['Pdp','PClp','Plp','EPlp','CPlp','Comparator','CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Category',eventContext,1,['AddToCart','ProdFavAdd','Prods-Delete','MiniWishOverlay-Open','MiniCartOverlay-Open','EmailMeWhenAvailable']);}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'LensType',pageContext,1,['PClp','Plp','EPlp','CPlp','Pdp','CartPage','Delivery','Payment','OrderSummary','Thankyou','Doctor','Shipping']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'LensType',eventContext,1,['MiniWishOverlay-Open','MiniCartOverlay-Open','AddToCart','ProdFavAdd','Prods-Delete','EmailMeWhenAvailable']);}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'LensUPC',pageContext,1,['CartPage','Delivery','Payment','OrderSummary','Thankyou','Doctor','Shipping']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'LensUPC',eventContext,1,['MiniCartOverlay-Open','AddToCart','Prods-Delete']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'LensUPC',REB.isAlphaNumeric({nospaces:'yes'}));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Engraving',pageContext,2,['Plp','EPlp','CPlp','Pdp','PClp','CartPage','Delivery','Payment','OrderSummary','Thankyou','Doctor','Shipping']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Engraving',eventContext,2,['MiniWishOverlay-Open','MiniCartOverlay-Open','AddToCart','ProdFavAdd']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'Engraving',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item',sep:','}}));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Price',pageContext,1,['Plp','EPlp','CPlp','Pdp','PClp','CartPage','Delivery','Payment','OrderSummary','Thankyou','Doctor','Shipping']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Price',eventContext,1,['MiniWishOverlay-Open','MiniCartOverlay-Open','AddToCart','ProdFavAdd']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'Price',REB.isNumeric({required:'yes',decimals:{}}));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'PriceFull',pageContext,1,['Plp','EPlp','CPlp','Pdp','PClp','CartPage','Delivery','Payment','OrderSummary','Thankyou','Doctor','Shipping']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'PriceFull',eventContext,1,['MiniWishOverlay-Open','MiniCartOverlay-Open','AddToCart','ProdFavAdd']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'PriceFull',REB.isNumeric({required:'yes',decimals:{}}));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'PriceSegment',pageContext,1,['Plp','EPlp','CPlp','Pdp','PClp','CartPage','Delivery','Payment','OrderSummary','Thankyou','Doctor','Shipping']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'PriceSegment',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item',sep:','}}));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Units',pageContext,1,['CartPage','Delivery','Payment','OrderSummary','Thankyou','Doctor','Shipping']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Units',eventContext,1,['AddToCart']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'Units',REB.isNumeric({required:'yes'}));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'TaxRate',pageContext,2,['Payment','OrderSummary','Thankyou','Doctor']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'TaxRate',REB.isNumeric({required:'yes',zero:'yes',decimals:{}}));}
CGST.getInfo('DATALAYER_PRODUCTS_NO_CUSTOM').forEach(function(p){CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+p,pageContext,2,(p=='Sku'?['Plp','EPlp','CPlp']:[]).concat(['Pdp','PClp','CartPage','Delivery','Payment','OrderSummary','Thankyou','Doctor','Shipping']));CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+p,eventContext,2,['MiniWishOverlay-Open','MiniCartOverlay-Open','AddToCart','ProdFavAdd']);if(p==='ModelName')CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+p,pageContext,1,['Pdp']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+p,REB.isAlphaNumeric({nospaces:'yes',multiples:{type:'item'}}));});{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Brand',pageContext,1,['Thankyou']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Brand',pageContext,2,['Pdp','PClp','CartPage','Delivery','Shipping','Payment','OrderSummary','Doctor']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Brand',eventContext,2,['MiniWishOverlay-Open','MiniCartOverlay-Open','AddToCart','ProdFavAdd']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'Brand',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Warranty',pageContext,2,['CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'Warranty',REB.isNumeric({zero:'yes',required:'yes',decimals:{}}));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'ShippingTo',pageContext,1,['Payment','OrderSummary','Thankyou']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'ShippingTo',REB.isNumeric({zero:'yes',required:'yes'}));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Preorder',pageContext,2,['Plp','EPlp','CPlp','Pdp','PClp','CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Visibility',pageContext,2,['Plp','EPlp','CPlp','Pdp','PClp','CartPage']);}
{CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'CancelledUnits',REB.isNumeric({required:'yes'}));}
{CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'CancelledAmount',REB.isNumeric({required:'yes',zero:'yes',decimals:{}}));}
{CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'Return_Reason',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item'}}));}
['Image','Url'].forEach(function(p){CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+p,pageContext,2,['Pdp','PClp','CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+p,eventContext,2,['AddToCart','MiniWishOverlay-Open','MiniCartOverlay-Open']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+p,REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item'}}));});{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Label',pageContext,2,['Plp','Pdp']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Label',eventContext,2,['AddToCart']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'Label',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item'}}));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Sg_Badge',eventContext,2,['AddToCart']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'Sg_Badge',['Narrow','Average','Wide']);}}
{['Products_Id_Array','Products_Category_Array','Products_ModelName_Array','Products_ContextId_Array','Products_Language_Array','Products_Units_Array','Products_PriceFull_Array','Products_RevenuePerUnit_Array','Products_Mandatory_Array',].forEach(function(p){{if(/_(Id|Category|ModelName|Language)_/.test(p)){CDT.setContextPriorityMap(p,pageContext,1,['Pdp']);CDT.setContextPriorityMap(p+DEPTH_SEP+DYNAMIC_PROP,pageContext,1,['Pdp']);}
if(!/_(Domain|ContextId|Mandatory)_/.test(p)){CDT.setContextPriorityMap(p,pageContext,1,['CartPage','Delivery','Payment','Thankyou']);CDT.setContextPriorityMap(p+DEPTH_SEP+DYNAMIC_PROP,pageContext,1,['CartPage','Delivery','Payment','Thankyou']);}}
{if(/_(Id|Category|ModelName|Language)_/.test(p)){CDT.setContextPriorityMap(p,pageContext,2,['Plp']);CDT.setContextPriorityMap(p+DEPTH_SEP+DYNAMIC_PROP,pageContext,2,['Plp']);}
if(!/_(Id|Category|ModelName|Language)_/.test(p)){CDT.setContextPriorityMap(p,pageContext,2,['Pdp']);CDT.setContextPriorityMap(p+DEPTH_SEP+DYNAMIC_PROP,pageContext,2,['Pdp']);}}
CDT.setAcceptedValues(p,REB.isArr(1));});{CDT.setAcceptedValues('Products_Id_Array'+DEPTH_SEP+DYNAMIC_PROP,REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setAcceptedValues('Products_Category_Array'+DEPTH_SEP+DYNAMIC_PROP,REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setAcceptedValues('Products_ModelName_Array'+DEPTH_SEP+DYNAMIC_PROP,REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setAcceptedValues('Products_ContextId_Array'+DEPTH_SEP+DYNAMIC_PROP,REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setAcceptedValues('Products_Language_Array'+DEPTH_SEP+DYNAMIC_PROP,REB.isAlpha(2,2,'lowercase'));}
{CDT.setAcceptedValues('Products_Units_Array'+DEPTH_SEP+DYNAMIC_PROP,REB.isNumeric({required:'yes'}));}
{CDT.setAcceptedValues('Products_PriceFull_Array'+DEPTH_SEP+DYNAMIC_PROP,REB.isNumeric({required:'yes',decimals:{}}));}
{CDT.setAcceptedValues('Products_RevenuePerUnit_Array'+DEPTH_SEP+DYNAMIC_PROP,REB.isNumeric({required:'yes',decimals:{}}));}}}
{{CDT.setContextPriorityMap('Order_QuotId',pageContext,1,['Delivery','Shipping','Payment','OrderSummary','Thankyou']);CDT.setAcceptedValues('Order_QuotId',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setContextPriorityMap('Order_Id',pageContext,1,['Thankyou']);CDT.setAcceptedValues('Order_Id',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setContextPriorityMap('Order_DiscountCode',pageContext,1,['Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setContextPriorityMap('Order_DiscountCode',eventContext,1,['OrderDiscountCode-Applied','OrderDiscountCode-Tentative']);CDT.setAcceptedValues('Order_DiscountCode',REB.isAlphaNumeric({required:'yes',multiples:{type:'item',sep:','}}));}
{CDT.setContextPriorityMap('Order_DiscountName',pageContext,2,['CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setContextPriorityMap('Order_DiscountName',eventContext,2,['OrderDiscountCode-Applied','OrderDiscountCode-Tentative']);CDT.setAcceptedValues('Order_DiscountName',REB.isAlphaNumeric({required:'yes',multiples:{type:'item',sep:','}}));}
{CDT.setContextPriorityMap('Order_DiscountAmount',pageContext,1,['CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setAcceptedValues('Order_DiscountAmount',REB.isNumeric({sign:'negative',zero:'yes',required:'yes',decimals:{}}));}
{CDT.setContextPriorityMap('Order_ShippingAmount',pageContext,1,['Thankyou']);CDT.setContextPriorityMap('Order_ShippingAmount',pageContext,2,['Payment','OrderSummary','Doctor']);CDT.setAcceptedValues('Order_ShippingAmount',REB.isNumeric({zero:'yes',required:'yes',decimals:{}}));}
{CDT.setContextPriorityMap('Order_ShippingType',pageContext,1,['Shipping','Payment','OrderSummary','Thankyou','Doctor']);}
{CDT.setContextPriorityMap('Order_ShippingMode',pageContext,1,['Payment','OrderSummary','Thankyou','Doctor']);}
{CDT.setContextPriorityMap('Order_ShippingSameDay',pageContext,2,['Shipping']);}
{CDT.setContextPriorityMap('Order_ShippingDeliveryDate',pageContext,2,['Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setAcceptedValues('Order_ShippingDeliveryDate',REB.isDateFormat(0));}
{CDT.setContextPriorityMap('Order_State',pageContext,2,['Payment','OrderSummary','Thankyou','Doctor']);CDT.setAcceptedValues('Order_State',REB.isAlpha(2,2,'uppercase'));}
{CDT.setContextPriorityMap('Order_ZipCode',pageContext,2,['Payment','OrderSummary','Thankyou','Doctor']);CDT.setAcceptedValues('Order_ZipCode',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item'}}));}
{CDT.setContextPriorityMap('Order_PaymentType',pageContext,1,['OrderSummary','Thankyou']);CDT.setAcceptedValues('Order_PaymentType',REB.isAlphaNumeric({required:'yes',multiples:{type:'item',sep:','}}));}
{CDT.setContextPriorityMap('Order_PaymentInstallments',pageContext,1,['OrderSummary','Thankyou']);CDT.setAcceptedValues('Order_PaymentInstallments',REB.isNumeric());}
{CDT.setContextPriorityMap('Order_Type',pageContext,1,['Thankyou']);}
{CDT.setContextPriorityMap('Order_GiftCardCode',eventContext,1,['OrderGiftCard-Applied','OrderGiftCard-Tentative']);CDT.setContextPriorityMap('Order_GiftCardCode',pageContext,2,['Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setAcceptedValues('Order_GiftCardCode',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item',sep:','}}));}
{CDT.setContextPriorityMap('Order_SubscriptionFrequency',pageContext,2,['Thankyou']);CDT.setAcceptedValues('Order_SubscriptionFrequency',REB.isNumeric({required:'yes',zero:'yes'}));}
{CDT.setAcceptedValues('Order_CancellationId',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setAcceptedValues('Return_Reasons',REB.isAlphaNumeric({multiples:{type:'item',sep:','}}));CDT.setAcceptedValues('Return_Cost',REB.isNumeric({required:'yes',zero:'yes',decimals:{}}));}}
{{CDT.setAcceptedValues('Content_Answers',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item',sep:'|'}}));}}
{{CDT.setAcceptedValues('Event_Source',REB.isAlphaNumeric({required:'yes'}));}}
{CDT.setContextPriorityMap(['Error_Source','Error_Code','Error_Message'],eventContext,1,['OrderDiscountCode-Tentative','OrderGiftCard-Tentative']);CDT.setContextPriorityMap(['Events_Error','Error_Details'],eventContext,-1,['OrderDiscountCode-Tentative','OrderGiftCard-Tentative']);}};__export.setOverrideDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();var datalayerProducts=CDPLT.getAllProps().filter(function(prop){if(prop=='Products'||RegExp('^Products'+DEPTH_SEP_FOR_REGEXP+DYNAMIC_PROP).test(prop))return prop;});{{COT.setPriority(['Page_Section2','Order_CartId','Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'LensUPC',PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',PROD_INDEX+DEPTH_SEP+'PriceSegment',PROD_INDEX+DEPTH_SEP+'Units',PROD_INDEX+DEPTH_SEP+'Brand',PROD_INDEX+DEPTH_SEP+'Warranty',PROD_INDEX+DEPTH_SEP+'Preorder',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url','Order_QuotId','Order_DiscountCode','Order_DiscountCode','Order_ShippingDeliveryDate','Order_GiftCardCode',].concat(CGST.getInfo('DATALAYER_PRODUCTS_NO_CUSTOM').map(function(p){return PROD_INDEX+DEPTH_SEP+p;})),'Page_Type'+DEP_SEP+'Page_Section1',[['Login&Register'],['Checkout']],1);COT.setPriority(['Order_DiscountName'],'Page_Type'+DEP_SEP+'Page_Section1',[['Login&Register'],['Checkout']],2);}
{COT.setPriority(['Products',PROD_INDEX,'Content_Answers'],eventContext+DEP_SEP+'Page_Section2',[['Impression'],['WowQuiz:Results']],1);}
{COT.setPriority(['Page_Section2'],'Page_Type'+DEP_SEP+'Page_Section1',[['Static'],['Other']],1);COT.setPriority(['Page_Section2'],'Page_Type'+DEP_SEP+'Page_Section1',[['Comparator'],['Comparator']],1);COT.setPriority(['Page_Section2'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[['CartPage'],['CartPage'],['Quoto']],1);COT.setPriority(['Page_Section2'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[['Quoto'],['Other'],['Quoto']],1);COT.setPriority(['Page_Design'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Design',[['CartPage'],['CartPage'],['Empty']],1);COT.setPriority(['Order_CartId','Order_CartUrl'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Design',[['CartPage'],['CartPage'],['Empty']],-1);if(PROFILE_IS_UNI){COT.setPriority(['Page_Country','Order_Currency'],'Page_Type'+DEP_SEP+'Page_Section1',[['Static'],['Login']],-1);}}
{COT.setPriority(datalayerProducts,'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Design',[['CartPage'],['CartPage'],['Empty']],-1);COT.setPriority([PROD_INDEX+DEPTH_SEP+'Visibility'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[['CartPage'],['CartPage'],['Quoto']],-1);{COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'LensUPC',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',PROD_INDEX+DEPTH_SEP+'PriceSegment',PROD_INDEX+DEPTH_SEP+'Units',],'Events_CartAdd',['1'],1);COT.setPriority(CGST.getInfo('DATALAYER_PRODUCTS_NO_CUSTOM').map(function(p){return PROD_INDEX+DEPTH_SEP+p;}).concat([PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Brand',PROD_INDEX+DEPTH_SEP+'ReorderSource',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url',PROD_INDEX+DEPTH_SEP+'Label',PROD_INDEX+DEPTH_SEP+'Sg_Badge',]),'Events_CartAdd',['1'],2);}
{COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull'],'Events_ProdFavAdd',['1'],1);COT.setPriority(CGST.getInfo('DATALAYER_PRODUCTS_NO_CUSTOM').map(function(p){return PROD_INDEX+DEPTH_SEP+p;}).concat([PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Brand',]),'Events_ProdFavAdd',['1'],2);}
COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'LensUPC',],'Events_CartRemove',['1'],1);{COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'OosOptions',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',PROD_INDEX+DEPTH_SEP+'PriceSegment',],eventContext+DEP_SEP+'Page_Section2',[['Impression'],['QuickView']],1);COT.setPriority([PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Brand',PROD_INDEX+DEPTH_SEP+'Preorder',PROD_INDEX+DEPTH_SEP+'Visibility',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url',].concat(CGST.getInfo('DATALAYER_PRODUCTS_NO_CUSTOM').map(function(p){return PROD_INDEX+DEPTH_SEP+p;})),eventContext+DEP_SEP+'Page_Section2',[['Impression'],['QuickView']],2);}
{COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'OosOptions',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',],eventContext+DEP_SEP+'Page_Section2',[['Impression'],['MiniWishlist']],1);COT.setPriority([PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Brand',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url',].concat(CGST.getInfo('DATALAYER_PRODUCTS_NO_CUSTOM').map(function(p){return PROD_INDEX+DEPTH_SEP+p;})),eventContext+DEP_SEP+'Page_Section2',[['Impression'],['MiniWishlist']],2);}
{COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'OosOptions',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'LensUPC',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',PROD_INDEX+DEPTH_SEP+'PriceSegment',],eventContext+DEP_SEP+'Page_Section2',[['Impression'],['MiniCart']],1);COT.setPriority([PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Brand',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url',].concat(CGST.getInfo('DATALAYER_PRODUCTS_NO_CUSTOM').map(function(p){return PROD_INDEX+DEPTH_SEP+p;})),eventContext+DEP_SEP+'Page_Section2',[['Impression'],['MiniCart']],2);}
COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'CancelledUnits',PROD_INDEX+DEPTH_SEP+'CancelledAmount'],'Events_OrderCancel',['1'],1);COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'CancelledUnits',PROD_INDEX+DEPTH_SEP+'CancelledAmount',PROD_INDEX+DEPTH_SEP+'Return_Reason'],'Events_ReturnCreate',['1'],1);}
{['Products_Id_Array','Products_Category_Array','Products_ModelName_Array','Products_ContextId_Array','Products_Language_Array','Products_Units_Array','Products_PriceFull_Array','Products_RevenuePerUnit_Array','Products_Mandatory_Array',].forEach(function(p){if(!/_(Mandatory)_/.test(p))COT.setPriority([p,p+DEPTH_SEP+DYNAMIC_PROP],'Events_CartAdd',['1'],1);if(!/_(Units|PriceFull|RevenuePerUnit)_/.test(p))COT.setPriority([p,p+DEPTH_SEP+DYNAMIC_PROP],'Events_ProdFavAdd',['1'],1);if(/_(Id|Category|ModelName)_/.test(p))COT.setPriority([p,p+DEPTH_SEP+DYNAMIC_PROP],'Events_LicenceActivation',['1'],1);if(!/_(Units|PriceFull|RevenuePerUnit)_/.test(p))COT.setPriority([p,p+DEPTH_SEP+DYNAMIC_PROP],'Events_CourseStart',['1'],1);if(!/_(Units|PriceFull|RevenuePerUnit)_/.test(p))COT.setPriority([p,p+DEPTH_SEP+DYNAMIC_PROP],'Events_BookingEvent',['1'],1);});}
{COT.setPriority(['Order_QuotId'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[['CartPage'],['CartPage'],['Quoto']],1);COT.setPriority(['Order_DiscountCode'],'Events_DiscountTentative',['1'],1);COT.setPriority(['Order_DiscountCode'],'Events_DiscountApplied',['1'],1);COT.setPriority(['Order_DiscountName'],['Events_DiscountTentative','Events_DiscountApplied'],['1'],2);COT.setPriority(['Order_DiscountName','Order_DiscountAmount'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Design',[['CartPage'],['CartPage'],['Empty']],-1);COT.setPriority(['Order_GiftCardCode'],'Events_GiftCardTentative',['1'],1);COT.setPriority(['Order_GiftCardCode'],'Events_GiftCardApplied',['1'],1);COT.setPriority(['Order_CancellationId'],'Events_OrderCancel',['1'],1);COT.setPriority(['Return_Reasons','Return_Cost','Return_Type'],'Events_ReturnCreate',['1'],1);}
{COT.setPriority(['Error_Source','Error_Code'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[['Error'],['Other'],['ErrorHttp404','ErrorHttp500']],1);COT.setPriority(['Error_Details'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[['Error'],['Other'],['ErrorHttp404']],1);COT.setPriority(['Error_Source','Error_Code','Error_Message'],['Events_DiscountTentative','Events_GiftCardTentative'],['1'],1);{COT.setPriority(['Events_Error','Error_Details'],['Events_DiscountTentative','Events_GiftCardTentative'],['1'],-1);COT.setPriority(['Error_Source','Error_Code','Error_Message'],eventContext+DEP_SEP+'Events_Error',[['OrderDiscountCode-Tentative'],['1']],1);COT.setPriority(['Error_Source','Error_Code','Error_Message'],eventContext+DEP_SEP+'Events_Error',[['OrderGiftCard-Tentative'],['1']],1);COT.setPriority(['Error_Source','Error_Code','Error_Message'],'Events_DiscountTentative'+DEP_SEP+'Events_Error',[['1'],['1']],1);COT.setPriority(['Error_Source','Error_Code','Error_Message'],'Events_GiftCardTentative'+DEP_SEP+'Events_Error',[['1'],['1']],1);COT.setPriority(['Events_Error','Error_Details'],eventContext+DEP_SEP+'Events_Error',[['OrderDiscountCode-Tentative'],['1']],-1);COT.setPriority(['Events_Error','Error_Details'],eventContext+DEP_SEP+'Events_Error',[['OrderGiftCard-Tentative'],['1']],-1);COT.setPriority(['Events_Error','Error_Details'],'Events_DiscountTentative'+DEP_SEP+'Events_Error',[['1'],['1']],-1);COT.setPriority(['Events_Error','Error_Details'],'Events_GiftCardTentative'+DEP_SEP+'Events_Error',[['1'],['1']],-1);}}}
{{{COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Home','Comparator','CartPage'],CDT.getGlobalAcceptedValues('OWN'));COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Landing','Clv','Clp','Plp','EPlp','CPlp','Pdp','PClp'],REB.isAlphaNumeric({nospaces:'yes',required:'yes',exceptions:[':']}));COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor'],['Checkout']);COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Login&Register'],CGST.getInfo('LOGIN_REGISTER_PAGE_SECTIONS'));COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Static'],CGST.getInfo('STATIC_PAGE_SECTIONS'));COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Error','Quoto'],['Other']);if(PROFILE_IS_SS){COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Home','Landing'],['Landings']);COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Pdp'],['Catalog']);COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Plp'],['Catalog','FrameAdv']);COT.setAcceptedValues(['Page_Section1'],'Page_Type',['CartPage'],['Checkout']);}}
{COT.setAcceptedValues(['Page_Section2'],eventContext,['Impression'],REB.isAlphaNumeric({nospaces:'yes',required:'yes'}));COT.setAcceptedValues(['Page_Section2'],'Page_Type',['CartPage'],['','Quoto']);COT.setAcceptedValues(['Page_Section2'],'Page_Type',['Delivery','Doctor','Payment','Shipping'],['Standard','Reorder','Quoto']);COT.setAcceptedValues(['Page_Section2'],'Page_Type',['OrderSummary','Thankyou'],['Standard','Reorder','Express','Quoto']);COT.setAcceptedValues(['Page_Section2'],'Page_Type',['Quoto'],['Quoto']);COT.setAcceptedValues(['Page_Section2'],'Page_Type',['Error'],['','ErrorHttp404','ErrorHttp500']);}
{COT.setAcceptedValues(['Page_Design'],'Page_Type',['Clp'],['','Collection']);COT.setAcceptedValues(['Page_Design'],'Page_Type',['Plp'],CGST.getInfo('PLP_PAGE_DESIGNS'));COT.setAcceptedValues(['Page_Design'],'Page_Type',['Pdp'],CGST.getInfo('PDP_PAGE_DESIGNS'));COT.setAcceptedValues(['Page_Design'],'Page_Type',['CartPage'],['Empty']);}}
{COT.setAcceptedValues([PROD_INDEX+DEPTH_SEP+'Status'],PROD_INDEX+DEPTH_SEP+'Preorder',['1'],['Available','Out-of-stock','SoldOut']);COT.setAcceptedValues([PROD_INDEX+DEPTH_SEP+'OosOptions'],PROD_INDEX+DEPTH_SEP+'Status',['Coming soon','Out-of-stock'],['EmailMeWhenAvailable','CustomizeIt','FindStore','SearchSimilar']);COT.setAcceptedValues([PROD_INDEX+DEPTH_SEP+'OosOptions'],PROD_INDEX+DEPTH_SEP+'Status',['SoldOut','Not-for-sale'],['SearchSimilar']);}}};__export.setPreProcessingRules=function(){if(!PROFILE_IS_UNI){CPRET.addRule({name:'Products_format_error',skip:false,suggestions:'',rule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){if(prop=='Products'&&TC.isPureObject(value)){for(var upc in value){if(value.hasOwnProperty(upc)){if(TC.isEmptyString(upc)){this.suggestions='Found out an UPC set up with an empty string!';return false;}
if(!REB.isAllExcept(1,1,['\'','\"'],1).test(''+upc)){this.suggestions='Found out an UPC which contains invalid characters!';return false;}
if(!TC.isPureObject(value[upc])){this.suggestions='Found out an UPC which does not contain an object!';return false;}
for(var p in value[upc]){if(value[upc].hasOwnProperty(p)){if((!TC.isUndefined(value[upc][p]))&&(!TC.isString(value[upc][p]))){this.suggestions='Found out at least a property with wrong format!';return false;}}}}}}
return true;},});CPRET.addRule({name:'UPC_value_error',skip:false,suggestions:'',rule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){var topParent=parents.length>1?parents[0]:'';if(topParent=='Products'&&prop==PROD_INDEX){if(TC.isEmptyString(keyValue)){this.suggestions='This UPC is set up with an empty string!';return false;}
if(!REB.isAllExcept(1,1,['\'','\"'],1).test(''+keyValue)){this.suggestions='This UPC contains single or double quotes';return false;}}
return true;},});}};__export.setPostProcessingRules=function(){{if(!PROFILE_IS_UNI){CPOST.addRule({key:'Products',dkeylist:['Page_Type'],rule:function(keyValue,dkeyListValues){return/^Plp$/gi.test(dkeyListValues.Page_Type)&&TC.isPureObject(keyValue)&&(Object.getOwnPropertyNames(keyValue).length<3)?false:true;},suggestions:'Products quantity error! Please to set at least 3 products in PLP.',name:'Products_quantity_error_PLP',});CGST.getInfo('DATALAYER_PRODUCTS_NO_CUSTOM').forEach(function(p){CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+p,dkeylist:[PROD_INDEX+DEPTH_SEP+'FrameType'],rule:function(keyValue,dkeyListValues){if(dkeyListValues[PROD_INDEX+DEPTH_SEP+'FrameType']==='CP'){if(!(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)))return false;}
return true;},suggestions:'Variable is requested only for NO Custom Products.',name:'NO_CP_'+PROD_INDEX+DEPTH_SEP+p+'_value_error',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+p,dkeylist:[PROD_INDEX+DEPTH_SEP+'FrameType'],rule:function(keyValue,dkeyListValues){return(dkeyListValues[PROD_INDEX+DEPTH_SEP+'FrameType']==='CP'&&(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)))?true:false;},success:true,name:'NO_CP_'+PROD_INDEX+DEPTH_SEP+p+'_value_success',});});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'LensType',dkeylist:[PROD_INDEX+DEPTH_SEP+'Category'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Category']))return true;if(TC.isEmptyString(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Category']))return true;if(RegExp('^'+CGST.getInfo('CATEGORIES_NOT_EYEWEAR').join('|')+'$').test(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Category'])){if(!(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)))return false;}
return true;},suggestions:'Variable must be empty or undefined for NOT Eyewear products.',name:PROD_INDEX+DEPTH_SEP+'LensType'+'_value_error_NOTEyewear_Category',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'LensType',dkeylist:[PROD_INDEX+DEPTH_SEP+'Category'],rule:function(keyValue,dkeyListValues){return(RegExp('^'+CGST.getInfo('CATEGORIES_NOT_EYEWEAR').join('|')+'$').test(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Category'])&&(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)))?true:false;},success:true,name:PROD_INDEX+DEPTH_SEP+'LensType'+'_value_success_NOTEyewear_Category',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'LensType',dkeylist:[PROD_INDEX+DEPTH_SEP+'Category'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Category']))return true;if(TC.isEmptyString(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Category']))return true;if(!RegExp('^'+CGST.getInfo('CATEGORIES_NOT_EYEWEAR').join('|')+'$').test(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Category'])){if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return false;}
return true;},suggestions:'Variable must not be empty or undefined for Eyewear products.',name:PROD_INDEX+DEPTH_SEP+'LensType'+'_value_error_Eyewear_Category',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'LensUPC',dkeylist:[PROD_INDEX+DEPTH_SEP+'LensType'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(dkeyListValues[PROD_INDEX+DEPTH_SEP+'LensType']))return true;if(dkeyListValues[PROD_INDEX+DEPTH_SEP+'LensType']=='PLANO'){if(!(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)))return false;}
return true;},suggestions:'Variable is not requested for Products without RX lenses.',name:PROD_INDEX+DEPTH_SEP+'LensUPC'+'_value_error_PLANO_LensType',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'LensUPC',dkeylist:[PROD_INDEX+DEPTH_SEP+'LensType'],rule:function(keyValue,dkeyListValues){return(dkeyListValues[PROD_INDEX+DEPTH_SEP+'LensType']==='PLANO'&&(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)))?true:false;},success:true,name:PROD_INDEX+DEPTH_SEP+'LensUPC'+'_value_success_PLANO_LensType',});CGST.getInfo('DATALAYER_URL_ONLY').forEach(function(p){CPOST.addRule({key:p,dkeylist:[],rule:function(keyValue,dkeyListValues){return(!TC.isUndefined(keyValue)&&(!TC.isEmptyString(keyValue))&&(!DOM.isValidURL(keyValue))?false:true);},suggestions:'The URL is not valid! Please to provide the correct URI format.',name:'URL_ONLY_'+p+'_value_error',});});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'PriceFull',dkeylist:[PROD_INDEX+DEPTH_SEP+'Price'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return true;if(TC.isUndefined(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Price'])||TC.isEmptyString(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Price']))return true;return parseFloat(keyValue)<parseFloat(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Price'])?false:true;},suggestions:'PriceFull must be always MAJOR THAN or EQUALS TO Price.',name:'PriceFull_value_error_Price',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'Warranty',dkeylist:[PROD_INDEX+DEPTH_SEP+'Price'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return true;if(TC.isUndefined(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Price'])||TC.isEmptyString(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Price']))return true;return parseFloat(keyValue)>=parseFloat(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Price'])?false:true;},suggestions:'Warranty must be always LESS THAN Price.',name:'Warranty_value_error_Price',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'Return_Reason',dkeylist:['Return_Reasons'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return true;return TC.isUndefined(dkeyListValues.Return_Reasons)||TC.isEmptyString(dkeyListValues.Return_Reasons)?true:false;},suggestions:'Both Order and Product level variable have been set for the Return reasons. Please to take priority on Product level only... otherwise on Order level only',name:PROD_INDEX+DEPTH_SEP+'ReturnReason_value_error_ReturnReasons_available',});CPOST.addRule({key:'Return_Reasons',dkeylist:['Products'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return true;if(dkeyListValues.hasOwnProperty('Products')&&TC.isPureObject(dkeyListValues.Products)){for(var upc in dkeyListValues.Products){if(dkeyListValues.Products.hasOwnProperty(upc)){for(var p in dkeyListValues.Products[upc]){if(dkeyListValues.Products[upc].hasOwnProperty(p)&&p=='Return_Reason'&&TC.isString(dkeyListValues.Products[upc][p])&&dkeyListValues.Products[upc][p])return false;}}}}},suggestions:'Both Order and Product level variable have been set for the Return reasons. Please to take priority on Product level only... otherwise on Order level only',name:'ReturnReasons_value_error_ReturnReason_available',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'TaxRate',dkeylist:[PROD_INDEX+DEPTH_SEP+'Category'],rule:function(keyValue,dkeyListValues){if((TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))&&/Contact Lenses/i.test(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Category']))return false;return(!isNaN(parseFloat(keyValue))&&parseFloat(keyValue)!==0)&&(!/Contact Lenses/i.test(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Category']))?false:true;},suggestions:'TaxRate is required for Contact Lenses.',name:PROD_INDEX+DEPTH_SEP+'TaxRate_value_error_'+PROD_INDEX+DEPTH_SEP+'Category',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'TaxRate',dkeylist:[PROD_INDEX+DEPTH_SEP+'Category'],rule:function(keyValue,dkeyListValues){return((TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)||parseFloat(keyValue)===0)&&!/Contact Lenses/i.test(dkeyListValues[PROD_INDEX+DEPTH_SEP+'Category']))?true:false;},success:true,name:PROD_INDEX+DEPTH_SEP+'TaxRate_value_success_'+PROD_INDEX+DEPTH_SEP+'Category',});}
else{var datalayerProductsArray=CDPLT.getAllProps().filter(function(prop){if(RegExp('^Products_\\w+_Array$').test(prop))return prop;});datalayerProductsArray.forEach(function(prop){CPOST.addRule({key:prop,dkeylist:datalayerProductsArray.filter(function(dep){if(dep!=prop)return dep;}),rule:function(keyValue,dkeyListValues){var length=TC.isArray(keyValue)?keyValue.length:-1;if(length){for(var dkey in dkeyListValues){if(dkeyListValues.hasOwnProperty(dkey)){var dvalue=dkeyListValues[dkey];if(TC.isArray(dvalue)&&dvalue.length!=length)return false;}}}
return true;},suggestions:'Products quantity error! Please to set the number of items for each Products variables.',name:(prop+'_quantity_error'),});});CPOST.addRule({key:'Products_RevenuePerUnit_Array',dkeylist:['Products_PriceFull_Array','Products_Units_Array'],rule:function(keyValue,dkeyListValues){if(!TC.isArray(keyValue)||keyValue.length<1)return true;if(!TC.isArray(dkeyListValues.Products_PriceFull_Array)||dkeyListValues.Products_PriceFull_Array.length<1)return true;if(!TC.isArray(dkeyListValues.Products_Units_Array)||dkeyListValues.Products_Units_Array.length<1)return true;if(!(keyValue.length==dkeyListValues.Products_PriceFull_Array.length&&keyValue.length==dkeyListValues.Products_Units_Array.length))return true;for(var index=0;index<keyValue.length;index++){var revenue=keyValue[index];if(TC.isUndefined(revenue)||TC.isEmptyString(keyValue))return false;if(TC.isUndefined(dkeyListValues.Products_PriceFull_Array[index])||TC.isEmptyString(dkeyListValues.Products_PriceFull_Array[index]))return false;if(TC.isUndefined(dkeyListValues.Products_Units_Array[index])||TC.isEmptyString(dkeyListValues.Products_Units_Array[index]))return false;if(parseFloat(revenue)>parseFloat(dkeyListValues.Products_PriceFull_Array[index])*parseFloat(dkeyListValues.Products_Units_Array[index]))return false;}
return true;},suggestions:'Revenue Per Unit must be always LESS THAN or EQUALS TO PriceFull Per Unit.',name:'RevenuePerUnit_value_error_PriceFullPerUnit',});datalayerProductsArray.forEach(function(prop){CPOST.addRule({key:prop,dkeylist:['Page_Type'],rule:function(keyValue,dkeyListValues){return/^Plp$/gi.test(dkeyListValues.Page_Type)&&TC.isArray(keyValue)&&keyValue.length<3?false:true;},suggestions:'Products quantity error! Please to set at least 3 products in PLP.',name:prop+'_quantity_error_PLP',});});}}
{{CPOST.addRule({key:'Order_PaymentType',dkeylist:['Page_Type','Page_Section1','Page_Section2'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return true;if(!/^(OrderSummary|Thankyou)$/.test(dkeyListValues.Page_Type))return true;var isStandardPayment=function(){if(keyValue==='GiftCard')return true;if(/^GiftCard,(\w)+$/.test(keyValue)&&/GiftCard,(?!(GiftCard))/.test(keyValue)&&(!/ExpressCheckout$/.test(keyValue)))return true;if(/^(\w)+$/.test(keyValue)&&(!/ExpressCheckout$/.test(keyValue)))return true;return false;};var isExpressPayment=function(){if(/^GiftCard/.test(keyValue))return false;return(/^(\w+)ExpressCheckout$/.test(keyValue))?true:false;};if(dkeyListValues.Page_Section1==='Checkout'&&dkeyListValues.Page_Section2==='Standard')return isStandardPayment();else if(dkeyListValues.Page_Section1==='Checkout'&&dkeyListValues.Page_Section2==='Express')return isExpressPayment();return isStandardPayment()||isExpressPayment();},suggestions:'',name:'Order_PaymentType_value_error_Page_Name',});}}};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},BasicTrackingFunctionality.prototype));}());CONF_ENTITIES.push(function UserTrackingFunctionality(){var __cname='AutoQAConfiguration.UserTrackingFunctionality';var __export={};var __datalayer=new ArrayList('string',true,true);try{__datalayer.add(['Events_UserLogin','Events_UserAccountNew','Events_UserEmailSub','Events_UserEmailUnsub','Events_UserPhoneSub','Events_ProdViewEcomOosEmailClick','Events_ActionContactUs','Events_OrderReminderSave','Events_SavePrescriptionCL','Events_SavePrescriptionEyewear','User_LoginStatus','User_LoginType','User_Email_MD5','User_Email_SHA256','User_Phone_MD5','User_Phone_SHA256','User_Country','User_Id','User_Segments','User_HasPrescription','User_ActiveSubscriptions','User_Nation','User_Country_SHA256','User_Zip_SHA256','User_State_SHA256','User_FbLogin_Id']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.getDatalayerRestriction=function(){var datalayerRestriction=new ArrayList('string',true,true);datalayerRestriction.add(['Events_UserEmailSub','Events_UserEmailUnsub','Events_UserPhoneSub','Events_ActionContactUs']);if(PROFILE_IS_ECOMMERCE||PROFILE_IS_UNI)datalayerRestriction.add(['User_LoginStatus','User_Id','Events_UserLogin','Events_UserAccountNew',]);if(PROFILE_IS_ECOMMERCE)datalayerRestriction.add(['User_LoginType','User_Email_MD5','User_Email_SHA256','User_Phone_MD5','User_Phone_SHA256','User_Country','User_Segments','User_HasPrescription','User_ActiveSubscriptions','User_Country_SHA256','User_Zip_SHA256','User_State_SHA256','User_FbLogin_Id','Events_UserLogin','Events_UserAccountNew','Events_ProdViewEcomOosEmailClick','Events_OrderReminderSave','Events_SavePrescriptionCL','Events_SavePrescriptionEyewear',]);if(PROFILE_IS_RETAIL)datalayerRestriction.add(['User_Nation']);return datalayerRestriction.getData();};__export.setDatalayerGlobalStaticValues=function(){CGST.setInfo('LOGIN_REGISTER_PAGE_SECTIONS',(CGST.getInfo('LOGIN_REGISTER_PAGE_SECTIONS')||[]).concat(['Account']));CGST.setInfo('STATIC_PAGE_SECTIONS',(CGST.getInfo('STATIC_PAGE_SECTIONS')||[]).concat(['Account']));CGST.setInfo('USER_STATUS_LOGGED_VALUES',PROFILE_IS_UNI?['registered','personification']:['Logged']);};__export.setDatalayerStaticAcceptedValues=function(){{CPST.setInfo('id',['SignupForm','Unsubscribe','Account-Create','Login','ContactUs','OrderCancSubmitted','OrderReturnSubmitted']);CPST.setInfo('Page_Type',['Login&Register','Wishlist','Static',]);}
['User_HasPrescription','Events_SavePrescriptionCL','Events_SavePrescriptionEyewear','Events_OrderReminderSave'].forEach(function(prop){CPST.setInfo(prop,CGST.getInfo('UNARY'));});CPST.setInfo('User_LoginStatus',(PROFILE_IS_UNI?['guest']:['Guest']).concat(CGST.getInfo('USER_STATUS_LOGGED_VALUES')));CPST.setInfo('User_LoginType',['Standard','Facebook','Google']);};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();{{CDT.setContextPriorityMap(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull'],pageContext,1,['Wishlist']);CDT.setContextPriorityMap(CGST.getInfo('DATALAYER_PRODUCTS_NO_CUSTOM').map(function(p){return PROD_INDEX+DEPTH_SEP+p;}).concat([PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Brand',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url',]),pageContext,2,['Wishlist']);}}
{CDT.setContextPriorityMap('User_LoginStatus',pageContext,1,'ALL');['User_LoginType','User_Email_MD5','User_Email_SHA256','User_Phone_MD5','User_Phone_SHA256','User_Country','User_Id','User_Segments','User_HasPrescription','User_Nation','User_Country_SHA256','User_Zip_SHA256','User_State_SHA256','User_FbLogin_Id'].forEach(function(p){CDT.setContextPriorityMap(p,eventContext,1,['Login','Account-Create']);});['User_ActiveSubscriptions'].forEach(function(p){CDT.setContextPriorityMap(p,eventContext,2,['Login','Account-Create']);});{CDT.setContextPriorityMap('User_Email_MD5',eventContext,1,['EmailMeWhenAvailable','SignupForm','Unsubscribe']);CDT.setAcceptedValues('User_Email_MD5',REB.isEncrypted('md5',1));}
{CDT.setContextPriorityMap('User_Email_SHA256',eventContext,1,['EmailMeWhenAvailable','SignupForm','Unsubscribe']);CDT.setAcceptedValues('User_Email_SHA256',REB.isEncrypted('sha256',1));}
{CDT.setAcceptedValues('User_Phone_MD5',REB.isEncrypted('md5',0));}
{CDT.setAcceptedValues('User_Phone_SHA256',REB.isEncrypted('sha256',0));}
{CDT.setAcceptedValues('User_Country',REB.isValueOf([REB.toStringAndClean(REB.isAlpha(2,2,'uppercase'))].concat(CGST.getInfo('COUNTRIES_3L')),1));}
{CDT.setAcceptedValues('User_Id',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item'}}));}
{CDT.setAcceptedValues('User_Segments',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item',sep:','}}));}
{CDT.setAcceptedValues('User_ActiveSubscriptions',REB.isSeparatedBy(REB.isValueOf(CGST.getInfo('CLUB&TE_SUBSCRIPTIONS')),',',0));}
{CDT.setAcceptedValues('User_Nation',REB.isAlpha(2,2,'uppercase'));}
{CDT.setAcceptedValues('User_Country_SHA256',REB.isEncrypted('sha256',1));}
{CDT.setAcceptedValues('User_Zip_SHA256',REB.isEncrypted('sha256',1));}
{CDT.setAcceptedValues('User_State_SHA256',REB.isEncrypted('sha256',1));}
{CDT.setAcceptedValues('User_FbLogin_Id',REB.isAlphaNumeric({nospaces:'yes',required:'yes'}));}
{CDT.setContextPriorityMap('Events_UserLogin',eventContext,1,['Login']);}
{CDT.setContextPriorityMap('Events_UserAccountNew',eventContext,1,['Account-Create']);}
{CDT.setContextPriorityMap('Events_UserEmailSub',eventContext,1,['SignupForm']);}
{CDT.setContextPriorityMap('Events_ProdViewEcomOosEmailClick',eventContext,1,['EmailMeWhenAvailable']);}}};__export.setOverrideDatalayerTable=function(){var eventContext=CDCT.getContextOnEvent();var datalayerProducts=CDPLT.getAllProps().filter(function(prop){if(prop=='Products'||RegExp('^Products'+DEPTH_SEP_FOR_REGEXP+DYNAMIC_PROP).test(prop))return prop;});var datalayerUsersP1=['User_LoginStatus','User_LoginType','User_Email_MD5','User_Email_SHA256','User_Phone_MD5','User_Phone_SHA256','User_Country','User_Id','User_Segments','User_HasPrescription','User_Nation','User_Country_SHA256','User_Zip_SHA256','User_State_SHA256','User_FbLogin_Id'];var datalayerUsersP2=['User_ActiveSubscriptions'];var userLoggedValues=CGST.getInfo('USER_STATUS_LOGGED_VALUES');{{COT.setPriority(['Page_Design'],'Page_Type'+DEP_SEP+'Page_Section1',[['Login&Register'],['Account']],1);{COT.setPriority(['Page_Design'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Design',[['Wishlist'],['Account'],['Empty']],1);COT.setPriority(datalayerProducts,'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Design',[['Wishlist'],['Account'],['Empty']],-1);}
{['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'CancelledUnits',PROD_INDEX+DEPTH_SEP+'CancelledAmount','Order_CancellationId'].forEach(function(p){COT.setPriority(p,'Events_OrderCancel',['1'],1);COT.setPriority(p,eventContext,['OrderCancSubmitted'],1);});COT.setPriority([PROD_INDEX+DEPTH_SEP+'Category'],'Events_OrderCancel',['1'],2);COT.setPriority([PROD_INDEX+DEPTH_SEP+'Category'],eventContext,['OrderCancSubmitted'],2);}
{['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Return_Reason','Order_CancellationId','Return_Reasons','Return_Cost','Return_Type'].forEach(function(p){COT.setPriority(p,'Events_ReturnCreate',['1'],1);COT.setPriority(p,eventContext,['OrderReturnSubmitted'],1);});COT.setPriority([PROD_INDEX+DEPTH_SEP+'Category'],'Events_ReturnCreate',['1'],2);COT.setPriority([PROD_INDEX+DEPTH_SEP+'Category'],eventContext,['OrderReturnSubmitted'],2);}
{COT.setPriority(['Event_Source'],'Events_SavePrescriptionCL',['1'],1);COT.setPriority(['Event_Source'],'Events_SavePrescriptionEyewear',['1'],1);}}
{COT.setPriority(datalayerUsersP1,'User_LoginStatus',userLoggedValues,1);COT.setPriority(datalayerUsersP2,'User_LoginStatus',userLoggedValues,2);COT.setPriority(datalayerUsersP1,'Events_UserLogin',['1'],1);COT.setPriority(datalayerUsersP2,'Events_UserLogin',['1'],2);COT.setPriority(datalayerUsersP1,'Events_UserAccountNew',['1'],1);COT.setPriority(datalayerUsersP2,'Events_UserAccountNew',['1'],2);COT.setPriority(['User_Email_MD5','User_Email_SHA256'],'Events_UserEmailSub',['1'],1);COT.setPriority(['User_Email_MD5','User_Email_SHA256'],'Events_UserEmailUnsub',['1'],1);COT.setPriority(['User_Email_MD5','User_Email_SHA256','Events_UserEmailSub'],'Events_ProdViewEcomOosEmailClick',['1'],1);COT.setPriority(['User_Email_MD5','User_Email_SHA256'],'Events_OrderReminderSave',['1'],1);COT.setPriority(['User_Phone_MD5','User_Phone_SHA256'],'Events_UserPhoneSub',['1'],1);}}
{{{{COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Wishlist'],['Account']);COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Login&Register'],CGST.getInfo('LOGIN_REGISTER_PAGE_SECTIONS'));COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Static'],CGST.getInfo('STATIC_PAGE_SECTIONS'));}
COT.setAcceptedValues(['Page_Design'],'Page_Type'+DEP_SEP+'Page_Section1',[['Login&Register'],['Account']],['Login','Register','Login&Register']);{if(PROFILE_IS_SS){COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Wishlist'],['FittingRoom']);}
COT.setAcceptedValues(['Page_Design'],'Page_Type',['Wishlist'],['Empty']);}}
{COT.setAcceptedValues(['Event_Source'],'Events_SavePrescriptionCL',['1'],['MyAccount Prescription Save']);COT.setAcceptedValues(['Event_Source'],'Events_SavePrescriptionEyewear',['1'],['MyAccount Prescription Save']);}}
{COT.setAcceptedValues(['User_LoginStatus'],'Events_UserLogin',['1'],userLoggedValues);COT.setAcceptedValues(['User_LoginStatus'],'Events_UserAccountNew',['1'],userLoggedValues);COT.setAcceptedValues(['User_Email_MD5','User_Phone_MD5'],'User_LoginStatus',userLoggedValues,REB.isEncrypted('md5',1));COT.setAcceptedValues(['User_Email_SHA256','User_Phone_SHA256'],'User_LoginStatus',userLoggedValues,REB.isEncrypted('sha256',1));}}};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},UserTrackingFunctionality.prototype));}());if(PROFILE_IS_ECOMMERCE)CONF_ENTITIES.push(function LoyaltyTrackingFunctionality(){var __cname='AutoQAConfiguration.LoyaltyTrackingFunctionality';var __export={};var __datalayer=new ArrayList('string',true,true);try{__datalayer.add(['Events_UserLoyaltySub','User_LoyaltyCard','User_LoyaltyTier',PROD_INDEX+DEPTH_SEP+'LoyaltyExclusive']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerStaticAcceptedValues=function(){CPST.setInfo('User_LoyaltyTier',['Silver','Gold','Diamond','Platinum']);CPST.setInfo(PROD_INDEX+DEPTH_SEP+'LoyaltyExclusive',CGST.getInfo('BINARY_ANSWER'));};__export.setDatalayerTable=function(){{CDT.setAcceptedValues('User_LoyaltyCard',REB.isAlphaNumeric({nospaces:'yes',required:'yes'}));}};__export.setOverrideDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();{{COT.setPriority([PROD_INDEX+DEPTH_SEP+'LoyaltyExclusive'],'Products',[REB.isObj(1)],2,pageContext);COT.setPriority([PROD_INDEX+DEPTH_SEP+'LoyaltyExclusive'],'Events_CartAdd',['1'],2);}
{COT.setPriority(['User_LoyaltyCard','User_LoyaltyTier'],'User_LoginStatus',CGST.getInfo('USER_STATUS_LOGGED_VALUES'),2);COT.setPriority(['User_LoyaltyCard','User_LoyaltyTier','User_Email_MD5','User_Email_SHA256'],'Events_UserLoyaltySub',['1'],1);}}};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},LoyaltyTrackingFunctionality.prototype));}());CONF_ENTITIES.push(function InternalSearchAndProdListingFunctionality(){var __cname='AutoQAConfiguration.InternalSearchAndProdListingFunctionality';var __export={};var __datalayer=new ArrayList('string',true,true);try{__datalayer.add(['Events_SearchFiltering','Search_ResultItemsQnt','Search_FacetValues_String','Events_SearchRun','Search_Keyword','Search_KeyActual','Search_Type','Search_View']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.getDatalayerRestriction=function(){var datalayerRestriction=new ArrayList('string',true,true);datalayerRestriction.add(['Events_SearchFiltering','Search_ResultItemsQnt','Search_FacetValues_String','Events_SearchRun','Search_Keyword','Search_Type']);if(PROFILE_IS_ECOMMERCE||PROFILE_IS_MYEL)datalayerRestriction.add(['Search_KeyActual','Search_View']);return datalayerRestriction.getData();};__export.setDatalayerStaticAcceptedValues=function(){{CPST.setInfo('id',['SearchPageReady','SearchFilterUpdated']);CPST.setInfo('Page_Type',['Plp','EPlp','CPlp','Search']);}
CPST.setInfo('Search_Type',['text','suggested','img','barcode']);CPST.setInfo('Search_View',['SERB','SERP','NO-SERP']);};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();{{{CDT.setContextPriorityMap('Page_Design',pageContext,1,['Search']);CDT.setContextPriorityMap('Page_Design',pageContext,2,['Plp','EPlp','CPlp']);}}
{['Products_Id_Array','Products_Category_Array','Products_ModelName_Array','Products_Language_Array',].forEach(function(p){CDT.setContextPriorityMap(p,pageContext,1,['Search']);CDT.setContextPriorityMap(p+DEPTH_SEP+DYNAMIC_PROP,pageContext,1,['Search']);});}}
{{CDT.setContextPriorityMap('Search_ResultItemsQnt',pageContext,1,['Plp','Search']);CDT.setContextPriorityMap('Search_ResultItemsQnt',eventContext,1,['SearchFilterUpdated','SearchPageReady']);CDT.setAcceptedValues('Search_ResultItemsQnt',REB.isNumeric({required:'yes',zero:'yes'}));}
{CDT.setContextPriorityMap('Search_FacetValues_String',eventContext,1,['SearchFilterUpdated']);CDT.setContextPriorityMap('Search_FacetValues_String',pageContext,2,['Plp','Search']);CDT.setAcceptedValues('Search_FacetValues_String',REB.isAlphaNumeric({nospaces:'yes',multiples:{type:'entry',sep:'|',entry:{sep:'=',value_required:'yes'}}}));}
{CDT.setContextPriorityMap('Events_SearchFiltering',eventContext,1,['SearchFilterUpdated']);CDT.setContextPriorityMap('Events_SearchFiltering',pageContext,2,['Search']);}
['Search_Keyword','Search_KeyActual','Search_Type','Search_View'].forEach(function(p){CDT.setContextPriorityMap(p,pageContext,1,['Search']);CDT.setContextPriorityMap(p,eventContext,1,['SearchPageReady']);if(p=='Search_Keyword'||p=='Search_KeyActual'){CDT.setAcceptedValues(p,REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}});}};__export.setOverrideDatalayerTable=function(){{{{COT.setPriority(['Search_Keyword','Search_KeyActual','Search_Type','Search_View','Search_ResultItemsQnt'],'Events_SearchRun',['1'],1);COT.setPriority(['Search_FacetValues_String','Search_ResultItemsQnt'],'Events_SearchFiltering',['1'],1);}}}
{{{COT.setAcceptedValues(['Page_Design'],'Page_Type',['Search'],['','Pages','Tiles&Pages','Empty']);}}
{COT.setAcceptedValues(['Search_Keyword'],'Search_Type',['img'],REB.isEmpty(),CHT.getGlobalSuggestions('SINGLE_VALUE')+' '+CHT.getGlobalSuggestions('EMPTY_STRING'));}}};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},InternalSearchAndProdListingFunctionality.prototype));}());if(!PROFILE_IS_UNI)CONF_ENTITIES.push(function StoreSearchTrackingFunctionality(){var __cname='AutoQAConfiguration.StoreSearchTrackingFunctionality';var __export={};var __datalayer=new ArrayList('string',true,true);try{__datalayer.add(['Events_FindStoreOpen','Events_FunnelStoreSearch','FIS_isSupported','Store_Search_Keyword','Store_Search_Type','Store_Search_ResultItemsQnt','Store_Search_StoreId','Sap_store_ID_GMB',]);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerGlobalStaticValues=function(){CGST.setInfo('FIND_STORE_PAGE_SECTIONS',['StoreLocator']);};__export.setDatalayerStaticAcceptedValues=function(){{CPST.setInfo('Page_Type',['StoreLocator','FindStore']);}
CPST.setInfo('Store_Search_Type',['text','geolocalized']);CPST.setInfo('FIS_isSupported',CGST.getInfo('UNARY'));};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();{{CDT.setContextPriorityMap('FIS_isSupported',pageContext,2,['Pdp','PClp']);}
{CDT.setAcceptedValues('Store_Search_Keyword',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
{CDT.setAcceptedValues('Store_Search_ResultItemsQnt',REB.isNumeric({required:'yes',zero:'yes'}));}
{CDT.setContextPriorityMap(['Store_Search_StoreId'],pageContext,2,['Shipping','Thankyou']);CDT.setContextPriorityMap('Store_Search_StoreId',eventContext,2,['AddToCart']);CDT.setAcceptedValues('Store_Search_StoreId',REB.isAlphaNumeric({required:'yes',nospaces:'yes'}));}
{CDT.setAcceptedValues('Sap_store_ID_GMB',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item',sep:','}}));}}};__export.setOverrideDatalayerTable=function(){var eventContext=CDCT.getContextOnEvent();{{{COT.setPriority(['Products',PROD_INDEX,],'Events_FunnelStoreSearch',['1'],2);}
{COT.setPriority(['Store_Search_Keyword','Store_Search_Type','Store_Search_ResultItemsQnt','Sap_store_ID_GMB'],'Events_FunnelStoreSearch',['1'],1);COT.setPriority(['Store_Search_StoreId'],'Events_FunnelStoreSearch',['1'],2);}}
COT.setPriority(['Events_FunnelStoreSearch'],'Page_Type'+DEP_SEP+'Page_Section1',[['FindStore'],['StoreLocator']],1);COT.setPriority(['Products',PROD_INDEX,'Events_FindStoreOpen'],eventContext+DEP_SEP+'Page_Section2',[['Impression'],['FisPdp']],1);COT.setPriority(['Store_Search_StoreId'],'Events_CartAdd',['1'],2);}
{{{{COT.setAcceptedValues(['Page_Section1'],'Page_Type',['StoreLocator'],['StoreLocator']);COT.setAcceptedValues(['Page_Section1'],'Page_Type',['FindStore'],CGST.getInfo('FIND_STORE_PAGE_SECTIONS'));}}}}};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},StoreSearchTrackingFunctionality.prototype));}());if(!PROFILE_IS_UNI)CONF_ENTITIES.push(function ExamFunnelFunctionality(){var __cname='AutoQAConfiguration.ExamFunnelFunctionality';var __export={};var __datalayer=new ArrayList('string',true,true);try{__datalayer.add(['Exam_ZipCode','Exam_Fitting','Exam_PreviousExam','Exam_WornBefore','Exam_PatientNum','Exam_InsuranceCode','Exam_Id','Events_FunnelCancellation','Events_FunnelAddExam']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerGlobalStaticValues=function(){CGST.setInfo('FIND_STORE_PAGE_SECTIONS',(CGST.getInfo('FIND_STORE_PAGE_SECTIONS')||[]).concat(['Exam']));};__export.setDatalayerStaticAcceptedValues=function(){{CPST.setInfo('id',['Exam-Funnel-FindStore','Exam-Funnel-FindStoreResults','Exam-Funnel-Info','Exam-Funnel-Review','Exam-Funnel-Confirmation','Exam-Funnel-Cancellation','Exam-Funnel-AddExam']);CPST.setInfo('Page_Type',['FindStore','FindStoreExam','Info','Review','Confirmation','Cancellation']);}
{CPST.setInfo('Exam_Fitting',['eye exam','eye exam with contact lenses','personal shopper','CUSV','PSHOPFS','CVSOCSV']);CPST.setInfo('Exam_InsuranceCode',['vsp','eyemed']);}};__export.setDatalayerContextTable=function(){CDCT.setEntryToEventsMapWithPageContext('Exam-Funnel-FindStore','FindStore');CDCT.setEntryToEventsMapWithPageContext('Exam-Funnel-Info','Info');CDCT.setEntryToEventsMapWithPageContext('Exam-Funnel-Review','Review');CDCT.setEntryToEventsMapWithPageContext('Exam-Funnel-Confirmation','Confirmation');CDCT.setEntryToEventsMapWithPageContext('Exam-Funnel-Cancellation','Cancellation');};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();{CDT.setContextPriorityMap('Page_Section2',eventContext,1,['Exam-Funnel-Info','Exam-Funnel-Review']);}
{{CDT.setAcceptedValues('Exam_ZipCode',REB.isAlphaNumeric({nospaces:'yes',required:'yes',multiples:{type:'item'}}));}
['Exam_PreviousExam','Exam_WornBefore'].forEach(function(p){CDT.setAcceptedValues(p,REB.isSeparatedBy(REB.isValueOf(CGST.getInfo('BINARY_ANSWER')),',',0));});{CDT.setAcceptedValues('Exam_PatientNum',REB.isNumeric({required:'yes'}));}
{CDT.setContextPriorityMap('Exam_Id',eventContext,1,['Exam-Funnel-Confirmation']);CDT.setAcceptedValues('Exam_Id',REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item',sep:','}}));}}};__export.setOverrideDatalayerTable=function(){var eventContext=CDCT.getContextOnEvent();{{{COT.setPriority(['Page_Section2'],'Page_Type'+DEP_SEP+'Page_Section1',[['Info','Review'],['Exam']],1);}}
{COT.setPriority(['Events_FunnelStoreSearch'],eventContext,['Exam-Funnel-FindStoreResults'],1);COT.setPriority(['Store_Search_StoreId'],'Page_Type'+DEP_SEP+'Page_Section1',[['Info','Review','Confirmation'],['Exam']],1);}
{COT.setPriority(['Exam_ZipCode','Exam_Fitting'],'Page_Type'+DEP_SEP+'Page_Section1',[['Info','Review','Confirmation'],['Exam']],1);COT.setPriority(['Exam_ZipCode','Exam_Fitting'],eventContext,['Exam-Funnel-Info','Exam-Funnel-Review','Exam-Funnel-Confirmation'],1);COT.setPriority(['Exam_Fitting'],'Page_Type'+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[['Info'],['Exam'],['Question1']],-1);{COT.setPriority(['Exam_Id'],'Page_Type'+DEP_SEP+'Page_Section1',[['Confirmation'],['Exam']],1);COT.setPriority(['Exam_Id'],eventContext,['Exam-Funnel-Confirmation'],1);COT.setPriority(['Exam_PreviousExam','Exam_WornBefore','Exam_PatientNum','Exam_InsuranceCode'],'Page_Type'+DEP_SEP+'Page_Section1',[['Confirmation'],['Exam']],2);COT.setPriority(['Exam_PreviousExam','Exam_WornBefore','Exam_PatientNum','Exam_InsuranceCode'],eventContext,['Exam-Funnel-Confirmation'],2);}
{COT.setPriority(['Exam_PatientNum'],'Events_FunnelCancellation',['1'],2);COT.setPriority(['Events_FunnelCancellation'],eventContext,['Exam-Funnel-Cancellation'],1);COT.setPriority(['Events_FunnelCancellation'],'Page_Type'+DEP_SEP+'Page_Section1',[['Cancellation'],['Exam']],1);}}}
{{{{COT.setAcceptedValues(['Page_Section1'],'Page_Type',['FindStore'],CGST.getInfo('FIND_STORE_PAGE_SECTIONS'));COT.setAcceptedValues(['Page_Section1'],'Page_Type',['FindStoreExam','Info','Review','Confirmation','Cancellation'],['Exam']);}
COT.setAcceptedValues(['Page_Section2'],'Page_Type'+DEP_SEP+'Page_Section1',[['Info'],['Exam']],['Question1','Question2','Scheduler','PersonalInfo','FrameSelector']);}}}};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},ExamFunnelFunctionality.prototype));}());if(PROFILE_IS_ECOMMERCE)CONF_ENTITIES.push(function InsuranceTrackingFunctionality(){var __cname='AutoQAConfiguration.InsuranceTrackingFunctionality';var __export={};var __datalayer=new ArrayList('string',true,true);try{__datalayer.add([PROD_INDEX+DEPTH_SEP+'InsuranceAmount',PROD_INDEX+DEPTH_SEP+'InsuranceCode',PROD_INDEX+DEPTH_SEP+'InsuranceBenefits','Order_InsuranceAmount','Order_InsuranceCode','Order_InsuranceMethod','Order_InsuranceBenefits','Order_Insured','Events_InsuranceApplied','Events_InsuranceTentative']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerStaticAcceptedValues=function(){{CPST.setInfo('id',['Insurance-Applied','Insurance-Tentative']);['Events_InsuranceApplied','Events_InsuranceTentative'].forEach(function(prop){CPST.setInfo(prop,CGST.getInfo('UNARY'));});}
CPST.setInfo(PROD_INDEX+DEPTH_SEP+'InsuranceCode',['Eyemed','Superior']);CPST.setInfo(PROD_INDEX+DEPTH_SEP+'InsuranceBenefits',['frames','lenses','contact','eye exam']);CPST.setInfo('Order_InsuranceCode',CPST.getInfo(PROD_INDEX+DEPTH_SEP+'InsuranceCode'));CPST.setInfo('Order_InsuranceBenefits',CPST.getInfo(PROD_INDEX+DEPTH_SEP+'InsuranceBenefits'));CPST.setInfo('Order_InsuranceMethod',['standard','memberid']);};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();{{CDT.setContextPriorityMap([PROD_INDEX+DEPTH_SEP+'InsuranceCode',PROD_INDEX+DEPTH_SEP+'InsuranceAmount',PROD_INDEX+DEPTH_SEP+'InsuranceBenefits'],pageContext,2,['CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'InsuranceAmount',REB.isNumeric({sign:'negative',zero:'yes',decimals:{}}));CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'InsuranceBenefits',REB.isSeparatedBy(REB.isValueOf(CPST.getInfo(PROD_INDEX+DEPTH_SEP+'InsuranceBenefits'),1),',',1));}
{{CDT.setAcceptedValues('Order_InsuranceAmount',REB.isNumeric({required:'yes',sign:'negative',zero:'yes',decimals:{}}));}
{CDT.setContextPriorityMap('Order_InsuranceCode',eventContext,1,['Insurance-Applied','Insurance-Tentative']);CDT.setContextPriorityMap('Order_InsuranceCode',pageContext,2,['Shipping','Payment','OrderSummary','Thankyou','Doctor']);}
{CDT.setContextPriorityMap('Order_InsuranceMethod',eventContext,1,['Insurance-Applied','Insurance-Tentative']);}
{CDT.setContextPriorityMap('Order_InsuranceBenefits',eventContext,1,['Insurance-Applied']);CDT.setAcceptedValues('Order_InsuranceBenefits',REB.isSeparatedBy(REB.isValueOf(CPST.getInfo('Order_InsuranceBenefits'),1),',',1));}
{CDT.setAcceptedValues('Order_Insured',REB.isNumeric({required:'yes'}));}}}
{CDT.setContextPriorityMap(['Error_Source','Error_Code','Error_Message'],eventContext,1,['Insurance-Tentative']);CDT.setContextPriorityMap(['Events_Error','Error_Details'],eventContext,-1,['Insurance-Tentative']);}};__export.setOverrideDatalayerTable=function(){var eventContext=CDCT.getContextOnEvent();{{{COT.setPriority([PROD_INDEX+DEPTH_SEP+'InsuranceAmount',PROD_INDEX+DEPTH_SEP+'InsuranceCode',PROD_INDEX+DEPTH_SEP+'InsuranceBenefits'],'Page_Type'+DEP_SEP+'Page_Section1',[['Login&Register'],['Checkout']],1);}
{COT.setPriority(['Order_InsuranceAmount','Order_InsuranceBenefits','Order_InsuranceMethod','Order_Insured'],'Order_InsuranceCode',[CDT.getAcceptedValues('Order_InsuranceCode')],1);COT.setPriority(['Order_InsuranceCode','Order_InsuranceBenefits'],'Events_InsuranceApplied',['1'],1);COT.setPriority(['Order_InsuranceCode'],'Events_InsuranceTentative',['1'],1);}}
{COT.setPriority(['Error_Source','Error_Code','Error_Message'],'Events_InsuranceTentative',['1'],1);{COT.setPriority(['Events_Error','Error_Details'],'Events_InsuranceTentative',['1'],-1);COT.setPriority(['Error_Source','Error_Code','Error_Message'],eventContext+DEP_SEP+'Events_Error',[['Insurance-Tentative'],['1']],1);COT.setPriority(['Error_Source','Error_Code','Error_Message'],'Events_InsuranceTentative'+DEP_SEP+'Events_Error',[['1'],['1']],1);COT.setPriority(['Events_Error','Error_Details'],eventContext+DEP_SEP+'Events_Error',[['Insurance-Tentative'],['1']],-1);COT.setPriority(['Events_Error','Error_Details'],'Events_InsuranceTentative'+DEP_SEP+'Events_Error',[['1'],['1']],-1);}}}};__export.setPostProcessingRules=function(){{['InsuranceAmount','InsuranceBenefits'].forEach(function(p){CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+p,dkeylist:[PROD_INDEX+DEPTH_SEP+'InsuranceCode'],rule:function(keyValue,dkeyListValues){if(!(TC.isUndefined(dkeyListValues[PROD_INDEX+DEPTH_SEP+'InsuranceCode'])||TC.isEmptyString(dkeyListValues[PROD_INDEX+DEPTH_SEP+'InsuranceCode'])))return true;return TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)?true:false;},suggestions:p+' must not be populated without an insurance code',name:p+'_populated_InsuranceCode_missing',});});['InsuranceAmount','InsuranceBenefits'].forEach(function(p){CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+p,dkeylist:[PROD_INDEX+DEPTH_SEP+'InsuranceCode'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(dkeyListValues[PROD_INDEX+DEPTH_SEP+'InsuranceCode'])||TC.isEmptyString(dkeyListValues[PROD_INDEX+DEPTH_SEP+'InsuranceCode']))return true;return TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)?false:true;},suggestions:p+' must be populated together with insurance code',name:p+'_missing_InsuranceCode_populated',});});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'InsuranceCode',dkeylist:['Order_InsuranceCode'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return true;return TC.isUndefined(dkeyListValues.Order_InsuranceCode)||TC.isEmptyString(dkeyListValues.Order_InsuranceCode)?true:false;},suggestions:'Both Order and Product level variables have been set for the Insurance. Please to take priority on Product level only... otherwise on Order level only',name:PROD_INDEX+DEPTH_SEP+'InsuranceCode_value_error_OrderInsurance_available',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'InsuranceAmount',dkeylist:[PROD_INDEX+DEPTH_SEP+'PriceFull'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return true;if(TC.isUndefined(dkeyListValues[PROD_INDEX+DEPTH_SEP+'PriceFull'])||TC.isEmptyString(dkeyListValues[PROD_INDEX+DEPTH_SEP+'PriceFull']))return true;return Math.abs(parseFloat(keyValue))>parseFloat(dkeyListValues[PROD_INDEX+DEPTH_SEP+'PriceFull'])?false:true;},suggestions:'|InsuranceAmount| must be always LESS THAN or EQUALS TO PriceFull. Note: we are considering the module or the positive value of InsuranceAmount for the condition provided!',name:'InsuranceAmount_value_error_PriceFull',});}};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},InsuranceTrackingFunctionality.prototype));}());if(!PROFILE_IS_TRANSACTIONAL)CONF_ENTITIES.push(function VirtualMirrorComponent(){var __cname='AutoQAConfiguration.VirtualMirrorComponent';var __export={};var __componentId='Vm_Release';var __datalayer=new ArrayList('string',true,true);var __TAKE_MODES=['vto','video','picture','picture','upload'];try{var __componentSettings=new CrossComponentSettings(__componentId);if(__componentId)__datalayer.add(__componentId);__datalayer.add(['Vm_Action','Vm_IsBrowserSupported','Vm_IsUpcSupported','Events_VMRender','Events_VMFit','Events_VMAdjust','Events_VMScreenshot','Take_Mode','Events_SocialShare']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerStaticAcceptedValues=function(){['Events_VMRender','Events_VMFit','Events_VMAdjust','Events_VMScreenshot'].forEach(function(prop){CPST.setInfo(prop,CGST.getInfo('UNARY'));});['Vm_IsBrowserSupported','Vm_IsUpcSupported'].forEach(function(prop){CPST.setInfo(prop,CGST.getInfo('BINARY'));});CPST.setInfo('id',['VirtualMirror']);CPST.setInfo('Vm_Action',['InitializeSuccess','RequestWebcam','WebcamAllowed','Render','CloseMirror']);};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();__componentSettings.setDefaultConfiguration(eventContext,['Impression','Event','AddToCart','ProdFavAdd']);{['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType'].forEach(function(p){CDT.setContextPriorityMap(p,eventContext,1,['VirtualMirror']);});{CDT.setContextPriorityMap('Vm_Action',eventContext,1,['VirtualMirror']);}}
{{['Vm_IsBrowserSupported','Vm_IsUpcSupported'].forEach(function(p){CDT.setContextPriorityMap(p,pageContext,2,['Pdp','PClp']);});}}};__export.setOverrideDatalayerTable=function(){var eventContext=CDCT.getContextOnEvent();if(__componentId)__componentSettings.setPageNameConfiguration(eventContext,'Impression',['VirtualMirror'],['Render']);{COT.setPriority(['Events_VMRender'],eventContext+DEP_SEP+'Vm_Action',[['VirtualMirror'],['Render']],1);COT.setPriority(['Events_VMFit'],eventContext+DEP_SEP+'Vm_Action',[['VirtualMirror'],['FitGlasses']],1);}
{{{['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'FrameType',PROD_INDEX+DEPTH_SEP+'LensType'].forEach(function(p){var priority=p===(PROD_INDEX+DEPTH_SEP+'FrameType')?2:1;COT.setPriority(p,eventContext+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[['Impression'],['VirtualMirror'],['Render']],priority);COT.setPriority(p,__componentId+DEP_SEP+eventContext+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[[__componentSettings.getAcceptedValues()],['Impression'],['VirtualMirror'],['Render']],priority);['Events_VMFit','Events_VMAdjust','Events_VMScreenshot','Events_CartAdd','Events_ProdFavAdd'].forEach(function(d){if(d!='Events_CartAdd'||d!='Events_ProdFavAdd')COT.setPriority(p,d,['1'],priority);COT.setPriority(p,__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],priority);});COT.setPriority(p,__componentId+DEP_SEP+eventContext,[[__componentSettings.getAcceptedValues()],['AddToCart','ProdFavAdd']],priority);});}}
{['Events_VMFit','Events_VMAdjust','Events_VMScreenshot','Events_ProdFavAdd'].forEach(function(d){if(d!='Events_ProdFavAdd')COT.setInfo('Take_Mode',d,['1'],{priority:1,acceptedValues:__TAKE_MODES});COT.setInfo('Take_Mode',__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],{priority:1,acceptedValues:__TAKE_MODES});});COT.setInfo('Take_Mode',__componentId+DEP_SEP+eventContext,[[__componentSettings.getAcceptedValues()],['ProdFavAdd']],{priority:1,acceptedValues:__TAKE_MODES});COT.setPriority('Events_VMRender',eventContext+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[['Impression'],['VirtualMirror'],['Render']],1);COT.setPriority('Events_VMRender',__componentId+DEP_SEP+eventContext+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[[__componentSettings.getAcceptedValues()],['Impression'],['VirtualMirror'],['Render']],1);}}};__export.setPreProcessingRules=function(){if(__componentId)__componentSettings.addPreProcessingRules();};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},VirtualMirrorComponent.prototype));}());if(!PROFILE_IS_TRANSACTIONAL)CONF_ENTITIES.push(function CustomConfiguratorComponent(){var __cname='AutoQAConfiguration.CustomConfiguratorComponent';var __export={};var __componentId='Oc_Release';var __datalayer=new ArrayList('string',true,true);var __customDatalayerProducts=['ModelCode','Lens','Frame','Case','Size'];try{var __componentSettings=new CrossComponentSettings(__componentId);if(__componentId)__datalayer.add(__componentId);__datalayer.add([PROD_INDEX+DEPTH_SEP+'Conf_IsUpcSupported',PROD_INDEX+DEPTH_SEP+'ModelCode',PROD_INDEX+DEPTH_SEP+'Lens',PROD_INDEX+DEPTH_SEP+'Frame',PROD_INDEX+DEPTH_SEP+'Case',PROD_INDEX+DEPTH_SEP+'Size',PROD_INDEX+DEPTH_SEP+'Microbag',PROD_INDEX+DEPTH_SEP+'SecondLens',PROD_INDEX+DEPTH_SEP+'SecondMicrobag',PROD_INDEX+DEPTH_SEP+'Leash',PROD_INDEX+DEPTH_SEP+'Temple',PROD_INDEX+DEPTH_SEP+'Etching','Oneconf_Action','Events_CPLoaded','Events_CPSizeChanged','Events_CPEngravingChanged','Events_CPCaseEngravingChanged','Events_CPRecipeSaved','Events_CPRecipeChanged']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerGlobalStaticValues=function(){CGST.setInfo('CUSTOM_CONFIGURATOR_LIST',['Remix','OCP']);};__export.setDatalayerStaticAcceptedValues=function(){{CPST.setInfo('Page_Type',['Pcp']);CPST.setInfo('id',['OneConfigurator']);['Events_CPLoaded','Events_CPRecipeChanged','Events_CPSizeChanged','Events_CPEngravingChanged','Events_CPRecipeSaved'].forEach(function(prop){CPST.setInfo(prop,CGST.getInfo('UNARY'));});CPST.setInfo(PROD_INDEX+DEPTH_SEP+'Conf_IsUpcSupported',CGST.getInfo('BINARY'));}
{CPST.setInfo(PROD_INDEX+DEPTH_SEP+'FrameType',['CP']);}
CPST.setInfo('Oneconf_Action',['Loaded','Randomized','RecipeChanged','RecipeSaved','ConfirmConf','AddToCart','StartOver','Closed']);};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();if(__componentId){__componentSettings.setDefaultConfiguration(pageContext,['Pcp']);__componentSettings.setDefaultConfiguration(eventContext,['Event','Impression','AddToCart','OneConfigurator']);}
{{{CDT.setContextPriorityMap('Page_Section2',pageContext,1,['Pcp']);}}
{{CDT.setContextPriorityMap(['Products',PROD_INDEX],pageContext,1,['Pcp']);}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Category',pageContext,1,['Pcp']);}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'FrameType',pageContext,2,['Pdp','PClp','Plp','EPlp','CPlp','CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor','Wishlist','Pcp']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'FrameType',eventContext,2,['AddToCart','ProdFavAdd','Prods-Delete','EmailMeWhenAvailable','MiniWishOverlay-Open','MiniCartOverlay-Open','OrderCancSubmitted']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'FrameType',CPST.getInfo(PROD_INDEX+DEPTH_SEP+'FrameType'));}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'LensType',pageContext,1,['Pcp']);}
{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Conf_IsUpcSupported',pageContext,1,['Pcp']);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'Conf_IsUpcSupported',pageContext,2,['Pdp','PClp','Plp','EPlp','CPlp','CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor','Wishlist',]);}
__customDatalayerProducts.forEach(function(p){CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+p,pageContext,1,['CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou','Doctor','Wishlist',]);CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+p,eventContext,1,['AddToCart','ProdFavAdd','Prods-Delete','EmailMeWhenAvailable','MiniWishOverlay-Open','MiniCartOverlay-Open','OrderCancSubmitted']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+p,REB.isAlphaNumeric({nospaces:'yes',exceptions:[';',',']}));});['Microbag','SecondLens','SecondMicrobag','Leash','Temple','Etching'].forEach(function(p){CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+p,pageContext,2,['Thankyou']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+p,REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'item',sep:','}}));});}}
{['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'FrameType',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'LensUPC',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',PROD_INDEX+DEPTH_SEP+'Units',].concat(__customDatalayerProducts.map(function(p){return PROD_INDEX+DEPTH_SEP+p;})).forEach(function(p){CDT.setContextPriorityMap(p,eventContext,1,['OneConfigurator']);});[PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Brand',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url'].forEach(function(p){CDT.setContextPriorityMap(p,eventContext,2,['OneConfigurator']);});{CDT.setContextPriorityMap('Oneconf_Action',eventContext,1,['OneConfigurator']);}}};__export.setOverrideDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();{{{{COT.setPriority(__customDatalayerProducts.map(function(p){return PROD_INDEX+DEPTH_SEP+p;}),'Page_Type'+DEP_SEP+'Page_Section1',[['Login&Register'],['Checkout']],1);COT.setPriority([PROD_INDEX+DEPTH_SEP+'FrameType',PROD_INDEX+DEPTH_SEP+'Conf_IsUpcSupported'],'Page_Type'+DEP_SEP+'Page_Section1',[['Login&Register'],['Checkout']],2);}
['Events_CartAdd','Events_ProdFavAdd','Events_CartRemove'].forEach(function(d){COT.setPriority([PROD_INDEX+DEPTH_SEP+'FrameType'],d,['1'],2);});['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'FrameType',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'LensUPC',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',PROD_INDEX+DEPTH_SEP+'Units',PROD_INDEX+DEPTH_SEP+'Conf_IsUpcSupported',].concat(__customDatalayerProducts.map(function(p){return PROD_INDEX+DEPTH_SEP+p;})).forEach(function(p){if(p!=(PROD_INDEX+DEPTH_SEP+'LensUPC')){COT.setPriority(p,'Events_CPLoaded',['1'],1);COT.setPriority(p,__componentId+DEP_SEP+pageContext,[[__componentSettings.getAcceptedValues()],['Pcp']],1);}
['Events_CPRecipeChanged','Events_CPSizeChanged','Events_CPEngravingChanged','Events_CPCaseEngravingChanged','Events_CPRecipeSaved','Events_CartAdd'].forEach(function(d){if(d!='Events_CartAdd')COT.setPriority(p,d,['1'],1);COT.setPriority(p,__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],1);});COT.setPriority(p,__componentId+DEP_SEP+eventContext,[[__componentSettings.getAcceptedValues()],['AddToCart']],1);});[PROD_INDEX+DEPTH_SEP+'Engraving',PROD_INDEX+DEPTH_SEP+'Brand',PROD_INDEX+DEPTH_SEP+'Image',PROD_INDEX+DEPTH_SEP+'Url'].forEach(function(p){COT.setPriority(p,'Events_CPLoaded',['1'],2);COT.setPriority(p,__componentId+DEP_SEP+pageContext,[[__componentSettings.getAcceptedValues()],['Pcp']],2);['Events_CPRecipeChanged','Events_CPSizeChanged','Events_CPEngravingChanged','Events_CPCaseEngravingChanged','Events_CPRecipeSaved','Events_CartAdd'].forEach(function(d){if(d!='Events_CartAdd')COT.setPriority(p,d,['1'],2);COT.setPriority(p,__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],2);});COT.setPriority(p,__componentId+DEP_SEP+eventContext,[[__componentSettings.getAcceptedValues()],['AddToCart']],2);});COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Conf_IsUpcSupported'],eventContext+DEP_SEP+'Page_Section2',[['Impression'],['OneConf:Review','OneConf:LensDetails','OneConf:Exit']],1);COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Conf_IsUpcSupported'],__componentId+DEP_SEP+eventContext+DEP_SEP+'Page_Section2',[[__componentSettings.getAcceptedValues()],['Impression'],['OneConf:Review','OneConf:LensDetails','OneConf:Exit']],1);}}
{{{COT.setPriority(__customDatalayerProducts.map(function(p){return PROD_INDEX+DEPTH_SEP+p;}),'Events_OrderCancel',['1'],1);COT.setPriority([PROD_INDEX+DEPTH_SEP+'FrameType',PROD_INDEX+DEPTH_SEP+'Conf_IsUpcSupported'],'Events_OrderCancel',['1'],2);}}}
{{{COT.setPriority('Events_CPLoaded',__componentId+DEP_SEP+pageContext,[[__componentSettings.getAcceptedValues()],['Pcp']],1);}}
{['Events_CPEngravingChanged','Events_CPCaseEngravingChanged'].forEach(function(d){COT.setPriority('Events_CPRecipeChanged',d,['1'],1);COT.setPriority('Events_CPRecipeChanged',__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],1);});}}}
{{{{if(PROFILE_IS_SS){COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Pcp'],['Custom']);}else{COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Pcp'],REB.isAlphaNumeric({nospaces:'yes',required:'yes',exceptions:[':']}));}}
COT.setAcceptedValues(['Page_Section2'],eventContext+DEP_SEP+'Page_Type',[['Impression'],['Pcp']],['OneConf:Review','OneConf:LensDetails','OneConf:Exit']);}
{[PROD_INDEX+DEPTH_SEP+'FrameType'].forEach(function(p){COT.setAcceptedValues([p],'Events_CPLoaded',['1'],['CP']);COT.setAcceptedValues([p],__componentId+DEP_SEP+pageContext,[[__componentSettings.getAcceptedValues()],['Pcp']],['CP']);['Events_CPRecipeChanged','Events_CPSizeChanged','Events_CPEngravingChanged','Events_CPCaseEngravingChanged','Events_CPRecipeSaved','Events_CartAdd'].forEach(function(d){if(d!=='Events_CartAdd')COT.setAcceptedValues([p],d,['1'],['CP']);COT.setAcceptedValues([p],__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],['CP']);});COT.setAcceptedValues([p],__componentId+DEP_SEP+eventContext,[[__componentSettings.getAcceptedValues()],['AddToCart']],['CP']);});}}
{{COT.setAcceptedValues([PROD_INDEX+DEPTH_SEP+'Conf_IsUpcSupported'],__componentId,[__componentSettings.getAcceptedValues()],CGST.getInfo('UNARY'));}}}};__export.setPreProcessingRules=function(){if(__componentId)__componentSettings.addPreProcessingRules();};__export.setPostProcessingRules=function(){{__customDatalayerProducts.forEach(function(p){CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+p,dkeylist:['id'],rule:function(keyValue,dkeyListValues){return(dkeyListValues.id=='OneConfigurator')&&(!(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)))?true:false;},success:true,name:'CP_'+PROD_INDEX+DEPTH_SEP+p+'_value_success_old',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+p,dkeylist:[PROD_INDEX+DEPTH_SEP+'FrameType'],rule:function(keyValue,dkeyListValues){if(dkeyListValues[PROD_INDEX+DEPTH_SEP+'FrameType']==='CP'){if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return false;}
else{if(!(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue)))return false;}
return true;},suggestions:'Variable is required for the custom products',name:'CP_'+PROD_INDEX+DEPTH_SEP+p+'_value_error',});CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+p,dkeylist:[PROD_INDEX+DEPTH_SEP+'FrameType'],rule:function(keyValue,dkeyListValues){return(dkeyListValues[PROD_INDEX+DEPTH_SEP+'FrameType']!='CP')&&(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))?true:false;},success:true,name:'CP_'+PROD_INDEX+DEPTH_SEP+p+'_value_success',});});}};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},CustomConfiguratorComponent.prototype));}());if(!PROFILE_IS_TRANSACTIONAL)CONF_ENTITIES.push(function LensConfiguratorComponent(){var __cname='AutoQAConfiguration.LensConfiguratorComponent';var __export={};var __componentId='Rx_Release';var __datalayer=new ArrayList('string',true,true);var __LENS_PAGE_SECTIONS=['Mixmatch','LensType','LensPrescription','LensBrand','LensPerformance','LensMaterial','LensLight','LensColour','LensTreatment','LensDesign','LensTreatmentDetail','ProtectionPlan','Antifog','Addons','LensReview'];var __PDWEB_PAGE_SECTIONS=['Onboarding','Landing'];try{var __componentSettings=new CrossComponentSettings(__componentId);if(__componentId)__datalayer.add(__componentId);__datalayer.add([PROD_INDEX+DEPTH_SEP+'SpeedyRx_Eligible',PROD_INDEX+DEPTH_SEP+'SpeedyRx_Badge',PROD_INDEX+DEPTH_SEP+'MixMatch_Badge','Events_PrescriptionOk','Order_PrescriptionMethod','Events_PDWeb_StartScan','Events_PDWeb_Completed']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerStaticAcceptedValues=function(){{CPST.setInfo('id',['Checkout-Order-PrescriptionOk']);CPST.setInfo('Page_Type',['Prescription','PrescriptionOk']);}
{{CPST.setInfo(PROD_INDEX+DEPTH_SEP+'FrameType',['MixMatch']);CPST.setInfo(PROD_INDEX+DEPTH_SEP+'LensType',['RX']);}}
CPST.setInfo('Order_PrescriptionMethod',['upload','email','fax','calldoctor','skipped','myaccount']);};__export.setDatalayerContextTable=function(){CDCT.setEntryToEventsMapWithPageContext('Checkout-Order-PrescriptionOk','PrescriptionOk');};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();if(__componentId)__componentSettings.setDefaultConfiguration(eventContext,['Impression','Event','AddToCart']);{{{CDT.setContextPriorityMap('Page_Section2',pageContext,1,['Prescription','PrescriptionOk']);CDT.setContextPriorityMap('Page_Section2',eventContext,1,['Checkout-Order-PrescriptionOk']);}}
{{CDT.setContextPriorityMap(PROD_INDEX+DEPTH_SEP+'SpeedyRx_Eligible',pageContext,2,['Pdp','PClp','CartPage','Delivery','Shipping','Payment','OrderSummary','Thankyou']);CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'SpeedyRx_Eligible',['Y']);}
{CDT.setAcceptedValues(PROD_INDEX+DEPTH_SEP+'SpeedyRx_Badge',['Y']);}}}
{CDT.setContextPriorityMap([PROD_INDEX+DEPTH_SEP+'SpeedyRx_Eligible'],pageContext,2,['Wishlist']);}
{{CDT.setContextPriorityMap('Events_PrescriptionOk',pageContext,1,['PrescriptionOk']);}
{CDT.setContextPriorityMap('Order_PrescriptionMethod',pageContext,1,['PrescriptionOk']);CDT.setContextPriorityMap('Order_PrescriptionMethod',eventContext,1,['Checkout-Order-PrescriptionOk']);CDT.setContextPriorityMap('Order_PrescriptionMethod',pageContext,2,['Thankyou']);}}};__export.setOverrideDatalayerTable=function(){var eventContext=CDCT.getContextOnEvent();if(__componentId){__componentSettings.setPageNameConfiguration(eventContext,'Impression',['LensPanel','SunLensPanel','PdWeb'],{'LensPanel':__LENS_PAGE_SECTIONS,'SunLensPanel':__LENS_PAGE_SECTIONS,'PdWeb':__PDWEB_PAGE_SECTIONS,});}
{{{['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'LensUPC',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',PROD_INDEX+DEPTH_SEP+'Units',PROD_INDEX+DEPTH_SEP+'Brand',].forEach(function(p){COT.setPriority(p,__componentId+DEP_SEP+eventContext,[[__componentSettings.getAcceptedValues()],['Impression','AddToCart']],1);['Events_CartAdd','Events_PDWeb_StartScan','Events_PDWeb_Completed'].forEach(function(d){COT.setPriority(p,__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],1);});});[PROD_INDEX+DEPTH_SEP+'FrameType'].forEach(function(p){COT.setPriority(p,__componentId+DEP_SEP+eventContext,[[__componentSettings.getAcceptedValues()],['Impression','AddToCart']],2);['Events_CartAdd'].forEach(function(d){COT.setPriority(p,__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],2);});});[PROD_INDEX+DEPTH_SEP+'SpeedyRx_Eligible',PROD_INDEX+DEPTH_SEP+'SpeedyRx_Badge',PROD_INDEX+DEPTH_SEP+'MixMatch_Badge'].forEach(function(p){COT.setPriority(p,__componentId+DEP_SEP+eventContext,[[__componentSettings.getAcceptedValues()],['AddToCart']],2);['Events_CartAdd'].forEach(function(d){COT.setPriority(p,__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],2);});});COT.setPriority([PROD_INDEX+DEPTH_SEP+'SpeedyRx_Eligible'],'Page_Type'+DEP_SEP+'Page_Section1',[['Login&Register'],['Checkout']],2);COT.setPriority([PROD_INDEX+DEPTH_SEP+'SpeedyRx_Eligible'],eventContext+DEP_SEP+'Page_Section2',[['Impression'],['QuickView','MiniWishlist','MiniCart']],2);}
{['Events_SavePrescriptionEyewear','Events_PDWeb_StartScan','Events_PDWeb_Completed'].forEach(function(d){COT.setPriority(['Event_Source'],__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],1);});}}
{COT.setPriority(['Events_PrescriptionOk'],__componentId+DEP_SEP+'Page_Section2',[[__componentSettings.getAcceptedValues()],['LensBrand','LensColour','LensTreatment']],2);COT.setPriority(['Order_PrescriptionMethod'],'Events_PrescriptionOk',['1'],1);}}
{{{{COT.setAcceptedValues(['Page_Section1'],'Page_Type',['Prescription','PrescriptionOk'],['Checkout']);}
{COT.setAcceptedValues(['Page_Section2'],'Page_Type',['Prescription','PrescriptionOk'],['Standard','Reorder','Express','Quoto']);}}
{COT.setAcceptedValues([PROD_INDEX+DEPTH_SEP+'FrameType'],__componentId+DEP_SEP+eventContext+DEP_SEP+'Page_Section2',[[__componentSettings.getAcceptedValues()],['Impression'],['Mixmatch']],['MixMatch']);COT.setAcceptedValues([PROD_INDEX+DEPTH_SEP+'LensType'],__componentId+DEP_SEP+eventContext+DEP_SEP+'Page_Section2',[[__componentSettings.getAcceptedValues()],['Impression'],['Mixmatch','LensType','Onboarding']],['PLANO']);COT.setAcceptedValues([PROD_INDEX+DEPTH_SEP+'MixMatch_Badge'],__componentId+DEP_SEP+eventContext,[[__componentSettings.getAcceptedValues()],['AddToCart']],['Y']);COT.setAcceptedValues([PROD_INDEX+DEPTH_SEP+'MixMatch_Badge'],__componentId+DEP_SEP+'Events_CartAdd',[[__componentSettings.getAcceptedValues()],['1']],['Y']);}
{{COT.setAcceptedValues(['Event_Source'],__componentId+DEP_SEP+'Events_SavePrescriptionEyewear',[[__componentSettings.getAcceptedValues()],['1']],['RX Prescription Saved']);['Events_PDWeb_StartScan','Events_PDWeb_Completed'].forEach(function(d){COT.setAcceptedValues(['Event_Source'],__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],['PD Web Component']);});}}}}};__export.setPreProcessingRules=function(){if(__componentId)__componentSettings.addPreProcessingRules();};__export.setPostProcessingRules=function(){CPOST.addRule({key:PROD_INDEX+DEPTH_SEP+'LensUPC',dkeylist:[PROD_INDEX+DEPTH_SEP+'LensType'],rule:function(keyValue,dkeyListValues){if(TC.isUndefined(dkeyListValues[PROD_INDEX+DEPTH_SEP+'LensType']))return true;if(dkeyListValues[PROD_INDEX+DEPTH_SEP+'LensType']=='RX'){if(TC.isUndefined(keyValue)||TC.isEmptyString(keyValue))return false;}
return true;},suggestions:'Variable is requested for Products with RX lenses.',name:PROD_INDEX+DEPTH_SEP+'LensUPC'+'_value_error_RX_LensType',});};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},LensConfiguratorComponent.prototype));}());if(PROFILE_IS_ECOMMERCE)CONF_ENTITIES.push(function FrameAdvisorComponent(){var __cname='AutoQAConfiguration.FrameAdvisorComponent';var __export={};var __componentId='Fg_Release';var __datalayer=new ArrayList('string',true,true);var __TAKE_MODES=['VM','video','photo','manual'];try{var __componentSettings=new CrossComponentSettings(__componentId);if(__componentId)__datalayer.add(__componentId);__datalayer.add(['Fg_Face','Fg_Playlist','Events_FGFit','Events_FGScreenshot','Take_Mode','Events_SocialShare']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerStaticAcceptedValues=function(){['Events_FGFit','Events_FGScreenshot'].forEach(function(prop){CPST.setInfo(prop,CGST.getInfo('UNARY'));});};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();if(__componentId)__componentSettings.setDefaultConfiguration(eventContext,['Impression','Event']);{['Fg_Face','Fg_Playlist'].forEach(function(p){CDT.setAcceptedValues(p,REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'entry',sep:',',entry:{sep:'=',value_required:'yes'}}}));});}};__export.setOverrideDatalayerTable=function(){var eventContext=CDCT.getContextOnEvent();var datalayerProductsProperties=CDPLT.getAllProps().filter(function(prop){if(RegExp('^Products'+DEPTH_SEP_FOR_REGEXP+DYNAMIC_PROP+DEPTH_SEP_FOR_REGEXP).test(prop))return prop;});if(__componentId)__componentSettings.setPageNameConfiguration(eventContext,'Impression',['FrameGenius'],['Onboarding','Facescan','Landing','Profile','Frames']);{COT.setPriority(['Fg_Face'],__componentId+DEP_SEP+eventContext+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[[__componentSettings.getAcceptedValues()],['Impression'],['FrameGenius'],['Landing']],1);COT.setPriority(['Fg_Face','Fg_Playlist'],__componentId+DEP_SEP+eventContext+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[[__componentSettings.getAcceptedValues()],['Impression'],['FrameGenius'],['Frames']],1);COT.setInfo(['Take_Mode'],__componentId+DEP_SEP+'Events_FGFit',[[__componentSettings.getAcceptedValues()],['1']],{priority:1,acceptedValues:__TAKE_MODES});COT.setInfo(['Take_Mode'],'Events_FGFit',[[__componentSettings.getAcceptedValues()],['1']],{priority:1,acceptedValues:__TAKE_MODES});}
{['Events_FGFit','Events_FGScreenshot','Events_CartAdd','Events_ProdFavAdd'].forEach(function(d){{if(d=='Events_CartAdd'||d=='Events_ProdFavAdd')COT.setPriority(datalayerProductsProperties,__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],-1);COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',],__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],1);if(d=='Events_CartAdd')COT.setPriority([PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull'],__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],1);COT.setPriority([PROD_INDEX+DEPTH_SEP+'FrameType'],__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],2);}
if(d=='Events_FGFit'||d=='Events_FGScreenshot'){COT.setPriority(['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',],d,['1'],1);COT.setPriority([PROD_INDEX+DEPTH_SEP+'FrameType'],d,['1'],2);}});}};__export.setPreProcessingRules=function(){if(__componentId)__componentSettings.addPreProcessingRules();};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},FrameAdvisorComponent.prototype));}());if(PROFILE_IS_SS)CONF_ENTITIES.push(function FrameAdvisorComponent(){var __cname='AutoQAConfiguration.FrameAdvisorComponent';var __export={};var __datalayer=new ArrayList('string',true,true);var __PAGE_TYPES=['Connection','Facescan','Survey','Profile','Playlist','NewslForm'];var __TAKE_MODES=['VM','video','photo','manual'];try{__datalayer.add(['Fs_IsConnected','Page_UserFace','Page_UserStyle','Events_FAProfileSkinConfirmed','Events_FAProfileChanged','Events_FSCapture','Take_Mode',PROD_INDEX+DEPTH_SEP+'Fg_BestMatch',PROD_INDEX+DEPTH_SEP+'Badges','Traffic_Cid',]);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerStaticAcceptedValues=function(){CPST.setInfo('Page_Type',__PAGE_TYPES);['Events_FAProfileSkinConfirmed','Events_FAProfileChanged'].forEach(function(prop){CPST.setInfo(prop,CGST.getInfo('UNARY'));});['Fs_IsConnected',PROD_INDEX+DEPTH_SEP+'Fg_BestMatch'].forEach(function(prop){CPST.setInfo(prop,CGST.getInfo('BINARY'));});CPST.setInfo(PROD_INDEX+DEPTH_SEP+'Badges',['FrameAdv']);};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();{{CDT.setContextPriorityMap('Fs_IsConnected',pageContext,2,'ALL');CDT.setContextPriorityMap('Fs_IsConnected',pageContext,-1,__PAGE_TYPES);}
['Page_UserFace','Page_UserStyle'].forEach(function(p){CDT.setContextPriorityMap(p,pageContext,2,'ALL');CDT.setContextPriorityMap(p,pageContext,-1,__PAGE_TYPES);CDT.setAcceptedValues(p,REB.isAlphaNumeric({required:'yes',nospaces:'yes',multiples:{type:'entry',sep:',',entry:{sep:'=',value_required:'yes'}}}));});}
{{CDT.setContextPriorityMap('Traffic_Cid',pageContext,2,'ALL');CDT.setAcceptedValues('Traffic_Cid',REB.isAlphaNumeric({required:'yes'}));}}};__export.setOverrideDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();{COT.setPriority(['Fs_IsConnected','Page_UserFace','Page_UserStyle','Take_Mode',PROD_INDEX+DEPTH_SEP+'Fg_BestMatch'],pageContext+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Design',[['Plp'],['FrameAdv'],['Playlist']],1);COT.setAcceptedValues(['Take_Mode'],pageContext+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Design',[['Plp'],['FrameAdv'],['Playlist']],__TAKE_MODES);}
{COT.setPriority(['Fs_IsConnected'],pageContext+DEP_SEP+'Page_Design',[['Pdp'],['FADV']],-1);COT.setPriority(['Page_UserFace','Page_UserStyle','Take_Mode',PROD_INDEX+DEPTH_SEP+'Fg_BestMatch',PROD_INDEX+DEPTH_SEP+'Badges',],pageContext+DEP_SEP+'Page_Design',[['Pdp'],['FADV']],1);COT.setAcceptedValues(['Take_Mode'],pageContext+DEP_SEP+'Page_Design',[['Pdp'],['FADV']],__TAKE_MODES);}
{COT.setPriority(['Page_UserFace','Page_UserStyle'],pageContext+DEP_SEP+'Page_Section1',[['Profile','Playlist'],['FrameAdv']],1);COT.setInfo(['Take_Mode'],pageContext+DEP_SEP+'Page_Section1',[['Facescan','Survey','Profile','Playlist'],['FrameAdv']],{priority:1,acceptedValues:__TAKE_MODES});COT.setPriority(['Events_FSCapture'],pageContext+DEP_SEP+'Page_Section1',[['Profile'],['FrameAdv']],1);COT.setPriority(['Page_UserFace','Page_UserStyle'],'Events_FAProfileChanged',['1'],1);COT.setPriority(['Page_UserFace'],'Events_FAProfileSkinConfirmed',['1'],1);}
{{COT.setAcceptedValues(['Page_Section1'],pageContext,__PAGE_TYPES,['FrameAdv']);{COT.setAcceptedValues(['Page_Design'],'Page_Type',['Pdp'],(CGST.getInfo('PDP_PAGE_DESIGNS')||[]).concat(['FADV']));COT.setAcceptedValues(['Page_Design'],'Page_Type',['Plp'],(CGST.getInfo('PLP_PAGE_DESIGNS')||[]).concat(['Playlist']));}}}};__export.setPreProcessingRules=function(){CPRET.addRule({name:'Traffic_Cid_undefined_notP1_skip',skip:true,rule:function(prop,value,format,priority,context_name,context_value,parents,keyValue){return prop=='Traffic_Cid'&&priority!=1&&TC.isUndefined(value)?true:false;},});};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},FrameAdvisorComponent.prototype));}());if(!PROFILE_IS_TRANSACTIONAL)CONF_ENTITIES.push(function RealTimeRenderingComponent(){var __cname='AutoQAConfiguration.RealTimeRenderingComponent';var __export={};var __componentId='Rtr_Release';var __datalayer=new ArrayList('string',true,true);try{var __componentSettings=new CrossComponentSettings(__componentId);if(__componentId)__datalayer.add(__componentId);__datalayer.add(['Rtr_IsUpcSupported','Events_RTRZoom','Events_RTRRotation','Events_RTRExplosion',]);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerStaticAcceptedValues=function(){['Events_RTRZoom','Events_RTRRotation','Events_RTRExplosion'].forEach(function(prop){CPST.setInfo(prop,CGST.getInfo('UNARY'));});CPST.setInfo('Rtr_IsUpcSupported',CGST.getInfo('UNARY'));};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();if(__componentId)__componentSettings.setDefaultConfiguration(eventContext,['Event']);{{CDT.setContextPriorityMap('Rtr_IsUpcSupported',pageContext,2,['Pdp']);}}};__export.setOverrideDatalayerTable=function(){{{['Events_RTRZoom','Events_RTRRotation','Events_RTRExplosion'].forEach(function(d){COT.setPriority(['Products',PROD_INDEX],__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],1);});}}
{{['Events_RTRZoom','Events_RTRRotation','Events_RTRExplosion'].forEach(function(d){COT.setAcceptedValues([PROD_INDEX],__componentId+DEP_SEP+d,[[__componentSettings.getAcceptedValues()],['1']],REB.isObj(0));});}}};__export.setPreProcessingRules=function(){if(__componentId)__componentSettings.addPreProcessingRules();};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},RealTimeRenderingComponent.prototype));}());if(!PROFILE_IS_TRANSACTIONAL)CONF_ENTITIES.push(function RXRenewalComponent(){var __cname='AutoQAConfiguration.RXRenewalComponent';var __export={};var __componentId='Rx_Renewal_Release';var __datalayer=new ArrayList('string',true,true);try{var __componentSettings=new CrossComponentSettings(__componentId);if(__componentId)__datalayer.add(__componentId);__datalayer.add(['Renewal_Ko','Events_RenewalEligibility']);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerStaticAcceptedValues=function(){CPST.setInfo('Events_RenewalEligibility',CGST.getInfo('UNARY'));};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();if(__componentId)__componentSettings.setDefaultConfiguration(pageContext,['Static']);if(__componentId)__componentSettings.setDefaultConfiguration(eventContext,['Impression','Event']);{{CDT.setAcceptedValues('Renewal_Ko',REB.isAlphaNumeric({required:'yes'}));}}};__export.setOverrideDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();if(__componentId)__componentSettings.setPageNameConfiguration(pageContext,'Static',['RxRenewal'],['Start','Eligibility','Eligibility:Ok','SetUp','TutorialTest','Test','ResultValidation','ResultValidation:Ok'],['Static']);if(__componentId)__componentSettings.setPageNameConfiguration(eventContext,'Impression',['RxRenewal'],['Eligibility:Ko']);{{COT.setPriority(['Events_RenewalEligibility'],__componentId+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[[__componentSettings.getAcceptedValues()],['RxRenewal'],['Eligibility:Ok']],1);COT.setPriority(['Renewal_Ko'],__componentId+DEP_SEP+'Page_Section1'+DEP_SEP+'Page_Section2',[[__componentSettings.getAcceptedValues()],['RxRenewal'],['Eligibility:Ko']],2);}}};__export.setPreProcessingRules=function(){if(__componentId)__componentSettings.addPreProcessingRules();};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},RXRenewalComponent.prototype));}());if(!PROFILE_IS_TRANSACTIONAL)CONF_ENTITIES.push(function LensAdvisorComponent(){var __cname='AutoQAConfiguration.LensAdvisorComponent';var __export={};var __componentId='La_Release';var __datalayer=new ArrayList('string',true,true);var __LENS_PAGE_SECTIONS=['LensAdvisor:Prescription','LensAdvisor:ScreenUse','LensAdvisor:EyeDiscomfort','LensAdvisor:DigitalDevices','LensAdvisor:Gaming','LensAdvisor:Outdoor','LensAdvisor:Transitions','LensAdvisor:Drive','LensAdvisor:Clearness','LensAdvisor:Thickness','LensAdvisor:SunGlare','LensAdvisor:Cleanness','LensAdvisor:BrandedLenses','LensAdvisor:ResultsBranded(\\d)+','LensAdvisor:ResultsStandard(\\d)+'];try{var __componentSettings=new CrossComponentSettings(__componentId);if(__componentId)__datalayer.add(__componentId);__export.getDatalayer=function(){return __datalayer.getData();};__export=___.merge(__export,CONF_INTERFACE);__export.setDatalayerPropertyListTable=function(){CDPLT.setInfo(__datalayer.getData(),'string');};__export.setDatalayerTable=function(){var pageContext=CDCT.getContextOnPage();var eventContext=CDCT.getContextOnEvent();if(__componentId)__componentSettings.setDefaultConfiguration(eventContext,['Impression','Event','AddToCart']);};__export.setOverrideDatalayerTable=function(){var eventContext=CDCT.getContextOnEvent();if(__componentId)__componentSettings.setPageNameConfiguration(eventContext,'Impression',['LensPanel','SunLensPanel'],__LENS_PAGE_SECTIONS);{{['Products',PROD_INDEX,PROD_INDEX+DEPTH_SEP+'Status',PROD_INDEX+DEPTH_SEP+'Category',PROD_INDEX+DEPTH_SEP+'LensType',PROD_INDEX+DEPTH_SEP+'LensUPC',PROD_INDEX+DEPTH_SEP+'Price',PROD_INDEX+DEPTH_SEP+'PriceFull',PROD_INDEX+DEPTH_SEP+'Units',PROD_INDEX+DEPTH_SEP+'Brand',].forEach(function(p){COT.setPriority(p,__componentId+DEP_SEP+eventContext,[[__componentSettings.getAcceptedValues()],['Impression','AddToCart']],1);COT.setPriority(p,__componentId+DEP_SEP+'Events_CartAdd',[[__componentSettings.getAcceptedValues()],['1']],1);});}}};__export.setPreProcessingRules=function(){if(__componentId)__componentSettings.addPreProcessingRules();};}catch(e){MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(__export||{},LensAdvisorComponent.prototype));}());}
var CONF_TABLES=[];{CONF_TABLES.push(function ConfigErrorTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > CET');CET.setPriorities([-1,1,2]);var tagging_plan_url='https://docs.google.com/spreadsheets/d/1qedeSsDNt8PSFdw1Uw22SXLs_XQBXCi_94tcbxsOSMc/edit?usp=sharing';var tagging_plan_link='<a href="'+tagging_plan_url+'" target="_blank">Tagging Plan</a>';CET.setCauses({CORRECT:'Variable is correct!',EXISTING:'Variable is missing!',FORMAT:'Variable\'s format is not correct!',ACCEPTED_VALUES:'Please to check Accepted values, Definition, Triggering condition in '+tagging_plan_link,SKIP:'Variable is not analyzed!',UNEXPECTED:'Variable is not expected on this context!',MANUAL_CHECK_REQUIRED:'Variable may be required depending on the Triggering condition. More info in '+tagging_plan_link,});var types=CET.getTypes();CET.setEntry(types.ERROR,{priority:1,label:'ERROR',message:'Severe Error'});CET.setEntry(types.WARNING,{priority:2,label:'WARNING',message:'Moderate Error'});CET.setEntry(types.SUCCESS,{priority:-1,label:'SUCCESS',message:'Correct'});CET.setEntry(types.SKIP,{priority:-1,label:'SKIP',message:'Skip test'});MLOG.timeEnd('AUTO QA: CONFIGURATION > CET');});CONF_TABLES.push(function ConfigQAProperty(){MLOG.timeStart('AUTO QA: CONFIGURATION > CQAP');CQAP.setApplyCallback(function(prop,value,priority,format,accValues,suggestions){var types=CET.getTypes();var causes=CET.getCauses();if(priority==CDT.getNoPriority()){if(CQAP.checkExist(value)&&(!CQAP.checkFormat(value,format)||(!CQAP.checkEmpty(value,format)))){return{type:types.WARNING,message:causes.UNEXPECTED};}}
else{if(CQAP.checkExist(value)&&(!(priority==2&&CQAP.checkFormat(value,format)&&CQAP.checkEmpty(value,format)))){if(CQAP.checkFormat(value,format)){if(CQAP.checkAcceptedValues(value,accValues)){}
else return{type:types.ERROR,message:(suggestions||causes.ACCEPTED_VALUES)};}else{return{type:types.ERROR,message:causes.FORMAT};}}else{return{type:CET.getTypeBy('priority',priority),message:priority==2?causes.MANUAL_CHECK_REQUIRED:causes.EXISTING};}}
return{type:types.SUCCESS,message:causes.CORRECT};});MLOG.timeEnd('AUTO QA: CONFIGURATION > CQAP');});CONF_TABLES.push(function ConfigGlobalStaticTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > CGST');CONF_ENTITIES.forEach(function(entity){entity.setDatalayerGlobalStaticValues();});MLOG.timeEnd('AUTO QA: CONFIGURATION > CGST');});CONF_TABLES.push(function ConfigPropertyStaticTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > CPST');CPST.init();CONF_ENTITIES.forEach(function(entity){entity.setDatalayerStaticAcceptedValues();});MLOG.timeEnd('AUTO QA: CONFIGURATION > CPST');});CONF_TABLES.push(function ConfigSuggestionTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > CHT');CHT.init();CHT.setGlobalSuggestions({SINGLE_VALUE:'Please to provide the value',MULTIPLE_VALUE:'Please to provide one of available values:',EMPTY_STRING:'empty string'});CONF_ENTITIES.forEach(function(entity){entity.setDatalayerSuggestionTable();});MLOG.timeEnd('AUTO QA: CONFIGURATION > CHT');});CONF_TABLES.push(function ConfigDatalayerPropertyListTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > CDPLT');CDPLT.init();CDPLT.setFormats(['string','object','array']);CONF_ENTITIES.forEach(function(entity){entity.setDatalayerPropertyListTable();});MLOG.timeEnd('AUTO QA: CONFIGURATION > CDPLT');});CONF_TABLES.push(function ConfigDatalayerContextTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > CDCT');CONF_ENTITIES.forEach(function(entity){entity.setDatalayerContextTable();});MLOG.timeEnd('AUTO QA: CONFIGURATION > CDCT');});CONF_TABLES.push(function ConfigRestrictTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > CRT');var datalayerProfile=new ArrayList('string',true,true);CONF_ENTITIES.forEach(function(entity){var datalayerEntity=entity.getDatalayerRestriction()||entity.getDatalayer();datalayerProfile.add(datalayerEntity);});if(!datalayerProfile.isEmpty()){var datalayer=new ArrayList('string',true,true);datalayer.setData(CDPLT.getAllProps('list'));datalayer.remove(datalayerProfile.getData());CRT.setInfo(PROFILE_GROUP,datalayer.getData());}
MLOG.timeEnd('AUTO QA: CONFIGURATION > CRT');});CONF_TABLES.push(function ConfigDatalayerTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > CDT');CDT.init();CDT.setPriorities([-1,1,2]);CDT.setNoPriority(-1);{MLOG.timeStart('AUTO QA: CONFIGURATION > CDT > Init Default');CDT.initDefaultTable();MLOG.timeEnd('AUTO QA: CONFIGURATION > CDT > Init Default');}
{MLOG.timeStart('AUTO QA: CONFIGURATION > CDT > Init Custom');CONF_ENTITIES.forEach(function(entity){entity.setDatalayerTable();});MLOG.timeEnd('AUTO QA: CONFIGURATION > CDT > Init Custom');}
MLOG.timeEnd('AUTO QA: CONFIGURATION > CDT');});CONF_TABLES.push(function ConfigOverrideTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > COT');COT.init();CONF_ENTITIES.forEach(function(entity){entity.setOverrideDatalayerTable();});MLOG.timeEnd('AUTO QA: CONFIGURATION > COT');});CONF_TABLES.push(function ConfigPreProcessRulesTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > CPRET');CPRET.setToFirstWin();CONF_ENTITIES.forEach(function(entity){entity.setPreProcessingRules();});MLOG.timeEnd('AUTO QA: CONFIGURATION > CPRET');});CONF_TABLES.push(function ConfigPostProcessRulesTable(){MLOG.timeStart('AUTO QA: CONFIGURATION > CPOST');CPOST.setToFirstWin();CPOST.setApplyKeyPreconditionsCallback(function(QAResultInfo){if(QAResultInfo.priority>CDT.getNoPriority()&&(QAResultInfo.error.message==CET.getCauses('CORRECT')||(QAResultInfo.error.message==CET.getCauses('EXISTING')||QAResultInfo.error.message==CET.getCauses('MANUAL_CHECK_REQUIRED'))||(QAResultInfo.error.priority==-1)))return true;return false;});CPOST.setApplyDependencyPreconditionsCallback(function(QAResultInfo){{if(QAResultInfo.priority>CDT.getNoPriority()){if(QAResultInfo.error.message==CET.getCauses('CORRECT')||(QAResultInfo.error.message==CET.getCauses('EXISTING')||QAResultInfo.error.message==CET.getCauses('MANUAL_CHECK_REQUIRED'))||(QAResultInfo.error.priority==-1))return true;}
else{if(QAResultInfo.error.message==CET.getCauses('CORRECT'))return true;}}
return false;});CONF_ENTITIES.forEach(function(entity){entity.setPostProcessingRules();});MLOG.timeEnd('AUTO QA: CONFIGURATION > CPOST');});}
CONF_TABLES.forEach(function(runConfigurationTable){runConfigurationTable();});}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:'AutoQAConfiguration',context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:'AutoQAConfiguration',fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.10 - Utag Core Components';var tealiumExtensionCode=function(){window.UtagBuilder=function UtagBuilderCTRL(){var __cname='UtagBuilder';var MLOG=__Utils__.MessageLogging;try{var ___=__Utils__.Common;var TC=__Utils__.TypeChecking;var REB=__Utils__.RegExpBuilder;var COOKIE=__Utils__.Cookie;var STORAGE=__Utils__.Storage;var UTAG=__Utils__.UtagHelper;var ArrayList=__Utils__.ArrayList;var formatlistMap={User_Segments:',',Content_TestList:'|',};var __checkAndGetToolNamePrefix=function(toolNameAbbreviation,eventId,eventSource){var __toolNameAbbreviation='';var toolNameAbbreviationMap={'Bounce':'BE','Monetate':'MO'};if(toolNameAbbreviation&&REB.isValueOf(Object.keys(toolNameAbbreviationMap).map(function(key){return toolNameAbbreviationMap[key];})).test(toolNameAbbreviation))__toolNameAbbreviation=toolNameAbbreviation;else for(var key in toolNameAbbreviationMap){if(toolNameAbbreviationMap.hasOwnProperty(key)&&((new RegExp('^((PageView|LinkTracking):)?'+key)).test(eventId)||eventSource===key)){__toolNameAbbreviation=toolNameAbbreviationMap[key];break;}}
return __toolNameAbbreviation?'['+__toolNameAbbreviation+']':'';};var __buildInitContext=function(o){if(o.id)o.id=o.id+'';o.Tracking_EventId=((o['ut.event']=='view'?'PageView':'LinkTracking'))+(o.id?':':'')+o.id+(o['ut.event']=='click'?(':'+(o.clickType||'Push')):'');o.Tracking_EventIdLog=window.utag_data.Tracking_EventIdLog=(window.utag_data.Tracking_EventIdLog||'')+'['+o.Tracking_EventId+']';o.Tracking_Pusher=o.id!='default'?(o.Tracking_Pusher||'utag.track'):'';};var __buildUpdateContext=function(o){if(o.Tags__Abort){o.Tracking_EventId+=':abort';o.Tracking_EventIdLog=window.utag_data.Tracking_EventIdLog=o.Tracking_EventIdLog.replace(/\]$/,':abort]');}};var __buildResume=function(o){for(var prop in window.utag_data){{if(!window.utag_data.hasOwnProperty(prop))continue;if(o.hasOwnProperty(prop))continue;}
{if(o['ut.event']==='view'){if(/Impression/.test(o.id)){if((/^Page_/.test(prop)&&(!/^(Page_Type|Page_Section[2-9]|Page_Design)$/.test(prop)))
||/^Session_Id$/.test(prop)
||(/^Store_/.test(prop)&&(!/^Store_Search/.test(prop)))
||(/^User_/.test(prop)&&(!/^User_LoginStatus$/.test(prop))))o[prop]=window.utag_data[prop];}
else{if(/^Page_Country$/.test(prop)
||(/^User_/.test(prop)&&(!/^(User_LoginStatus|User_LoginType)$/.test(prop))))o[prop]=window.utag_data[prop];}}
else if(o['ut.event']==='link'||o['ut.event']==='adobe_event'){if(/^Page_/.test(prop)
||/^Session_Id$/.test(prop)
||(/^Store_/.test(prop)&&(!/^Store_Search/.test(prop)))
||(/^User_/.test(prop)&&(!/^User_LoginStatus$/.test(prop))))o[prop]=window.utag_data[prop];}
else if(o['ut.event']==='click'){if(/^Page_/.test(prop)
||/^Session_Id$/.test(prop)
||(/^Store_/.test(prop)&&(!/^Store_Search/.test(prop))))o[prop]=window.utag_data[prop];}}}};var __buildDOM=function(o){o['dom.url']=o['dom.url']||window.location.href;o['dom.pathname']=o['dom.pathname']||window.location.pathname;o['dom.referrer']=o['dom.referrer']||document.referrer;o['dom.query_string']=o['dom.query_string']||(window.location.search.replace(/^\?/,'')||window.location.href.split('%3F')[1]||'');if(o['dom.query_string'])o['dom.query_string'].split(/&|%26/).forEach(function(param){if(param){var keyValue=param.split(/=|%3D/);if(keyValue){var key=keyValue.shift();var value=keyValue.join('=');//@NOTE: default => decoded separator
if(/^cid$/i.test(key))o['qp.cid']=value;else o['qp.'+key]=o['qp.'+key]||value;}}});(UTAG.getUtagSettings('DOMUrlBadQueryParams')||[]).forEach(function(param){if(o['qp.'+param]){['dom.url','dom.pathname','dom.query_string','dom.referrer'].forEach(function(prop){o[prop]=o[prop].replace(RegExp('(^'+param+'|(&|%26)'+param+')(=|%3D)([^&]|[%26)])+'),'').replace(RegExp('((\\?|%3F)'+param+')(=|%3D)([^&]|[%26)])+'),(/%3F/.test(o[prop])?'%3F':'?'));});}});};var __buildCheckStorage=function(o){var regexp='^tealium_data2track[^_]*_';var list=STORAGE.getKeys(regexp);for(var index=0;index<list.length;index++){var key=list[index];var index2=key.replace(new RegExp(regexp),'');if(!o[index2]||o[index2]=='Unknown'){o[index2]=(STORAGE.getItem(key,'')||COOKIE.get(key,''));MLOG.showMessage({type:'info',cname:__cname,fname:'__buildCheckStorage',msg:'data2track: '+index2+' = '+o[index2]});}
else if(REB.isValueOf(Object.keys(formatlistMap)).test(index2)){var temp=new ArrayList('string',true,true,formatlistMap[index2]);temp.setData(o[index2]);temp.add(STORAGE.getItem(key,'')||COOKIE.get(key,''));o[index2]=temp.getData(true);MLOG.showMessage({type:'info',cname:__cname,fname:'__buildCheckStorage',msg:'datalayer+data2track: '+index2+' = '+o[index2]});}}
};var __buildUpdatePageContext=function(o){if(/(Loading-Ready|VirtualPage-View|Prods-Update|Exam-Funnel-FindStore|Exam-Funnel-Info|Exam-Funnel-Review|Exam-Funnel-Confirmation)/g.test(o.Tracking_EventId)){window.utag_data=___.merge({},o,20);}};var __buildUpdateStorage=function(o){if(!o.Tags__Abort){var d2tKeyList=STORAGE.getKeys('^tealium_data2track_');STORAGE.removeItems(d2tKeyList);COOKIE.removeItems(d2tKeyList);if(o['ut.event']=='view'&&(!/impression/i.test(o.Tracking_EventId)))STORAGE.removeItems('tealium_data_element_id_');}
if(!o.Tags__Abort||o.Tracking_Type=='hiddenaction'){if(o.Action_Serial)STORAGE.setItem('tealium_data_action_lastSerial',o.Action_Serial);if(o.Action)COOKIE.set('tealium_data_action_lastAction',o.Action);if(o.Action_Event)COOKIE.set('tealium_data_action_lastEvent',o.Action_Event);}};var __buildClean=function(o){tealium_objReplace(o,'trim');};var __buildExternalTools=function(o){UTAG.buildProp(o,{name:'Content_TestCampaign',defaultValue:'unknown'});UTAG.buildProp(o,{name:'Content_TestVariation',defaultValue:'unknown'});UTAG.buildProp(o,{name:'Content_TestVersion',customValue:function(datalayer){var testVersion=datalayer.Content_TestVersion||(datalayer.Content_TestCampaign+': '+datalayer.Content_TestVariation);if(/Bounce/.test(datalayer.Tracking_EventId)){testVersion=__checkAndGetToolNamePrefix(datalayer.Tool_Name_Abbreviation,datalayer.Tracking_EventId,datalayer.Event_Source)+(testVersion.replace(/ \| /g,'').replace(/ \- /g,' '))+' '+(/-Click$/.test(datalayer.Tracking_EventId)?'CLICK':'IMP');}
else if(/Monetate/.test(datalayer.Tracking_EventId)){testVersion=__checkAndGetToolNamePrefix(datalayer.Tool_Name_Abbreviation,datalayer.Tracking_EventId,datalayer.Event_Source)+testVersion;}
return testVersion.replace(/\|/g,'');}});var contentTestList=new ArrayList('string',true,true,'|');contentTestList.setData(STORAGE.getItem('tealium_data2track_Content_TestList',''));contentTestList.add(o.Content_TestVersion);STORAGE.setItem('tealium_data2track_Content_TestList',contentTestList.getData(true));};var __buildClickMap=function(o){UTAG.buildProp(o,{name:'data_element_id',customValue:function(datalayer){return datalayer.data_element_id
.replace(/ /g,'')
.replace(/_/g,' ')
.replace(/[^\w ]/g,'');}});UTAG.buildProp(o,{name:'data_description',customValue:function(datalayer){return datalayer.data_description.replace(/[^\w]/g,'');}});UTAG.buildProp(o,{name:'data_analytics_available_call',customValue:function(datalayer){var counterStored=parseInt(STORAGE.getItem('tealium_data_element_id_'+datalayer.data_element_id,''),10);if(counterStored>-1){if(counterStored>0)STORAGE.setItem('tealium_data_element_id_'+datalayer.data_element_id,(counterStored-1));}
else{var counter=parseInt(datalayer.data_analytics_available_call,10);if(counter>-1){STORAGE.setItem('tealium_data_element_id_'+datalayer.data_element_id,counter);}}}});};var __buildCore=function(o){UTAG.buildProp(o,{name:'Page_Language',format:{transform:'uppercase'},defaultValue:'unknown'});UTAG.buildProp(o,{name:'Page_Country',format:{transform:'uppercase'},customValue:function(datalayer){return datalayer.Page_Country
.replace(/uk/i,'gb')
.replace(/\s/g,'');},defaultValue:'unknown'});UTAG.buildProp(o,{name:'Page_Region',format:{transform:'uppercase'},customValue:function(datalayer){return/ROE|EU|AT|BE|CZ|DK|EE|FI|FR|DE|GR|HU|IE|IT|LV|LT|LU|MT|NL|NO|PL|PT|RU|SK|ES|SE|CH|TR|GB|UA/.test(datalayer.Page_Country)?'eu':/US|CA/.test(datalayer.Page_Country)?'na':/AU|DB|CN|HK|IN|MY|MV|MM|NP|PK|SG|LK|TH/.test(datalayer.Page_Country)?'asiapac':/JP|KR|TW/.test(datalayer.Page_Country)?'fareast':/LA|AR|BR|MX/.test(datalayer.Page_Country)?'cla':/AE|BH|QA|EG|IL|LB|SA|KW/.test(datalayer.Page_Country)?'mena':/ZA/.test(datalayer.Page_Country)?'africa':'unknown';}});UTAG.buildProp(o,{name:'Page_DeviceType',format:{transform:'lowercase'},defaultValue:'unknown'});UTAG.buildProp(o,{name:'Page_PlatformRelease',defaultValue:'Unknown'});UTAG.buildProp(o,{name:'Page_Brand',customValue:function(datalayer){return UTAG.getUtagSettings('ProfileBrand')||datalayer.Page_Brand||'';}});{UTAG.buildProp(o,{name:'Page_Url',customValue:function(datalayer){return datalayer['dom.url'].replace(/(=|%3D)[a-z0-9\.\-_]+(@|%40)[a-z0-9\.\-_]+(&|%26|#|%23|$)/ig,'$1***$2***$3');}});UTAG.buildProp(o,{name:'Page_Path',customValue:function(datalayer){return datalayer['dom.pathname'].replace(/(.)\/$/,'$1');}});UTAG.buildProp(o,{name:'Page_QueryString',customValue:function(datalayer){return datalayer['dom.query_string'].replace(/(=|%3D)[a-z0-9\.\-_]+(@|%40)[a-z0-9\.\-_]+(&|%26|#|%23|$)/ig,'$1***$2***$3');}});UTAG.buildProp(o,{name:'Page_Path',customValue:function(datalayer){return datalayer.Page_Path+(datalayer.Page_QueryString?'?'+datalayer.Page_QueryString:'');}});UTAG.buildProp(o,{name:'Page_Url_EnUs',customValue:function(datalayer){var tagLink=document.querySelector('link[rel="alternate"][hreflang="en-us"]');return tagLink&&tagLink.href?tagLink.href.replace(/^((.*):\/\/)?(.*)\//i,'/').replace(/\?(.*)/,''):datalayer.Page_Path;}});}
if(o['ut.version'])UTAG.buildProp(o,{name:'Tags_Tealium_ReleaseCode',customValue:function(datalayer){var previousVersion=STORAGE.getItem('tealium_version','');var currentVersion=datalayer.Tags_Tealium_ReleaseCode=UTAG.getCustomUtagVersion(datalayer['ut.version']);STORAGE.setItem('tealium_version',currentVersion,'forever');UTAG.updateAnalyticsLog(datalayer,'set','utagjs',{status:'done',notes:'Latest update on '+(UTAG.isUtagTodayVersion(currentVersion)?'TODAY ':'')+UTAG.getUtagVersionDateTime(currentVersion),isNew:previousVersion&&currentVersion!=previousVersion,});return currentVersion;}});};var __buildPage=function(o){UTAG.buildProp(o,{name:'Page_Type',format:{transform:'capitalcase'},defaultValue:'unknown'});['Page_Section1','Page_Section2','Page_Section3'].forEach(function(propName){UTAG.buildProp(o,{name:propName,format:{transform:'camelcase'},customValue:function(datalayer){return datalayer[propName].replace(/[^(\w|\:)]/g,'');}});});UTAG.buildProp(o,{name:'Page_Design'});UTAG.buildProp(o,{name:'Page_Name',customValue:function(datalayer){var pageName;{var pageSectionList=new ArrayList('string',false,true,':');pageSectionList.setData([datalayer.Page_Section1,datalayer.Page_Section2,datalayer.Page_Section3].join(':'));var pageSectionArray=pageSectionList.getData();var lastPageSection=pageSectionArray[pageSectionArray.length-1]||'';pageName=[datalayer.Page_Section1,datalayer.Page_Section2,datalayer.Page_Section3,(RegExp('^'+datalayer.Page_Type+'$','i').test(lastPageSection)?'':datalayer.Page_Type)]
.join(':')
.replace(/:+$/,'')
.replace(/:+/g,':');if(datalayer.Page_Design)pageName+='-'+datalayer.Page_Design;}
return pageName;}});UTAG.buildProp(o,{name:'Page_UserFace'});UTAG.buildProp(o,{name:'Page_UserStyle'});UTAG.buildProp(o,{name:'Page_UserProfile',customValue:function(datalayer){if(datalayer.Page_UserFace||datalayer.Page_UserStyle){var list=new ArrayList('string',true,true,',');if(datalayer.Page_UserProfile)list.setData(datalayer.Page_UserProfile);if(datalayer.Page_UserFace)list.add(datalayer.Page_UserFace);if(datalayer.Page_UserStyle)list.add(datalayer.Page_UserStyle);return list.getData(true);}
return datalayer.Page_UserProfile;}});};var __buildStore=function(o){UTAG.buildProp(o,{name:'Store_Brand'});UTAG.buildProp(o,{name:'Store_Custom'});UTAG.buildProp(o,{name:'Store_Configuration',customValue:function(datalayer){if(datalayer.Store_Brand||datalayer.Store_Custom){var list=new ArrayList('string',true,true,'|');list.add('Brand='+datalayer.Store_Brand);list.add('Custom='+datalayer.Store_Custom);return list.getData(true);}
return datalayer.Store_Configuration;}});};var __buildCid=function(o){{if(!o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit){if(typeof o.Traffic_Cid==='string'&&o.Traffic_Cid)o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit=o.Traffic_Cid;else if(o['qp.cid'])o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit=o['qp.cid'];else if(o['dom.referrer']&&(!COOKIE.get('tealium_data_tags_adobeAnalytics_trafficSourceCid_thisSession',''))){var referrerQueryString=o['dom.referrer'].split(/\?|%3F/)[1]||'';if(/([cC][iI][dD])(=|%3D)/.test(referrerQueryString))referrerQueryString.split(/&|%26/).forEach(function(param){if(param){var keyValue=param.split(/=|%3D/);if(keyValue){var key=keyValue.shift();var value=keyValue.join('=');//@NOTE: default => decoded separator
if(/^cid$/i.test(key))o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit=value;}}});}}
if(o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit){if(!/_/.test(o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit))o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit+='_';if(!COOKIE.get('tealium_data_tags_adobeAnalytics_trafficSourceCid_thisSession','')){COOKIE.set('tealium_data_tags_adobeAnalytics_trafficSourceCid_lastFirst',o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit,30);}
COOKIE.set('tealium_data_tags_adobeAnalytics_trafficSourceCid_thisSession',o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit);}
o.Tags_AdobeAnalytics_TrafficSourceCid_ThisSession=COOKIE.get('tealium_data_tags_adobeAnalytics_trafficSourceCid_thisSession','');o.Tags_AdobeAnalytics_TrafficSourceCid_LastFirst=COOKIE.get('tealium_data_tags_adobeAnalytics_trafficSourceCid_lastFirst','');}};var __buildMid=function(o){{var MID={};o.Tags_AdobeAnalytics_TrafficSourceMid_ThisHit='';o.Tags_AdobeAnalytics_TrafficSourceMid_ThisSession=COOKIE.get('tealium_data_tags_adobeAnalytics_trafficSourceMid_thisSession','');o.Tags_AdobeAnalytics_TrafficSourceMid_Last=STORAGE.getItem('tealium_data_tags_adobeAnalytics_trafficSourceMid_last','');MID.isFirst=!o.Tags_AdobeAnalytics_TrafficSourceMid_ThisSession;{if(o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit)o.Tags_AdobeAnalytics_TrafficSourceMid_ThisHit=o.Tags_AdobeAnalytics_TrafficSourceCid_ThisHit;else if(MID.isFirst){o.Tags_AdobeAnalytics_TrafficSourceMid_ThisHit=(o['dom.referrer']||'').replace(/^https?:\/\//i,'').replace(/^www\./i,'');if(!o.Tags_AdobeAnalytics_TrafficSourceMid_ThisHit)o.Tags_AdobeAnalytics_TrafficSourceMid_ThisHit='direct';else{var __host=(window.location.hostname||'').split('.');if(__host.length>2)__host.shift();MID.internal=__host.join('.');MID.internal=new RegExp('^(\\w*\\.)?('+MID.internal.replace(/\./g,'\\.').replace(/\//g,'\\/')+')([\\./].*)?$','i');if(MID.internal.test(o.Tags_AdobeAnalytics_TrafficSourceMid_ThisHit))o.Tags_AdobeAnalytics_TrafficSourceMid_ThisHit=o.Tags_AdobeAnalytics_TrafficSourceMid_Last||'internal';}}}
if(o.Tags_AdobeAnalytics_TrafficSourceMid_ThisHit){COOKIE.set('tealium_data2track_Tags_AdobeAnalytics_TrafficSourceMid_ThisHit',o.Tags_AdobeAnalytics_TrafficSourceMid_ThisHit);o.Tags_AdobeAnalytics_TrafficSourceMid_Last=o.Tags_AdobeAnalytics_TrafficSourceMid_ThisSession=o.Tags_AdobeAnalytics_TrafficSourceMid_ThisHit;STORAGE.setItem('tealium_data_tags_adobeAnalytics_trafficSourceMid_last',o.Tags_AdobeAnalytics_TrafficSourceMid_Last,'forever');COOKIE.set('tealium_data_tags_adobeAnalytics_trafficSourceMid_thisSession',o.Tags_AdobeAnalytics_TrafficSourceMid_ThisSession);}}};var __buildUser=function(o){UTAG.buildProp(o,{name:'User_IdTimeStamp',customValue:function(datalayer){var userTimeStamp=STORAGE.getItem('tealium_data_user_timeStamp',(new Date()).getTime());STORAGE.setItem('tealium_data_user_timeStamp',userTimeStamp,'forever');return userTimeStamp;}});{UTAG.buildProp(o,{name:'User_Country',format:{transform:'uppercase'},customValue:function(datalayer){var userCountry=datalayer.User_Country&&datalayer.User_Country!='N.A.'?datalayer.User_Country:(COOKIE.get('aka-cc','')||STORAGE.getItem('tealium_data_user_country','N.A.'));STORAGE.setItem('tealium_data_user_country',userCountry);return userCountry;}});UTAG.buildProp(o,{name:'User_International',customValue:function(datalayer){var userInternational;if((!datalayer.User_Country||datalayer.User_Country=='N.A.')||(!datalayer.Page_Country))userInternational='NA';else if(datalayer.User_Country==datalayer.Page_Country)userInternational='LOCAL';else userInternational='INTERNATIONAL';userInternational+=' '+datalayer.User_Country;}});UTAG.buildProp(o,{name:'User_Language',format:{transform:'uppercase'},customValue:function(datalayer){var userLanguage=datalayer.User_Language||window.navigator.language||STORAGE.getItem('tealium_data_user_language','NA');STORAGE.setItem('tealium_data_user_language',userLanguage);return userLanguage;}});UTAG.buildProp(o,{name:'User_ZipCode',customValue:function(datalayer){var userZipCode=datalayer.User_ZipCode||COOKIE.get('aka-zp','').split(/[-+]/)[0]||STORAGE.getItem('tealium_data_user_zipcode','');STORAGE.setItem('tealium_data_user_zipcode',userZipCode);return userZipCode;}});}
UTAG.buildProp(o,{name:'User_Phone_MD5',customValue:function(datalayer){if(datalayer.User_Phone_MD5)COOKIE.set('tealium_data_user_phoneMd5',datalayer.User_Phone_MD5);return datalayer.User_Phone_MD5||COOKIE.get('tealium_data_user_phoneMd5','');}});UTAG.buildProp(o,{name:'User_Segments',customValue:function(datalayer){var userSegmentsCollection=new ArrayList('string',true,true,',');userSegmentsCollection.setData(datalayer.User_Segments);{(function(){var elements=document.querySelectorAll('input[type="text"],input[type="email"]');for(var i=0;i<elements.length;i++){var value=elements[i].value;if(/@[^@]*luxottica\.com/.test(value))userSegmentsCollection.add('Luxotticans');else if(/@jetconcierge\.net|@jetspecialorder\.com/.test(value))userSegmentsCollection.add('Jet.com');}})();if(COOKIE.get('sr_token','')!=='')userSegmentsCollection.add('Shoprunner');if(COOKIE.get('isCSRSession','')!=='')userSegmentsCollection.add('CSR');}
var localUserSegments=userSegmentsCollection.getData(true);userSegmentsCollection.add(STORAGE.getItem('tealium_data_user_segments',''));window.tealium_data_user_segments=userSegmentsCollection.getData(true);STORAGE.setItem('tealium_data_user_segments',window.tealium_data_user_segments);return localUserSegments;}});};var __buildSearch=function(o){UTAG.buildProp(o,{name:'Search_Keyword',format:{transform:'lowercase'}});};var __buildCDH=function(o){UTAG.buildProp(o,{name:'CDH_Algolia_UserID',customValue:function(datalayer){return/Logged/i.test(datalayer.User_LoginStatus)&&datalayer.User_Email_MD5?datalayer.User_Email_MD5:datalayer['ut.visitor_id'];}});};var __buildSession=function(o){var currentDate=new Date();UTAG.buildProp(o,{name:'Session_Time',customValue:function(){return'y'+currentDate.getYear().toString().substring(1)
+' m'+(101+currentDate.getMonth()).toString().substring(1)
+' d'+(100+currentDate.getDate()).toString().substring(1)
+' h'+('0'+currentDate.getHours()).slice(-2)
+' w'+['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'][currentDate.getDay()];}});UTAG.buildProp(o,{name:'Session_Time_WeekNumber',format:{type:'number'},customValue:function(){var date=new Date(Date.UTC(currentDate.getFullYear(),currentDate.getMonth(),currentDate.getDate()));date.setUTCDate(date.getUTCDate()+4-(date.getUTCDay()||7));var yearStart=new Date(Date.UTC(date.getUTCFullYear(),0,1));return Math.ceil((((date-yearStart)/86400000)+1)/7);}});UTAG.buildProp(o,{name:'Session_Status',customValue:function(datalayer){return/^(On|Off)$/i.test(datalayer.Session_Status)?datalayer.Session_Status:'';}});UTAG.buildProp(o,{name:'Session_Id',defaultValue:'Unknown'});};var __buildProductsOrder=function(o){UTAG.buildProp(o,{name:'Order_Currency',format:{transform:'uppercase'},customValue:function(datalayer){return/^[a-z]{3,3}$/i.test(datalayer.Order_Currency)?datalayer.Order_Currency:'USD';}});UTAG.buildProp(o,{name:'Order_CancellationId'});UTAG.buildProp(o,{name:'Return_Type'});UTAG.buildProp(o,{name:'Order_CartId',customValue:function(datalayer){if(datalayer.Order_CartId&&!STORAGE.getItem('tealium_data_cart_id',''))STORAGE.setItem('tealium_data_cart_id',datalayer.Order_CartId);return datalayer.Order_CartId;}});UTAG.buildProp(o,{name:'Order_Id',customValue:function(datalayer){return((/ThankYou/i.test(datalayer.Page_Type)&&/Pageview:default|VirtualPage-View|Loading-Ready/i.test(datalayer.Tracking_EventId))
&&(!datalayer.Order_CancellationId)
&&(!datalayer.Return_Type))?(datalayer.Order_Id||datalayer.Order_CartId||STORAGE.getItem('tealium_data_cart_id',''))
:'';}});UTAG.buildProp(o,{name:'Order_CartUrl',customValue:function(datalayer){if(datalayer.Order_CartUrl&&!STORAGE.getItem('tealium_data_cart_url',''))STORAGE.setItem('tealium_data_cart_url',datalayer.Order_CartUrl);return datalayer.Order_CartUrl;}});UTAG.buildProp(o,{name:'Order_PaymentType',customValue:function(datalayer){return datalayer.Order_PaymentType.replace(/,GiftCard|GiftCard,/gi,'');}});UTAG.buildProductsId(o,{name:'Id',customValue:function(product){return product.Id?product.Id.replace(/_?#.*/,''):'';}});UTAG.buildProductsProp(o,{name:'Category',customValue:function(product){return product.Category?product.Category.replace(/(\s)+&\s+/g,'$1'):'N.A.';}});UTAG.buildProductsProp(o,{name:'FrameType',customValue:function(product){return/^(CP|MixMatch)$/.test(product.FrameType)?product.FrameType:'NA';}});UTAG.buildProductsProp(o,{name:'LensType',customValue:function(product){return product.LensType&&(!/CONTACT LENSES/i.test(product.Category))?product.LensType:'';}});['FrameTechnology','LensTechnology','ModelName','Shape','Sku'].forEach(function(name){UTAG.buildProductsProp(o,{name:name});});['Size','ModelCode','Lens','Frame','Case','Temple','Microbag','SecondLens','SecondMicrobag','Leash','Etching'].forEach(function(name){UTAG.buildProductsProp(o,{name:name});});['OosOptions','Brand','Engraving','Warranty','LensUPC','MoCo','Image','Url','PriceSegment',].forEach(function(name){UTAG.buildProductsProp(o,{name:name});});UTAG.buildProductsProp(o,{name:'ShippingTo',customValue:function(product){return product.ShippingTo&&o.Store_Id?(product.ShippingTo===o.Store_Id?'self':'door')+'-'+product.ShippingTo:'';}});UTAG.buildProductsProp(o,{name:'Visibility'});UTAG.buildProductsProp(o,{name:'Preorder'});UTAG.buildProductsProp(o,{name:'Status',customValue:function(product){if(product.Preorder=='1'){if(/^myluxottica2021$/.test(o['ut.profile'])){if(/Available/i.test(product.Status))return'coming soon';}
else{if(/^(Available|Out-of-stock|SoldOut)$/i.test(product.Status))return product.Status+'-PreOrder';}}
return product.Status;},defaultValue:'Unknown'});UTAG.buildProductsProp(o,{name:'Conf_IsUpcSupported',customValue:function(product){return product.Conf_IsUpcSupported==='1'?'Y':'';}});UTAG.buildProductsProp(o,{name:'Conf_Change',customValue:function(product){var configurationCounter='';if(/^Pcp$/i.test(o.Page_Type)){if((o.Events_CPLoaded=='1'||/Loading-Ready$/i.test(o.Tracking_EventId))&&product.Id){var modelCode=STORAGE.getItem('tealium_data_conf_change','').split(':')[0];if(!modelCode||product.Id!=modelCode)STORAGE.setItem('tealium_data_conf_change',(product.Id+':'+'0'),'forever');}
if(o.Events_CPRecipeChanged=='1'&&product.Id){var counter=STORAGE.getItem('tealium_data_conf_change','').split(':')[1];if(counter)STORAGE.setItem('tealium_data_conf_change',(product.Id+':'+(parseInt(counter)+1)),'forever');}
if(o.Events_CartAdd=='1'||o.Events_CPRecipeSaved=='1'){configurationCounter=STORAGE.getItem('tealium_data_conf_change','').split(':')[1]||'';STORAGE.removeItem('tealium_data_conf_change');}}
return configurationCounter;}});UTAG.buildProductsProp(o,{name:'Fg_BestMatch'});UTAG.buildProductsProp(o,{name:'Fg_Badge',customValue:function(product){return((/FrameAdv/i.test(product.Badges)||/frameadvisor=true/i.test(o.Page_QueryString))
||(/^FrameGenius$/i.test(o.Page_Section1)&&/^Pdp$/i.test(o.Page_Section2))
||o.Events_FGFit=='1'
||(/^Pdp$/i.test(o.Page_Type)&&/FrameGenius PdpClick/i.test(COOKIE.get('tealium_data_action_lastAction',''))))?'Y':'';}});UTAG.buildProductsProp(o,{name:'Fg_Badge_Lite',customValue:function(product){if(o['ut.event']==='view'){if(/^Pdp$/i.test(o.Page_Type)){var storedItem=STORAGE.getItem('tealium_data_fg_badge_lite','');var modelName=product.ModelName||'undefined';if(storedItem&&storedItem!=modelName)STORAGE.removeItem('tealium_data_fg_badge_lite');else if(!storedItem&&/FrameGenius PdpClick/i.test(COOKIE.get('tealium_data_action_lastAction','')))STORAGE.setItem('tealium_data_fg_badge_lite',modelName);}
else STORAGE.removeItem('tealium_data_fg_badge_lite');}
return product.Fg_Badge!=='Y'&&/^Pdp$/i.test(o.Page_Type)&&STORAGE.getItem('tealium_data_fg_badge_lite','')?'Y':'';}});UTAG.buildProductsProp(o,{name:'Sg_Badge',customValue:function(product){return o.Events_CartAdd=='1'?(product.Sg_Badge?product.Sg_Badge:STORAGE.getItem('Sg_Badge','')):'';}});UTAG.buildProductsProp(o,{name:'La_Badge',customValue:function(){return o.Events_CartAdd=='1'&&o.La_Badge=='1'?'Y':'';}});UTAG.buildProductsProp(o,{name:'Vm_Badge',customValue:function(){return o.Events_VMFit=='1'?'Y':'';}});UTAG.buildProductsProp(o,{name:'Recom_Badge',customValue:function(){if((/pdp/i.test(o.Page_Type)||o.Events_CartAdd=='1')&&/Recommendations Tile/i.test(COOKIE.get('tealium_data_action_lastAction','')))return'Y';if(/pdp/i.test(o.Page_Type)&&/Recommendations GiftFinder/i.test(COOKIE.get('tealium_data_action_lastAction','')))return'GiftFinder';return'';}});UTAG.buildProductsProp(o,{name:'Rtr_Badge',customValue:function(){return o.Events_RTRZoom=='1'||o.Events_RTRRotation=='1'||o.Events_RTRExplosion=='1'?'Y':'';}});UTAG.buildProductsProp(o,{name:'Fis_Badge',customValue:function(){return o.Page_Type==='Pdp'&&o.Events_FunnelStoreSearch==='1'?'Y':'';}});UTAG.buildProductsProp(o,{name:'LoyaltyExclusive'});UTAG.buildProductsProp(o,{name:'ReorderSource'});UTAG.buildProductsProp(o,{name:'Label'});UTAG.buildProductsProp(o,{name:'SpeedyRx_Eligible'});UTAG.buildProductsProp(o,{name:'SpeedyRx_Badge'});UTAG.buildProductsProp(o,{name:'MixMatch_Badge',customValue:function(product){if(product.MixMatch_Badge==='Y')return'Y';{if(o.Events_CartAdd==1||/AddToCart/.test(o.Tracking_EventId)){var lastActionStored=STORAGE.getItem('tealium_data_action_lastAction','');if(/\[(Sun)?LensPanel/i.test(lastActionStored)&&/AddCart\]/i.test(lastActionStored)){var badgeStored=STORAGE.getItem('tealium_data_mixmatch_badge','');STORAGE.removeItem('tealium_data_mixmatch_badge');return badgeStored;}}
else if(/PageView:Impression/i.test(o.Tracking_EventId)&&/^(Sun)?LensPanel$/i.test(o.Page_Section1)&&/^MixMatch$/i.test(o.Page_Section2))STORAGE.setItem('tealium_data_mixmatch_badge','Y');else if(o['ut.event']==='view'&&(!/^(Pdp|Overlay)$/i.test(o.Page_Type)||(!/PageView:Impression/i.test(o.Tracking_EventId))))STORAGE.removeItem('tealium_data_mixmatch_badge');}
return'';}});UTAG.buildProductsProp(o,{name:'Price',format:{type:'number',decimals:'2'}});UTAG.buildProductsProp(o,{name:'Units',format:{type:'number'},customValue:function(product){if((/Impression/i.test(o.Tracking_EventId)&&/QuickView/i.test(o.Page_Section2))||(/PageView/i.test(o.Tracking_EventId)&&/Pdp/i.test(o.Page_Type))||(/PageView/i.test(o.Tracking_EventId)&&/Pcp/i.test(o.Page_Type)&&/^oakley(si)?$/.test(o['ut.profile']))||(/OneConfigurator/i.test(o.Tracking_EventId)&&o.Oneconf_Action==='Loaded')||(/Loading-Ready/i.test(o.Tracking_EventId)&&/Pcp/i.test(o.Page_Type)&&o.Events_CPLoaded==='1'))return 1;return product.Units>0?product.Units:1;}});UTAG.buildProductsProp(o,{name:'PriceFull',format:{type:'number',decimals:'2'}});UTAG.buildProductsProp(o,{name:'PricePerUnits',format:{type:'number',decimals:'2'},customValue:function(product){return product.Price*product.Units;}});UTAG.buildProductsProp(o,{name:'PriceFullPerUnits',format:{type:'number',decimals:'2'},customValue:function(product){return product.PriceFull*product.Units;}});UTAG.buildProductsProp(o,{name:'DiscountPricePerUnits',customValue:function(product){return Math.round(((product.PriceFullPerUnits-product.PricePerUnits)*100)/product.PriceFullPerUnits)+'%';}});UTAG.buildProductsProp(o,{name:'CartUnits',format:{type:'number'},customValue:function(product){return product.Units;}});UTAG.buildProductsProp(o,{name:'CartUnique',format:{type:'number'},defaultValue:1});UTAG.buildProp(o,{name:'LookUp_TaxRate',format:{type:'number',decimals:'2'}});UTAG.buildProductsProp(o,{name:'TaxRate',format:{type:'number',decimals:'2'},customValue:function(product){return product.TaxRate||o.LookUp_TaxRate;}});UTAG.buildProductsProp(o,{name:'InsuranceAmount',format:{type:'number',decimals:'2',sign:'negative'}});UTAG.buildProp(o,{name:'Order_InsuranceAmount',format:{type:'number',decimals:'2',sign:'negative'},customValue:function(datalayer){var insuranceAmount=0;for(var index in datalayer.Products){if(datalayer.Products.hasOwnProperty(index))
insuranceAmount+=datalayer.Products[index].InsuranceAmount;}
return insuranceAmount||datalayer.Order_InsuranceAmount;}});UTAG.buildProp(o,{name:'Order_DiscountAmount',format:{type:'number',decimals:'2',sign:'negative'}});UTAG.buildProp(o,{name:'Order_ShippingAmount',format:{type:'number',decimals:'2'}});UTAG.buildProp(o,{name:'Order_ProductsAmount',format:{type:'number',decimals:'2'},customValue:function(){var productsAmount=0;for(var index in o.Products){if(o.Products.hasOwnProperty(index))
productsAmount+=o.Products[index].PricePerUnits;}
return productsAmount;}});UTAG.buildProductsProp(o,{name:'PriceNet',format:{type:'number',decimals:'2'},customValue:function(product){return product.PricePerUnits/(1+product.TaxRate);}});{UTAG.buildProductsProp(o,{name:'Discount',format:{type:'number',decimals:'2',sign:'negative'},customValue:function(product){return o.Order_DiscountAmount*(o.Order_ProductsAmount?product.PricePerUnits/o.Order_ProductsAmount:0);}});UTAG.buildProductsProp(o,{name:'DiscountUnits',format:{type:'number'},customValue:function(product){return product.Discount?product.Units:0;}});UTAG.buildProductsProp(o,{name:'DiscountPerUnit',format:{type:'number',decimals:'2',sign:'negative'},customValue:function(product){return product.Discount/product.Units;}});}
{UTAG.buildProductsProp(o,{name:'Revenue',format:{type:'number',decimals:'2'},customValue:function(product){return(product.PricePerUnits+product.Discount-product.InsuranceAmount)/(1+product.TaxRate);}});UTAG.buildProductsProp(o,{name:'RevenuePerUnit',format:{type:'number',decimals:'2'},customValue:function(product){return product.Revenue/product.Units;}});}
{var isGiftCardBought=(function(){for(var index in o.Products){if(o.Products.hasOwnProperty(index))
if(/gift/i.test(o.Products[index].Category))return true;}
return false;})();if(isGiftCardBought){UTAG.buildProductsProp(o,{name:'GiftCardUnits',format:{type:'number'},customValue:function(product){return/gift/i.test(product.Category)?product.Units:0;}});UTAG.buildProductsProp(o,{name:'GiftCardRevenue',format:{type:'number',decimals:'2'},customValue:function(product){return/gift/i.test(product.Category)?product.PriceNet:0;}});}}
UTAG.buildProductsProp(o,{name:'Tax',format:{type:'number',decimals:'2'},customValue:function(product){return product.Revenue*product.TaxRate;}});UTAG.buildProp(o,{name:'Order_Total',format:{type:'number',decimals:'2'},customValue:function(datalayer){var priceTaxIncluded=0;for(var index in datalayer.Products){if(datalayer.Products.hasOwnProperty(index))
priceTaxIncluded+=datalayer.Products[index].PricePerUnits+datalayer.Products[index].Discount-datalayer.Products[index].InsuranceAmount;}
return priceTaxIncluded+datalayer.Order_ShippingAmount;}});UTAG.buildProp(o,{name:'Order_ProductsRevenue',format:{type:'number',decimals:'2'},customValue:function(datalayer){var productsRevenue=0;for(var index in datalayer.Products){if(datalayer.Products.hasOwnProperty(index))
productsRevenue+=datalayer.Products[index].PriceNet;}
return productsRevenue;}});UTAG.buildProp(o,{name:'Order_Revenue',format:{type:'number',decimals:'2'},customValue:function(datalayer){var revenue=0;for(var index in datalayer.Products){if(datalayer.Products.hasOwnProperty(index))
revenue+=datalayer.Products[index].Revenue;}
return revenue;}});UTAG.buildProp(o,{name:'Order_ProductsTax',format:{type:'number',decimals:'2'},customValue:function(datalayer){var taxes=0;for(var index in datalayer.Products){if(datalayer.Products.hasOwnProperty(index))
taxes+=datalayer.Products[index].Tax;}
return taxes;}});UTAG.buildProp(o,{name:'Order_DiscountCode',customValue:function(datalayer){if(/OrderDiscountCode-Tentative/.test(datalayer.id)||(datalayer.id=='Event'&&datalayer.Events_DiscountTentative=='1')){datalayer.Events_DiscountTentative='1';datalayer.Order_DiscountCode=(datalayer.Order_DiscountCode||'Unknown')+' - tentative';}
else if(/OrderDiscountCode-Applied/.test(datalayer.id)||(datalayer.id=='Event'&&datalayer.Events_DiscountApplied=='1')){datalayer.Events_DiscountApplied='1';datalayer.Order_DiscountCode=(datalayer.Order_DiscountCode||'Unknown')+' - applied';}
if(datalayer.Order_DiscountCode){if(datalayer.Order_Id)return datalayer.Order_DiscountCode.replace(' - applied','');else return datalayer.Order_DiscountCode+=(!/ - applied| - tentative/.test(datalayer.Order_DiscountCode)?' - applied':'');}
return'';}});UTAG.buildProp(o,{name:'Order_DiscountMethod',customValue:function(datalayer){return datalayer.Order_DiscountAmount?(datalayer.Order_DiscountCode?'Discount (promo code)':'Discount'):'';}});UTAG.buildProp(o,{name:'Order_GiftCardCode',customValue:function(datalayer){if(/OrderGiftCard-Tentative/.test(datalayer.id)||(datalayer.id=='Event'&&datalayer.Events_GiftCardTentative=='1')){datalayer.Events_GiftCardTentative='1';datalayer.Order_GiftCardCode=(datalayer.Order_GiftCardCode||'Unknown')+' - tentative';}
else if(/OrderGiftCard-Applied/.test(datalayer.id)||(datalayer.id=='Event'&&datalayer.Events_GiftCardApplied=='1')){datalayer.Events_GiftCardApplied='1';datalayer.Order_GiftCardCode=(datalayer.Order_GiftCardCode||'Unknown')+' - applied';}
if(datalayer.Order_GiftCardCode){if(datalayer.Order_Id)return datalayer.Order_GiftCardCode.replace(' - applied','');else return datalayer.Order_GiftCardCode+=(!/ - applied| - tentative/.test(datalayer.Order_GiftCardCode)?' - applied':'');}
else return/GiftCard/i.test(datalayer.Order_PaymentType)?'Unknown':'';}});UTAG.buildProp(o,{name:'Order_DiscountRate',format:{type:'number',decimals:'2',sign:'negative'},customValue:function(datalayer){return datalayer.Order_ProductsAmount?datalayer.Order_DiscountAmount/datalayer.Order_ProductsAmount:0;}});UTAG.buildProp(o,{name:'Order_InsuranceCode',customValue:function(datalayer){if(/Insurance-Tentative/.test(datalayer.id)||(datalayer.id=='Event'&&datalayer.Events_InsuranceTentative=='1')){datalayer.Events_InsuranceTentative='1';return(datalayer.Order_InsuranceCode||'Unknown')+' - tentative';}
else if(/Insurance-Applied/.test(datalayer.id)||(datalayer.id=='Event'&&datalayer.Events_InsuranceApplied=='1')){datalayer.Events_InsuranceApplied='1';return(datalayer.Order_InsuranceCode||'Unknown')+' - applied';}
for(var index in datalayer.Products){if(datalayer.Products.hasOwnProperty(index)){if(typeof datalayer.Products[index].InsuranceCode==='string'&&datalayer.Products[index].InsuranceCode){datalayer.Order_InsuranceCode=datalayer.Products[index].InsuranceCode;break;}}}
if(datalayer.Order_InsuranceCode){if(datalayer.Order_Id)return datalayer.Order_InsuranceCode.replace(' - applied','');else return datalayer.Order_InsuranceCode+=(!/ - applied| - tentative/.test(datalayer.Order_InsuranceCode)?' - applied':'');}}});UTAG.buildProp(o,{name:'Order_InsuranceBenefits',customValue:function(datalayer){var benefitsList=[];for(var index in datalayer.Products){if(datalayer.Products.hasOwnProperty(index))
if(typeof datalayer.Products[index].InsuranceBenefits==='string'&&datalayer.Products[index].InsuranceBenefits)
benefitsList.push(datalayer.Products[index].InsuranceBenefits);}
return benefitsList.join(',')||datalayer.Order_InsuranceBenefits;}});UTAG.buildProp(o,{name:'Order_ShippingMode',defaultValue:'Standard'});UTAG.buildProp(o,{name:'Order_Type',customValue:function(datalayer){for(var index in datalayer.Products)
if(datalayer.Products.hasOwnProperty(index))
if(datalayer.Products[index].Preorder==='1')return'Preorder';return datalayer.Order_Type||'Standard';}});UTAG.buildProp(o,{name:'Order_SubscriptionFrequency',format:{type:'number'},customValue:function(datalayer){return datalayer.Order_SubscriptionFrequency>0?datalayer.Order_SubscriptionFrequency:0;}});UTAG.buildProp(o,{name:'Return_Reasons',customValue:function(datalayer){var reasonsList=[];for(var index in datalayer.Products){if(datalayer.Products.hasOwnProperty(index))
if(typeof datalayer.Products[index].Return_Reason==='string'&&datalayer.Products[index].Return_Reason)
reasonsList.push(datalayer.Products[index].Return_Reason);}
return reasonsList.join(',')||datalayer.Return_Reasons;}});};var __buildErrors=function(o){UTAG.buildProp(o,{name:'Error_Source'});UTAG.buildProp(o,{name:'Error_SourceLabel',customValue:function(datalayer){if(/404/i.test(datalayer.Error_Source))return datalayer['dom.referrer'].indexOf(window.location.protocol+'//'+window.location.host)===0?'CONTENT':'MARKETING';else if(/Server|Client|Anomaly/i.test(datalayer.Error_Source))return'IT';else if(/User/i.test(datalayer.Error_Source))return'UX';else if(/Product/i.test(datalayer.Error_Source))return'PRODUCT';else if(datalayer.Error_Source)return'UNKNOWN';return'';}});UTAG.buildProp(o,{name:'Error_Code',customValue:function(datalayer){var errorCode=datalayer.Error_Code?tealium_textClean(datalayer.Error_Code,'[nomultiplespaces][nobreaks]'):'';return errorCode?((datalayer.Error_SourceLabel?datalayer.Error_SourceLabel+': ':'')+errorCode):'';}});UTAG.buildProp(o,{name:'Error_Details',customValue:function(datalayer){return datalayer.Error_Details?tealium_textClean(datalayer.Error_Details,'[nomultiplespaces][nobreaks]'):'';}});};var __buildAction=function(o){if(!/view|click/.test(o['ut.event']))return;UTAG.buildProp(o,{name:'Action_Serial',format:{type:'number'},customValue:function(){return parseInt(STORAGE.getItem('tealium_data_action_lastSerial',0),10)+1;}});UTAG.buildProp(o,{name:'Action_PreviousEvent',customValue:function(datalayer){return datalayer.Action_Serial==1?(datalayer['qp.cid']?'cid':''):COOKIE.get('tealium_data_action_lastEvent','');}});UTAG.buildProp(o,{name:'Action_PreviousAction',customValue:function(datalayer){return datalayer.Action_Serial==1?('external-https'+(datalayer.Action_PreviousEvent?' '+datalayer.Action_PreviousEvent:'')):COOKIE.get('tealium_data_action_lastAction','');}});UTAG.buildProp(o,{name:'Action_PreviousPage',customValue:function(datalayer){return datalayer.Action_Serial>1?datalayer.Action_PreviousAction.split(' click ')[0]:'';}});UTAG.buildProp(o,{name:'Action_PreviousClick',customValue:function(datalayer){return datalayer.Action_Serial>1?(datalayer.Action_PreviousAction.split(' click ')[1]||''):'';}});UTAG.buildProp(o,{name:'Action_Page',customValue:function(datalayer){return datalayer.Page_Name.replace(/[\[\]\|]/g,'');}});UTAG.buildProp(o,{name:'Action_Event',customValue:function(datalayer){return datalayer['ut.event']==='click'?'click ['+datalayer.data_element_id+']['+datalayer.data_description.substring(0,25)+']':'';}});UTAG.buildProp(o,{name:'Action',customValue:function(datalayer){return datalayer.Action_Page&&datalayer.Action_Event?(datalayer.Action_Page+' '+datalayer.Action_Event):(datalayer.Action_Page||datalayer.Action_Event);}});UTAG.buildProp(o,{name:'Action_Combo',customValue:function(datalayer){return datalayer.Action&&datalayer.Action_PreviousAction?(datalayer.Action.trim()+'|'+datalayer.Action_PreviousAction.trim()):(datalayer.Action||datalayer.Action_PreviousAction).trim();}});};var __buildEventSource=function(o){var prev_action=COOKIE.get('tealium_data_action_lastAction','');var prev_pagetype=prev_action?prev_action.split(' ')[0].split(':').pop():'';var prev_event=COOKIE.get('tealium_data_action_lastEvent','');var prev_contentbox='External';if(o.Event_Source)prev_contentbox=o.Event_Source;else if(o['ut.event']==='click'&&o.data_element_id&&(Object.keys(o).filter(function(prop){if(/^Events_/.test(prop)&&o[prop]==1)return true;})).length>0){prev_contentbox=o.data_element_id.split(' ').slice(0,2).join(' ');}
else if(prev_event)prev_contentbox=prev_event.replace(/]/g,'').split('[')[1].split(' ').slice(0,2).join(' ');else prev_pagetype='';o.Event_Source=prev_pagetype&&prev_contentbox?(prev_pagetype+' '+prev_contentbox):(prev_pagetype||prev_contentbox);};this.export={buildInitContext:function(o){return ___.tryCatch(__buildInitContext,[o],'[ERROR]',__cname);},buildUpdateContext:function(o){return ___.tryCatch(__buildUpdateContext,[o],'[ERROR]',__cname);},buildResume:function(o){return ___.tryCatch(__buildResume,[o],'[ERROR]',__cname);},buildDOM:function(o){return ___.tryCatch(__buildDOM,[o],'[ERROR]',__cname);},buildCheckStorage:function(o){return ___.tryCatch(__buildCheckStorage,[o],'[ERROR]',__cname);},buildUpdatePageContext:function(o){return ___.tryCatch(__buildUpdatePageContext,[o],'[ERROR]',__cname);},buildClean:function(o){return ___.tryCatch(__buildClean,[o],'[ERROR]',__cname);},buildExternalTools:function(o){return ___.tryCatch(__buildExternalTools,[o],'[ERROR]',__cname);},buildClickMap:function(o){return ___.tryCatch(__buildClickMap,[o],'[ERROR]',__cname);},buildCore:function(o){return ___.tryCatch(__buildCore,[o],'[ERROR]',__cname);},buildPage:function(o){return ___.tryCatch(__buildPage,[o],'[ERROR]',__cname);},buildStore:function(o){return ___.tryCatch(__buildStore,[o],'[ERROR]',__cname);},buildCid:function(o){return ___.tryCatch(__buildCid,[o],'[ERROR]',__cname);},buildMid:function(o){return ___.tryCatch(__buildMid,[o],'[ERROR]',__cname);},buildUser:function(o){return ___.tryCatch(__buildUser,[o],'[ERROR]',__cname);},buildSearch:function(o){return ___.tryCatch(__buildSearch,[o],'[ERROR]',__cname);},buildCDH:function(o){return ___.tryCatch(__buildCDH,[o],'[ERROR]',__cname);},buildSession:function(o){return ___.tryCatch(__buildSession,[o],'[ERROR]',__cname);},buildProductsOrder:function(o){return ___.tryCatch(__buildProductsOrder,[o],'[ERROR]',__cname);},buildErrors:function(o){return ___.tryCatch(__buildErrors,[o],'[ERROR]',__cname);},buildAction:function(o){return ___.tryCatch(__buildAction,[o],'[ERROR]',__cname);},buildEventSource:function(o){return ___.tryCatch(__buildEventSource,[o],'[ERROR]',__cname);},buildUpdateStorage:function(o){return ___.tryCatch(__buildUpdateStorage,[o],'[ERROR]',__cname);},};}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:__cname,context:'constructor',details:e});MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},UtagBuilderCTRL.prototype));}();window.UtagTracking=function UtagTrackingCTRL(){var __cname='UtagTracking';var MLOG=__Utils__.MessageLogging;try{var ___=__Utils__.Common;var TC=__Utils__.TypeChecking;var UTAG=__Utils__.UtagHelper;var ArrayList=__Utils__.ArrayList;window.tealium_data2track=window.tealium_data2track||[];window.tealium_data2track.push=function(e){setTimeout(function(e){__track(e);},0,e);};var __stack=[];var __cleanAllOccurrences=function(eid,findList,findSensitive){var length=findList.length;for(var i=0;i<length;i++)eid=eid.replace(new RegExp((findList[i]+'-'),('g'+(findSensitive?'':'i'))),'');return eid;};var __cleanId=function(eid){var pageDevType=['M','D','X','T','R','A'];var pagePlatform=['WCS'];eid=__cleanAllOccurrences(eid,pageDevType.concat(pagePlatform),true);var otherReplaceWords=['CheckoutThankYou','CheckoutDelivery'];var pageType=['Home','Clv','Clp','Plp','EPlp','CPlp','Pdp','PClp','Pcp','Search','CartPage','Login&Register','Wishlist','Login','Delivery','Doctor','Payment','OrderSummary','Thankyou','Prescription','PrescriptionOk','FindStore','Info','Review','Confirmation','Cancellation','UserLogin','UserRegister','UserSummary','CartReturn','OrderReturn','Profile','GiftCardBalance','History','Subscriptions','FidelityCard','LoyaltyProgram','NewslForm','UserNewsl','StoreLocator','Landing','Static','Quoto','Error','LensType','LensBrand','LensMaterial','LensLight','LensColour','LensTreatment','LensTreatmentDetail','Addons','LensReview','LensPerformance','LensDesign','Connection','Facescan','Survey',];eid=__cleanAllOccurrences(eid,otherReplaceWords.concat(pageType),false);return eid;};var __checkAndSetAdobeEvent=function(datalayer){var globalEventList=UTAG.getUtagSettings('EventList');if(!globalEventList||(!Array.isArray(globalEventList)))return'link';{var length=globalEventList.length;for(var index=0;index<length;index++)if(datalayer.hasOwnProperty(globalEventList[index]))return'link';}
return'adobe_event';};var __track=function(e){try{var datacopy=___.merge((e&&/Loading-Ready/.test(e.id)?window.tealium_datacopy_onpageload:{}),e,20);var datacopy_array=UTAG.getArrayMapToString(datacopy);if(!TC.isPureObject(e)){e={};e.Error_QA='EventObject WR';}
else if(!e.id)e.Error_QA='EventID MS';e.id=TC.isString(e.id)?e.id:'';e.datacopy=datacopy;e.datacopy_array=datacopy_array;if(e.id)e.id=__cleanId(e.id);e.Tracking_Pusher='data2track.push';e.Tracking_Invalid=/(Event(Object|ID)) (MS|WR)/.test(e.Error_QA)?true:false;UTAG.updateAnalyticsLog(e,'set','data2track',{status:e.Tracking_Invalid?'error':'done',notifications:e.Tracking_Invalid?[{type:'error',text:'QA Errors: 1 => '+e.Error_QA.split(' ')[0]}]:[],datalayer:e});var tealiumEventList=new ArrayList('string',true,true,',');tealiumEventList.add(['view','link','click','popup','adobe_event']);var tealiumEvent='';switch(e.id){case'ABTest-Impression':case'Monetate-Impression':case'BounceImpression':case'BounceClick':case'Bounce-Impression':case'Bounce-Click':{tealiumEvent='popup';break;}
case'Loading-Ready':{e=___.merge(e,datacopy,20);UTAG.updateAnalyticsLog(e,'set','utag_data2track',{status:'done',datalayer:e});tealiumEvent='view';break;}
case'Click':{tealiumEvent='click';break;}
case'VirtualPage-View':case'Prods-Update':{tealiumEvent='view';break;}
case'Exam-Funnel-FindStore':{e.Page_Type='FindStore';e.Page_Section1='Exam';e.Page_Section2='';if(e.Search_Keyword||e.Search_ResultItemsQnt||e.Search_Type){e.Store_Search_Keyword=e.Search_Keyword;e.Store_Search_Type=e.Search_Type;e.Store_Search_ResultItemsQnt=e.Search_ResultItemsQnt;delete e.Search_Keyword;delete e.Search_Type;delete e.Search_ResultItemsQnt;}
if(e.Store_Search_Keyword||e.Store_Search_ResultItemsQnt||e.Store_Search_Type){e.Events_FunnelStoreSearch=1;}
tealiumEvent='view';break;}
case'Exam-Funnel-Info':{e.Page_Type='Info';e.Page_Section1='Exam';tealiumEvent='view';break;}
case'Exam-Funnel-Review':{e.Page_Type='Review';e.Page_Section1='Exam';e.Page_Section2='';tealiumEvent='view';break;}
case'Exam-Funnel-Confirmation':{e.Page_Type='Confirmation';e.Page_Section1='Exam';tealiumEvent='view';break;}
case'Checkout-Step-Delivery':{e.Page_Type='Delivery';e.Page_Section1='Checkout';e.Events_CheckoutDelivery='1';tealiumEvent='view';break;}
case'Checkout-Step-Payment':{e.Page_Type='Payment';e.Page_Section1='Checkout';e.Events_CheckoutPayment='1';tealiumEvent='view';break;}
case'Checkout-Step-Gateway':{break;}
case'MiniWishOverlay-Open':case'MiniCartOverlay-Open':case'Cart-Preview':case'Overlay-View':case'Impression':{e.Page_Type='Overlay';tealiumEvent='view';break;}
case'SignUpOverlay-Open':{e.Page_Section2=(e.Page_Section2)?''+':SignUpOverlay':'SignUpOverlay';tealiumEvent='view';break;}
case'Popup-Account-Renewal':{e.Page_Section2=(e.Page_Section2)?''+':RenewalPopup':'RenewalPopup';tealiumEvent='view';break;}
case'Event':{tealiumEvent='link';break;}
case'Checkout-Order-PrescriptionOk':{e.Events_PrescriptionOk='1';tealiumEvent='link';break;}
case'User-Newsletter-SignUpConfirm':case'SignupForm':{e.Events_UserEmailSub='1';tealiumEvent='link';break;}
case'NewsletterUnsubscribe-Confirm':case'Unsubscribe':{e.Page_Section2=(e.Page_Section2)?''+':EmailUnsubscribeConfirm':'EmailUnsubscribeConfirm';e.Events_UserEmailUnsub='1';tealiumEvent='view';break;}
case'EmailMeWhenAvailable':{e.Events_ProdViewEcomOosEmailClick='1';tealiumEvent='link';break;}
case'Account-Create':{e.Events_UserAccountNew='1';tealiumEvent='link';break;}
case'ProdFavAdd':{e.Events_ProdFavAdd='1';tealiumEvent='link';break;}
case'AddToCart':{e.Events_CartAdd='1';tealiumEvent='link';break;}
case'Prods-Delete':{e.Events_CartRemove='1';tealiumEvent='link';break;}
case'Login':{e.Events_UserLogin='1';e.User_LoginStatus='Logged';tealiumEvent='link';break;}
case'OrderDiscountCode-Tentative':case'OrderDiscountCode-Applied':{tealiumEvent='link';break;}
case'OrderGiftCard-Tentative':case'OrderGiftCard-Applied':{tealiumEvent='link';break;}
case'Insurance-Tentative':case'Insurance-Applied':{tealiumEvent='link';break;}
case'OrderCancSubmitted':{e.Events_OrderCancel='1';tealiumEvent='link';break;}
case'SearchPageReady':{e.Events_SearchRun='1';tealiumEvent='link';break;}
case'SearchFilterUpdated':{e.Events_SearchFiltering='1';tealiumEvent='link';break;}
case'ContactUs':{e.Events_ActionContactUs='1';tealiumEvent='link';break;}
case'Exam-Funnel-FindStoreResults':{e.Events_FunnelStoreSearch=1;if(e.Search_Keyword||e.Search_ResultItemsQnt||e.Search_Type){e.Store_Search_Keyword=e.Search_Keyword;e.Store_Search_Type=e.Search_Type;e.Store_Search_ResultItemsQnt=e.Search_ResultItemsQnt;delete e.Search_Keyword;delete e.Search_Type;delete e.Search_ResultItemsQnt;}
tealiumEvent='link';break;}
case'Exam-Funnel-Cancellation':{e.Events_FunnelCancellation=1;tealiumEvent='link';break;}
case'Exam-Funnel-AddExam':{e.Events_FunnelAddExam=1;tealiumEvent='link';break;}
case'VirtualMirror':{e.Vm_Action=e.Vm_Action||'';switch(e.Vm_Action){case'InitializeSuccess':{break;}
case'Ready':{break;}
case'TryOn':{break;}
case'RequestWebcam':{break;}
case'WebcamAllowed':{break;}
case'Render':{e.Events_VMRender='1';tealiumEvent='link';break;}
case'FitGlasses':{e.Events_VMFit='1';tealiumEvent='link';break;}
case'AdjustGlasses':{break;}
case'CloseMirror':{break;}}
break;}
case'OneConfigurator':{e.id+='-'+e.Oneconf_Action;switch(e.Oneconf_Action){case'Loaded':{e.Events_CPLoaded='1';var fluidConfiguratorContainer=document.getElementById('fluidConfigure');if(fluidConfiguratorContainer)fluidConfiguratorContainer.removeAttribute('data-analytics_available_call');tealiumEvent='link';break;}
case'Randomized':{break;}
case'RecipeChanged':{break;}
case'RecipeSaved':{e.Events_ProdFavAdd='1';tealiumEvent='link';break;}
case'ConfirmConf':{e.Events_CPConfirmConf='1';tealiumEvent='link';break;}
case'AddToCart':{e.Events_CartAdd='1';tealiumEvent='link';break;}
case'ApplePayGateway':{break;}
case'StartOver':{break;}
case'Closed':{e.Events_CPClosed='1';tealiumEvent='link';break;}}
break;}
case'EditorialApp':case'EditorialPage':case'EditorialFile':{e.Event_Category=e.id;e['Events_Editorial'+e.Event_Action]=1;tealiumEvent='link';break;}
case'Error':{tealiumEvent='link';break;}
default:{tealiumEvent='link';}}
if(tealiumEvent==='link'){tealiumEvent=__checkAndSetAdobeEvent(e);}
__stack.push(e);if(tealiumEventList.hasValue(tealiumEvent))utag.track(tealiumEvent,e);}catch(err){__Utils__.UtagHelper.throwSystemError('data2track',e,{component:__cname,context:'__track',details:err});}};var __init=function(){var list=window.tealium_data2track.slice(0);for(var key in list)if(list.hasOwnProperty(key))setTimeout(function(e){window.tealium_data2track.push(e);},500,list[key]);};var __size=function(){return __stack.length;};var __reset=function(from,to){var l1=[],l2=[];if(TC.isNumber(from)&&(from>-1)){l1=__stack.slice(0,from);if(TC.isNumber(to)&&(to>-1)&&(from<to))l2=__stack.slice(to);}
__stack=l1.concat(l2);};var __log=function(){if(window.console)console.log(__stack);};__init();this.export={size:function(){return ___.tryCatch(__size,[],0,__cname);},reset:function(from,to){return ___.tryCatch(__reset,[from,to],null,__cname);},log:function(){return ___.tryCatch(__log,[],null,__cname);},};}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:__cname,context:'constructor',details:e});MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},UtagTrackingCTRL.prototype));}();window.UtagTrackLimit=function UtagTrackLimitCTRL(){var __cname='UtagTrackLimit';var MLOG=__Utils__.MessageLogging;try{var ___=__Utils__.Common;var TC=__Utils__.TypeChecking;var UtagTrackLimitOptions=function UtagTrackLimitOptions(LIMIT,CONDITION){var __counter=0;var __limit=TC.isNumber(LIMIT)&&LIMIT>0?LIMIT:-1;var __condition=TC.isFunction(CONDITION)?CONDITION:null;return{incrementCounter:function(datalayerObject){if(__condition&&__condition(datalayerObject))__counter++;},isLimitReached:function(){return __counter>__limit;},};};var __data=[];var __add=function(limit,condition){__data.push(new UtagTrackLimitOptions(limit,condition));};var __update=function(datalayerObject){for(var i=0;i<__data.length;i++)__data[i].incrementCounter(datalayerObject);};var __reached=function(){for(var i=0;i<__data.length;i++)if(__data[i].isLimitReached())return true;return false;};this.export={add:function(limit,condition){return ___.tryCatch(__add,[limit,condition],null,__cname);},update:function(datalayerObject){return ___.tryCatch(__update,[datalayerObject],null,__cname);},reached:function(){return ___.tryCatch(__reached,[],null,__cname);},};}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:__cname,context:'constructor',details:e});MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},UtagTrackLimitCTRL.prototype));}();window.UtagListeners=function UtagListenersCTRL(){var __cname='UtagListeners';var MLOG=__Utils__.MessageLogging;try{var ___=__Utils__.Common;var EventsListener=new __Utils__.EventsListener();var EventsListenerSettingsList=[];var __add=function(settings){if(settings&&typeof settings==='object'&&(!Array.isArray(settings)))EventsListenerSettingsList.push(settings);};var __apply=function(){EventsListener.reset();EventsListenerSettingsList.forEach(function(settings){EventsListener.set(settings.domNode,settings.domSelectors,settings.eventName,settings.eventHandler,settings.eventOptions);});};this.export={add:function(settings){return ___.tryCatch(__add,[settings],null,__cname);},apply:function(){return ___.tryCatch(__apply,[],null,__cname);},};}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:__cname,context:'constructor',details:e});MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},UtagListenersCTRL.prototype));}();};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.utag_components="25-09-04";}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.10.1 - Utag Core Components - QA';var tealiumExtensionCode=function(){window.UtagQA=function UtagQACTRL(){var __cname='UtagQA';var MLOG=__Utils__.MessageLogging;try{var ___=__Utils__.Common;var TC=__Utils__.TypeChecking;var STORAGE=__Utils__.Storage;var UTAG=__Utils__.UtagHelper;var isAutoQAConfigured=false;var __configure=function(){if(!isAutoQAConfigured){MLOG.timeStart('AUTO QA: CONFIGURATION');AutoQAConfiguration();MLOG.timeEnd('AUTO QA: CONFIGURATION');isAutoQAConfigured=true;}};var __getCommon=function(datalayer,context_name){var common={};common.Page_Brand=UTAG.getUtagSettings('ProfileBrand');if(window.utag_data){var CDCT=AutoQAService.ConfigDatalayerContextTable;if(CDCT.isContextOnEvent(context_name)&&(!/Click|Impression/.test(datalayer[context_name]))&&(!CDCT.isEventToUseAsPageContext(datalayer[context_name]))&&(!CDCT.isEventWithPageContext(datalayer[context_name]))){common.Page_Type=window.utag_data.Page_Type;}
var deps=['Page_Brand'];for(var i=0;i<deps.length;i++)common[deps[i]]=common[deps[i]]||window.utag_data[deps[i]];}
return common;};var __getQuery=function(){var renamePropName={'^id$':'EventID','^Products\\$\\$(.)+\\$\\$':'Prod_','^Products\\$\\$(.)+':'Prod_UPC','^(Products)(_\\w+)(_Array\\$\\$(.)+)':'Prod$2','^(Products)(_\\w+)(_Array)$':'Prod$2$3',};var renameErrorMessage=function(){var causes=AutoQAService.ConfigErrorTable.getCauses();var map={};map['^'+causes.EXISTING+'$']='MS';map['^'+causes.FORMAT+'$']='FMT';map['(.)+']='WR';return map;}();var minPriority=AutoQAService.ConfigDatalayerTable.getMinPriority();var filterRows=function(selectors){return selectors['prop.priority']==minPriority&&selectors['error.priority']>-1;};return{select:['prop.name','error.message'],unique:true,groupby:'prop.priority',rename:{'prop.name':renamePropName,'error.message':renameErrorMessage,},separator:' ',filters:filterRows,};};var __getErrors=function(errorObject){var errorList=new __Utils__.ArrayList('string',true,true,',');for(var priority in errorObject){if(errorObject.hasOwnProperty(priority)){for(var index in errorObject[priority])if(errorObject[priority].hasOwnProperty(index))errorList.add(errorObject[priority][index]);}}
var results=errorList.getData(true);var variables=results.replace(/ \w+/g,'');return{count:errorList.size(),variables:variables,results:results,};};var __apply=function(datalayer,datalayerCopy,datalayerKey){MLOG.timeStart('AUTO QA: RUN');var context_name=AutoQAService.QADatalayer.findContextName(datalayer);if(context_name){var datalayerInput=datalayerCopy?datalayerCopy:datalayer;var datalayerQA={Result_QA:AutoQAService.run(datalayerInput,__getCommon(datalayerInput,context_name),UTAG.getUtagSettings('ProfileGroup')),Error_DatalayerObject:AutoQAService.QAQueryResult.apply(__getQuery()),};var errors=__getErrors(datalayerQA.Error_DatalayerObject);datalayer.Error_QA=errors.results;__Utils__.UtagHelper.updateAnalyticsLog(datalayer,'merge',datalayerKey,{status:(errors.count>0?'error':'done'),notifications:errors.count>0?[{type:'error',text:'QA Errors: '+errors.count+' => '+errors.variables.replace(/,/g,', ')}]:[],datalayer:datalayerQA});}
MLOG.timeEnd('AUTO QA: RUN');};var __run=function(datalayer,datalayerCopy,datalayerKey){if(!__Utils__.getAnalyticsLogUser('analyticsLog_User')){MLOG.showMessage({type:'warn',cname:__cname,fname:'__run',msg:'Invalid Precondition > Analytics Log is not enabled!'});return;}
__configure();__apply(datalayer,datalayerCopy,datalayerKey);};this.export={run:function(datalayer,datalayerCopy,datalayerKey){return ___.tryCatch(__run,[datalayer,datalayerCopy,datalayerKey],null,__cname);},};}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:__cname,context:'constructor',details:e});MLOG.showMessage({type:'error',cname:__cname,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}
return Object.freeze(Object.setPrototypeOf(this.export||{},UtagQACTRL.prototype));}();};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.11 - Utag Track Limit - Configuration';var tealiumExtensionCode=function(){try{if(__Utils__.UtagHelper.getUtagSettings('SinglePageApp'))return;{UtagTrackLimit.add(1000,function(o){return(/RxRenewal/i.test(o.Action_Combo)||/ RxRenewal /i.test(o.Event_Source));});UtagTrackLimit.add(200,function(o){return(/Pcp/.test(o.Page_Type)||/^OneConf:/i.test(o.Page_Section2)||/ Config /i.test(o.Event_Source));});UtagTrackLimit.add(100,function(o){return(/(Sun)?LensPanel/i.test(o.Action_Combo)||/ LensPanel /i.test(o.Event_Source));});UtagTrackLimit.add(200,function(o){return(/FrameGenius/i.test(o.Action_Combo)||/ FrameGenius /i.test(o.Event_Source));});UtagTrackLimit.add(200,function(o){return(/SizeGenius/i.test(o.Action_Combo)||/ SizeGenius /i.test(o.Event_Source));});UtagTrackLimit.add(100,function(o){return(/VirtualMirror/i.test(o.Action_Combo)||/ VirtualMirror /i.test(o.Event_Source));});UtagTrackLimit.add(100,function(o){return(/^Exam$/i.test(o.Page_Section1)||/^Exam:/i.test(o.Action_PreviousAction)||/OEE/i.test(o.Action_Combo)||/OEE/i.test(o.Event_Source));});UtagTrackLimit.add(100,function(o){return(o.Rtr_Release?true:false);});}}
catch(e){__Utils__.SystemError.throw(window.utag_data,{component:'Utag Track Limit',context:'configuration',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:'Utag Track Limit',fname:'configuration',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.utag_track_limit="24-11-01";}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='2.12 - Datalayer Initialization';var tealiumExtensionCode=function(){try{var ___=__Utils__.Common;var MLOG=__Utils__.MessageLogging;var TC=__Utils__.TypeChecking;var STORAGE=__Utils__.Storage;var UTAG=__Utils__.UtagHelper;if(window.location.search.indexOf('analytics_filter=off')>-1)STORAGE.removeItem('tealium_filter');if(window.location.search.indexOf('analytics_filter=on')>-1)STORAGE.setItem('tealium_filter','on','forever');window.utag_data=window.utag_data||{};var lastUtagVersion=STORAGE.getItem('tealium_version','');UTAG.updateAnalyticsLog(window.utag_data,'set','utagjs',{status:'done',notes:'Latest update on '+(UTAG.isUtagTodayVersion(lastUtagVersion)?'TODAY ':'')+UTAG.getUtagVersionDateTime(lastUtagVersion),});window.utag_data.datacopy=___.merge({},window.utag_data,20);window.utag_data.datacopy_array=UTAG.getArrayMapToString(window.utag_data.datacopy);window.tealium_datacopy_onpageload=window.utag_data.datacopy;UTAG.updateAnalyticsLog(window.utag_data,'set','utag_data',{status:'done',datalayer:window.utag_data,});window.utag_data.id='default';{var result=UtagBuilder.buildDOM(window.utag_data);if(TC.isError(result))throw result;{result=UtagBuilder.buildCid(window.utag_data);if(TC.isError(result))throw result;result=UtagBuilder.buildMid(window.utag_data);if(TC.isError(result))throw result;}}
UTAG.updateAnalyticsLog(window.utag_data,'set','preloader',{status:'done',datalayer:window.utag_data,});}catch(e){__Utils__.UtagHelper.throwSystemError('preloader',window.utag_data,{component:'DatalayerInitialization',context:'',details:e});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.datalayer_init="25-04-02";}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(typeof utag=="undefined"&&!utag_condload){var utag={id:"luxottica.oliverpeoples",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],db_log:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],blr_always:1,ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\.|\...\.jp$/.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
if(utag.cfg.load_rules_at_wait){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
if(utag.cfg.nonblocking_tags===true){var promises=[];var addExecutionPromise=function(self,functionToExecute,args,tagId){promises.push(async function(){try{setTimeout(function(){functionToExecute.apply(self,args)},1)}catch(e){utag.DB&&utag.DB(e);}})}
for(a=0;a<g.length;a++){addExecutionPromise(this,utag.loader.AS,[g[a]],g[a].id)}
var settlePromisesInSequence=async function(promises){const results=[];for(var i=0;i<promises.length;i++){var result=await promises[i]();results.push(result);}
return results;}
settlePromisesInSequence(promises)
.then(function(results){utag.DB('PROMISE RESULTS '+results)
if(d==0){utag.loader.END();}})}else{for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'||!utag.ut.hasOwn(a,'src')){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?utag.cfg.template+a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_luxottica.oliverpeoples_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(tid,tcat,a,b,c,d,f,g){g={};utag.loader.RDcp(g);try{if(typeof g['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(g['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0;if(c[f].tid==tid&&c[f].tcat==b[0].substring(1))return true;}
if(tcat==b[0].substring(1))return true;}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}
if(tid==b[0])return true;}}}}}catch(e){utag.DB(e)}
return false;},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=d.referrer;o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}},getCookieState:function(key){utag.loader.cookieState=utag.loader.cookieState||{};return utag.loader.cookieState[key];},setCookieState:function(key,value){utag.loader.cookieState=utag.loader.cookieState||{};utag.loader.cookieState[key]=value;return utag.loader.cookieState[key];},hasSplitUtagMainCookie:function(){if(utag.loader.getCookieState('hasSplit')===true&&utag.cfg.split_cookie===true)return true
if(utag.loader.getCookieState('hasSplit')===false&&utag.cfg.split_cookie===false)return false
var hasSplitCookies=document.cookie.includes("utag_main_")
utag.loader.setCookieState('hasSplit',hasSplitCookies)
return hasSplitCookies;},hasUtagMainCookie:function(){if(utag.loader.getCookieState('hasUnsplit')===true&&utag.cfg.split_cookie===false)return true
if(utag.loader.getCookieState('hasUnsplit')===false&&utag.cfg.split_cookie===true)return false
var hasUnsplitCookie=document.cookie.includes("utag_main=")
utag.loader.setCookieState('hasUnsplit',hasUnsplitCookie)
return hasUnsplitCookie;},convertingToSplitCookies:function(){return utag.cfg.split_cookie&&utag.loader.hasUtagMainCookie();},revertingSplitCookies:function(){return!utag.cfg.split_cookie&&utag.loader.hasSplitUtagMainCookie();},readIndividualCookies:function(){if(!document.cookie||document.cookie===""){return{};}
var cookies=document.cookie.split("; ");return cookies.reduce(function(result,cookie){var kv=cookie.split("=");if(kv[0].startsWith("utag_")){var cookieName=kv[0].split("_")[1];var cookieNameWithTag="utag_"+cookieName;if(!result[cookieNameWithTag]){result[cookieNameWithTag]={};}
var nameTrimmed=kv[0].replace(cookieNameWithTag+"_","");result[cookieNameWithTag][nameTrimmed]=String(kv[1]).replace(/%3B/g,';')}
return result;},{});},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o){var readAttr=function(o,l){var a="",b;a=localStorage.getItem(l);if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}
try{readAttr(o,"tealium_va");readAttr(o,"tealium_va_"+o["ut.account"]+"_"+o["ut.profile"]);}catch(e){utag.DB(e)}},RDut:function(o,a){var t={};var d=new Date();var m=(utag.ut.typeOf(d.toISOString)=="function");o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;o["ut.event"]=a||"view";t["tealium_event"]=o["tealium_event"]||o["ut.event"]
t["tealium_visitor_id"]=o["tealium_visitor_id"]=o["ut.visitor_id"]=o["cp.utag_main_v_id"];t["tealium_session_id"]=o["ut.session_id"]=o["cp.utag_main_ses_id"];t["tealium_session_number"]=o["cp.utag_main__sn"];t["tealium_session_event_number"]=o["cp.utag_main__se"];try{t["tealium_datasource"]=utag.cfg.datasource;t["tealium_account"]=o["ut.account"]=utag.cfg.utid.split("/")[0];t["tealium_profile"]=o["ut.profile"]=utag.cfg.utid.split("/")[1];t["tealium_environment"]=o["ut.env"]="prod";}catch(e){utag.DB(e)}
t["tealium_random"]=Math.random().toFixed(16).substring(2);t["tealium_library_name"]="ut"+"ag.js";t["tealium_library_version"]=(utag.cfg.template+"0").substring(2);t["tealium_timestamp_epoch"]=Math.floor(d.getTime()/1000);t["tealium_timestamp_utc"]=(m?d.toISOString():"");d.setHours(d.getHours()-(d.getTimezoneOffset()/60));t["tealium_timestamp_local"]=(m?d.toISOString().replace("Z",""):"");utag.ut.merge(o,t,1);},RDses:function(o,a,c){a=(new Date()).getTime();c=(a+parseInt(utag.cfg.session_timeout))+"";if(!o["cp.utag_main_ses_id"]){o["cp.utag_main_ses_id"]=a+"";o["cp.utag_main__ss"]="1";o["cp.utag_main__se"]="1";o["cp.utag_main__sn"]=(1+parseInt(o["cp.utag_main__sn"]||0))+"";}else{o["cp.utag_main__ss"]="0";o["cp.utag_main__se"]=(1+parseInt(o["cp.utag_main__se"]||0))+"";}
o["cp.utag_main__pn"]=o["cp.utag_main__pn"]||"1";o["cp.utag_main__st"]=c;var ses_id=utag.loader.addExpSessionFlag(o["cp.utag_main_ses_id"]||a);var pn=utag.loader.addExpSessionFlag(o["cp.utag_main__pn"]);var ss=utag.loader.addExpSessionFlag(o["cp.utag_main__ss"]);var st=utag.loader.addExpSessionFlag(c);var se=utag.loader.addExpSessionFlag(o["cp.utag_main__se"]);utag.loader.SC("utag_main",{_sn:(o["cp.utag_main__sn"]||1),_se:se,_ss:ss,_st:st,ses_id:ses_id,_pn:pn});},containsExpSessionFlag:function(v){return String(v).replace(/%3B/g,';').includes(";exp-session");},addExpSessionFlag:function(v){return utag.loader.containsExpSessionFlag(v)?v:v+";exp-session";},containsExpFlag:function(v){return String(v).replace(/%3B/g,';').includes(";exp-");},addExpFlag:function(v,x){return utag.loader.containsExpFlag(v)?v:v+";exp-"+String(x);},RDpv:function(o){if(typeof utag.pagevars=="function"){utag.DB("Read page variables");utag.pagevars(o);}},RDlocalStorage:function(o){if(utag.cfg.ignoreLocalStorage){return;}
Object.keys(window.localStorage).forEach(function(localStorageKey){o["ls."+localStorageKey]=window.localStorage[localStorageKey];});},RDsessionStorage:function(o){if(utag.cfg.ignoreSessionStorage){return;}
Object.keys(window.sessionStorage).forEach(function(sessionStorageKey){o["ss."+sessionStorageKey]=window.sessionStorage[sessionStorageKey];});},convertCustomMultiCookies:function(){var cookiesToConvert={}
if(utag.loader.convertingToSplitCookies()){utag.loader.mapUtagCookies(function(parentCookie){cookiesToConvert[parentCookie.key]=cookiesToConvert[parentCookie.key]||{}
parentCookie.value.split('$').forEach(function(subCookie){var key=subCookie.split(':')[0]
var value=subCookie.split(':')[1]
cookiesToConvert[parentCookie.key][key]=(String(value).indexOf('%3Bexp-')!==-1&&String(value).indexOf('%3Bexp-session')===-1)?String(value).replace(/%3B/g,';')+'u':String(value).replace(/%3B/g,';');})})}else if(utag.loader.revertingSplitCookies()){utag.loader.mapUtagCookies(function(splitCookie){var parentCookieName=splitCookie.key.match(/^utag_[^_]*/)[0];var subCookieName=splitCookie.key.split(parentCookieName+'_')[1];cookiesToConvert[parentCookieName]=cookiesToConvert[parentCookieName]||{};cookiesToConvert[parentCookieName][subCookieName]=(String(splitCookie.value).indexOf('%3Bexp-')!==-1&&String(splitCookie.value).indexOf('%3Bexp-session'))===-1?String(splitCookie.value).replace(/%3B/g,';')+'u':String(splitCookie.value).replace(/%3B/g,';');})}
if(utag.loader.convertingToSplitCookies()){utag.loader.getUtagCookies().forEach(function(cookie){utag.loader.deleteCookie(cookie.key);});}else if(utag.loader.revertingSplitCookies()){utag.loader.deleteIndividualCookies();}
Object.keys(cookiesToConvert).forEach(function(key){utag.loader.SC(key,cookiesToConvert[key]);});},RD:function(o,a){utag.DB("utag.loader.RD");utag.DB(o);utag.loader.RDcp(o);if(utag.cfg.split_cookie){utag.loader.checkCookiesAgainstWhitelist();}
if(utag.loader.convertingToSplitCookies()||utag.loader.revertingSplitCookies()){utag.loader.convertCustomMultiCookies();}
if(!utag.loader.rd_flag){utag.loader.rd_flag=1;o["cp.utag_main__pn"]=(1+parseInt(o["cp.utag_main__pn"]||0))+"";var setVId=window.utag_cfg_ovrd&&window.utag_cfg_ovrd.always_set_v_id||false;if(setVId){o["cp.utag_main_v_id"]=o["cp.utag_main_v_id"]||utag.ut.vi((new Date()).getTime());utag.loader.SC("utag_main",{"v_id":o["cp.utag_main_v_id"]});}
utag.loader.RDses(o);}
if(a&&!utag.cfg.noview)utag.loader.RDses(o);utag.loader.RDqp(o);utag.loader.RDmeta(o);utag.loader.RDdom(o);utag.loader.RDut(o,a||"view");utag.loader.RDpv(o);utag.loader.RDva(o);utag.loader.RDlocalStorage(o);utag.loader.RDsessionStorage(o);},whitelistDefined:function(){return utag.cfg.split_cookie_allowlist&&Array.isArray(utag.cfg.split_cookie_allowlist);},cookieIsAllowed:function(key){return!utag.loader.whitelistDefined()||utag.cfg.split_cookie_allowlist.includes(key);},checkCookiesAgainstWhitelist:function(){if(!utag.loader.whitelistDefined()){return;}
utag.loader.mapUtagCookies(function(cookie){if(!utag.loader.cookieIsAllowed(cookie.key.replace("utag_main_",""))){utag.loader.deleteCookie(cookie.key);}},true);},deleteIndividualCookies:function(){utag.loader.mapUtagCookies(function(cookie){utag.loader.deleteCookie(cookie.key);});},deleteCookie:function(key){document.cookie=key+"=; path=/;domain="+utag.cfg.domain+";max-age=0;";},getUtagCookies:function(onlyUtagMain=false){var cookies=document.cookie.split("; ");var result=[];for(var i=0;i<cookies.length;i++){var cookie=cookies[i];if(cookie.startsWith(onlyUtagMain?"utag_main_":"utag_")){var kv=cookie.split("=");result.push({key:kv[0],value:kv[1]});}}
return result;},mapUtagCookies:function(mapFunction,onlyUtagMain=false){var cookies=utag.loader.getUtagCookies(onlyUtagMain);for(var i=0;i<cookies.length;i++){var cookie=cookies[i];mapFunction(cookie);}},filterArray:function(array,predicate){var y=0;for(var x=0;x<array.length;x++){if(predicate(array[x])){array[y]=array[x];y++;}}
array.length=y;},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();var newMultiCookies;if(utag.loader.hasSplitUtagMainCookie()){newMultiCookies=utag.loader.readIndividualCookies();utag.loader.filterArray(b,function(cookie){return!cookie.startsWith("utag_")});}
for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(utag.ut.typeOf(j[f])=="array"){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
if(newMultiCookies){Object.keys(newMultiCookies).forEach(function(tag){o[tag]={};Object.keys(newMultiCookies[tag]).forEach(function(key){o[tag][key]=newMultiCookies[tag][key].split(';exp-')[0]})});}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();var data;exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c==="da"||(utag.cfg.split_cookie&&c==='d')){x="Thu, 31 Dec 2009 00:00:00 GMT";data=utag.loader.GV(b);}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{if(utag.cfg.split_cookie){d=utag.loader.readIndividualCookies()[a]||{};data=utag.loader.GV(b);}else{d=utag.loader.RC(a,0);}
for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(utag.ut.typeOf(d[e])=="array")?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
if(utag.loader.convertingToSplitCookies()===true){delete d[a];}
data=utag.loader.GV(d);h=new Array();for(g in data){if(utag.ut.typeOf(d[g])=="array"){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
if(utag.cfg.split_cookie&&c!=='da'&&c!=='d'){utag.loader.prepareAndWriteCookies(a,data,x);}else if(utag.cfg.split_cookie){utag.loader.mapUtagCookies(function(cookieInfo){var cookiesToDelete=Object.keys(data||{}).map(function(key){return a+'_'+key});if((c==='da'&&cookieInfo.key.startsWith(a))||(c==='d'&&cookiesToDelete.indexOf(cookieInfo.key)!==-1)){document.cookie=cookieInfo.key+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x+(utag.cfg.secure_cookie?";secure":"");}})}else{document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x+(utag.cfg.secure_cookie?";secure":"");}
return 1},prepareAndWriteCookies:function(tag,data,expiration){var defaultSessionExpirationCookies=["_pn","_ss","_st","_ses_id","_se"];var originalExpiration=expiration;if(Object.keys(data).length>0){for(var key in data){expiration=originalExpiration;if(!utag.loader.cookieIsAllowed(key)){continue;}
var value=String(data[key]);if(defaultSessionExpirationCookies.includes(key)){value=utag.loader.addExpSessionFlag(value);}
if(value.match(/exp-(\d+|session)$/)){var expValue=RegExp.$1;if(expValue==="session"&&!!utag.cfg.session_timeout){value=utag.loader.addExpSessionFlag(value);expiration=new Date();expiration.setTime(expiration.getTime()+parseInt(utag.cfg.session_timeout));expiration=expiration.toGMTString();}else{var expInt=parseInt(expValue);if(!!expInt){value=utag.loader.addExpFlag(value,expInt);expiration=new Date(expInt);expiration=expiration.toGMTString();}}}
utag.loader.writeCookie(tag+"_"+key,value,expiration);}
utag.loader.deleteCookie(tag);}},writeCookie:function(key,value,expiration){if(value.includes(";")){value=value.replace(/;/g,encodeURIComponent(";"));}
document.cookie=key+"="+value+";path=/;domain="+utag.cfg.domain+";expires="+expiration+(utag.cfg.secure_cookie?";secure":"");},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();(function(a,b,c,l){if(typeof utag_err!='undefined'&&utag_err.length>0){a='//uconnect.tealiumiq.com/ulog/_error?utid='+utag.cfg.utid;l=utag_err.length>5?5:utag_err.length;for(b=0;b<l;b++){c=utag_err[b];a+='&e'+b+'='+encodeURIComponent(c.t+'::'+c.l+'::'+c.s+'::'+c.e);}
utag.dbi.push((new Image()).src=a);}})();v=utag.cfg.path;if(b["cp.utag_main__ss"]==1&&!utag.cfg.no_session_count)utag.ut.loader({src:v+"ut"+"ag"+".v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
if(utag.cfg.noview!=true)utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{if(!utag.cfg.noconsole)console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a||{},cfg:{cb:c,uids:d}})},link:function(a,c,d){return this.track({event:'link',data:a||{},cfg:{cb:c,uids:d}})},track:function(a,b,c,d,e){a=a||{};if(typeof a=="string"){a={event:a,data:b||{},cfg:{cb:c,uids:d}}}
a.data={...a.data}
for(e in utag.loader.GV(utag.o)){utag.o[e].handler.trigger(a.event||"view",a.data||a,a.cfg||{cb:b,uids:c})}
a.cfg=a.cfg||{cb:b};if(typeof a.cfg.cb=="function")a.cfg.cb();return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){utag.DB("Loader queue");for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b,c.c)}}
},test:function(){return 1},LR:function(b){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(b);utag.loader.loadrules(b);utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c!="alr"&&!this.cfg_extend){return 0;}
utag.DB("RE: "+c);if(c=="alr")utag.DB("All Tags EXTENSIONS");utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||f[c]==0){e=1}else{if(f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a+(c&&c.uids?":"+c.uids.join(","):""));b=b||{};utag.DB(b);if(!this.iflag){utag.DB("trigger:called before tags loaded");for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:utag.handler.C(b),c:c});return;}
utag.ut.merge(b,this.df,0);utag.loader.RD(b,a);utag.cfg.noview=false;function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":utag.handler.C(b)});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(utag.cfg.nonblocking_tags===true){var promises=[];var addExecutionPromise=function(self,functionToExecute,args,tagId){promises.push(async function(){try{setTimeout(function(){functionToExecute.apply(self,args)},1)}catch(e){utag.DB&&utag.DB(e);}})}}
if(c&&c.uids){if(!utag.cfg.suppress_before_load_rules_with_uids){this.RE(a,b,"blr");}
this.RE(a,b,"alr");for(f=0;f<c.uids.length;f++){d=c.uids[f];if(utag.loader.cfg[d]&&!utag.loader.OU(utag.loader.cfg[d].tid)){if(utag.cfg.nonblocking_tags===true){addExecutionPromise(this,sendTag,[a,b,d],d)}else{sendTag(a,b,d);}}}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");this.LR(b);this.RE(a,b,"alr");for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){if(utag.cfg.nonblocking_tags===true){addExecutionPromise(this,sendTag,[a,b,d],d)}else{sendTag(a,b,d);}}}}else{this.RE(a,b,"alr");for(d in utag.loader.GV(utag.sender)){if(utag.cfg.nonblocking_tags===true){addExecutionPromise(this,sendTag,[a,b,d],d)}else{sendTag(a,b,d);}}}
if(utag.cfg.nonblocking_tags===true){var settlePromisesInSequence=async function(promises){utag.DB('PROMISES ACTIVE - '+JSON.stringify(promises),null,2);const results=[];for(var i=0;i<promises.length;i++){var result=await promises[i]();results.push(result);}
return results;}
var thisRe=this.RE.bind(this);settlePromisesInSequence(promises)
.then(function(results){utag.DB('PROMISE RESULTS '+results)
thisRe(a,b,"end");})}else{this.RE(a,b,"end");}},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(utag.ut.typeOf(a[c])=="array"){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||utag.ut.typeOf(c)=="array"){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},encode:function(a,b){b="";try{b=encodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=escape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){m.parentNode.removeChild(m);}
b=a.createElement("iframe");o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}
if(o.id){b.id=o.id};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
if(typeof o.error=="function"){utag.loader.EV(b,"error",o.error);}
if(o.type!="img"){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}}};utag.o['luxottica.oliverpeoples']=utag;utag.cfg={template:"ut4.53.",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,noconsole:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),datasource:"##UTDATASOURCE##".replace("##"+"UTDATASOURCE##",""),secure_cookie:("##UTSECURECOOKIE##".replace("##"+"UTSECURECOOKIE##","")==="true")?true:false,path:"//tags.tiqcdn.com/utag/luxottica/oliverpeoples/prod/",utid:"luxottica/oliverpeoples/202509221016",ignoreSessionStorage:false,ignoreLocalStorage:false,split_cookie:true};utag.cfg.v=utag.cfg.template+"202509221016";utag.cond={126:0,130:0,131:0,136:0,143:0,144:0,145:0,146:0,186:0,188:0,203:0,204:0,205:0,207:0,213:0,218:0,5:0,7:0,8:0};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'126':try{c[126]|=(typeof d['Page_Country']!='undefined'&&/GB|IT|DE|FR|ES/i.test(d['Page_Country']))}catch(e){utag.DB(e)};break;case'130':try{c[130]|=(typeof d['Page_Type']!='undefined'&&d['Page_Type'].toString().toLowerCase().indexOf('thankyou'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'131':try{c[131]|=(/^(EUR|CHF|DKK|NOK|PLN|SEK|TRY|GBP|USD|CAD)$/.test(d['Order_Currency']))}catch(e){utag.DB(e)};break;case'136':try{c[136]|=(typeof d['consent_status']!='undefined'&&d['consent_status'].toString().toLowerCase()=='ON'.toLowerCase())}catch(e){utag.DB(e)};break;case'143':try{c[143]|=(typeof d['Page_Country']!='undefined'&&/US|CA/i.test(d['Page_Country']))}catch(e){utag.DB(e)};break;case'144':try{c[144]|=(typeof d['Page_Country']!='undefined'&&d['Page_Country'].toString().toLowerCase().indexOf('AT'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'145':try{c[145]|=(typeof d['Page_Country']!='undefined'&&d['Page_Country'].toString().toLowerCase().indexOf('PT'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'146':try{c[146]|=(typeof d['Page_Country']!='undefined'&&d['Page_Country'].toString().toLowerCase().indexOf('NL'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'186':try{c[186]|=(typeof d['Page_Country']!='undefined'&&d['Page_Country'].toString().toLowerCase()=='US'.toLowerCase())}catch(e){utag.DB(e)};break;case'188':try{c[188]|=(d['tealium_event'].toString().indexOf('cart_view')>-1)||(d['tealium_event'].toString().indexOf('checkout_')>-1)}catch(e){utag.DB(e)};break;case'203':try{c[203]|=(typeof d['cp.cookie-policy']!='undefined'&&typeof d['cp.cookie-policy']!='undefined'&&d['cp.cookie-policy']!=''&&d['cp.cookie-policy'].toString().indexOf('"analytics":true')>-1&&typeof d['Page_Brand']!='undefined'&&/UNI/i.test(d['Page_Brand'])&&typeof d['Page_Country']!='undefined'&&d['Page_Country'].toString().toLowerCase().indexOf('US'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'204':try{c[204]|=(typeof d['Page_Country']!='undefined'&&d['Page_Country'].toString().toLowerCase()=='US'.toLowerCase()&&typeof d['Page_Brand']!='undefined'&&/RB|SGH|OO|CO|PO|OP|OSI|TO|CD|LC|NUA|GL|MYEL|S360|CL/i.test(d['Page_Brand']))||(typeof d['Page_Country']!='undefined'&&/GB|UK/i.test(d['Page_Country'])&&typeof d['Page_Brand']!='undefined'&&/OO|RB|VD|SGH/i.test(d['Page_Brand']))||(typeof d['Page_Country']!='undefined'&&/AU/i.test(d['Page_Country'])&&typeof d['Page_Brand']!='undefined'&&/SGH|OPSM/i.test(d['Page_Brand']))||(typeof d['Page_Country']!='undefined'&&/BR/i.test(d['Page_Country'])&&typeof d['Page_Brand']!='undefined'&&/RB/i.test(d['Page_Brand']))||(typeof d['Page_Country']!='undefined'&&/CA/i.test(d['Page_Country'])&&typeof d['Page_Brand']!='undefined'&&/OO|CL/i.test(d['Page_Brand']))||(typeof d['Page_Country']!='undefined'&&/EN/i.test(d['Page_Country'])&&typeof d['Page_Brand']!='undefined'&&/S360/i.test(d['Page_Brand']))||(typeof d['Page_Country']!='undefined'&&/IT/i.test(d['Page_Country'])&&typeof d['Page_Brand']!='undefined'&&/SV/i.test(d['Page_Brand']))||(typeof d['Page_Country']!='undefined'&&/JP/i.test(d['Page_Country'])&&typeof d['Page_Brand']!='undefined'&&/RB/i.test(d['Page_Brand']))||(typeof d['Page_Country']!='undefined'&&/DE/i.test(d['Page_Country'])&&typeof d['Page_Brand']!='undefined'&&/LensBest/i.test(d['Page_Brand']))}catch(e){utag.DB(e)};break;case'205':try{c[205]|=(typeof d['Tags__Abort']=='undefined')||(typeof d['Tags__Abort']!='undefined'&&d['Tags__Abort']=='')||(d['Tags__Abort']!='1')}catch(e){utag.DB(e)};break;case'207':try{c[207]|=(typeof d['Tags__Abort']=='undefined')||(typeof d['Tags__Abort']!='undefined'&&d['Tags__Abort']=='')||(d['Tags__Abort']!='1')}catch(e){utag.DB(e)};break;case'213':try{c[213]|=(typeof d['Tags__Abort']=='undefined')||(typeof d['Tags__Abort']!='undefined'&&d['Tags__Abort']=='')||(d['Tags__Abort']!='1')}catch(e){utag.DB(e)};break;case'218':try{c[218]|=(d['ut.event'].toString().toLowerCase()=='view'.toLowerCase())||(d['ut.event'].toString().toLowerCase()=='link'.toLowerCase())||(d['ut.event'].toString().toLowerCase()=='kill_visitor_session'.toLowerCase())}catch(e){utag.DB(e)};break;case'5':try{c[5]|=(typeof d['Tags_AdobeAnalytics_Abort']=='undefined')||(typeof d['Tags_AdobeAnalytics_Abort']!='undefined'&&d['Tags_AdobeAnalytics_Abort']=='')||(d['Tags_AdobeAnalytics_Abort']!='1')}catch(e){utag.DB(e)};break;case'7':try{c[7]|=(d['ut.env'].toString().toLowerCase()=='prod'.toLowerCase())}catch(e){utag.DB(e)};break;case'8':try{c[8]|=(typeof d['Page_Country']!='undefined'&&/US|GB|IT|DE|FR|ES/i.test(d['Page_Country']))}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b};var tealiumExtensionName='3.0 - Datalayer QA';var tealiumExtensionCode=function(){try{if(!b.Tracking_Invalid&&(b.id==='default'||b.Tracking_Pusher==='data2track.push')&&b['ut.event']!=='popup'){var datalayerKey=b.id==='default'?'utag_data':/Loading-Ready/.test(b.id)?'utag_data2track':'data2track';UtagQA.run(b,b.datacopy,datalayerKey);}}catch(e){__Utils__.SystemError.throw(b,{component:'Datalayer QA',context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:'Datalayer QA',fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.datalayer_qa="24-12-01";}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b};var tealiumExtensionName='3.1.1 - Datalayer Repairer - CROSS PATCHES';var tealiumExtensionCode=function(){try{{if(!(b['ut.env']==='prod'||(__Utils__.getAnalyticsLogUser()==='lwa')))return;if(__Utils__.UtagHelper.getUtagSettings('noview','global')&&b.id==='default')return;}
{var input,patchList;var sendBug=function(datalayer,prop,issue,input,output){if(datalayer.Patch_Message)return;if(input===output)return;var patchMessage=prop+' '+issue+' > IN: '+input+', OUT: '+output;patchList=patchList||__Utils__.Storage.getItem('tealium_patch_list','');if(patchList&&RegExp(patchMessage).test(patchList))return;datalayer.Patch_Message=patchMessage;patchList=patchList?[patchList,patchMessage].join(','):patchMessage;__Utils__.Storage.setItem('tealium_patch_list',patchList);};delete b.Patch_Message;if(b['ut.event']==='click'&&/^(X|D|M|R|A)_/.test(b.data_element_id)){input=b.data_element_id;b.data_element_id=b.data_element_id.split('_').slice(2).join('_');sendBug(b,'data_element_id','Wrong',input,b.data_element_id);}
if(typeof b.Page_DeviceType==='string'&&b.Page_DeviceType){input=b.Page_DeviceType;b.Page_DeviceType=b.Page_DeviceType
.replace(/^wall43.*/i,'wall43')
.replace(/^ip.*/i,'ipad')
.replace(/^m.*/i,'mobile')
.replace(/^t.*/i,'tablet')
.replace(/^d.*/i,'desktop')
.replace(/^x.*|^a.*./i,'all');sendBug(b,'Page_DeviceType','Wrong',input,b.Page_DeviceType);}
if(!b.Page_Language){if(b['ut.event']==='view'&&b.id!='Impression'){input=b.Page_Language;(function(){var consent_language=window.utag_data?window.utag_data[__Utils__.UtagHelper.getUtagSettings('gdprDLRef','global')||null]:'';if(!consent_language)consent_language=document.documentElement&&document.documentElement.lang?document.documentElement.lang:'';if(consent_language)b.Page_Language=consent_language.split('-')[0].toUpperCase();})();sendBug(b,'Page_Language','Wrong',input,b.Page_Language);}}
if(typeof b.Page_Country==='string'&&b.Page_Country){input=b.Page_Country;b.Page_Country=b.Page_Country
.replace(/M[1-3]/i,'MEA')
.replace(/S[1-3]/i,'SEE');sendBug(b,'Page_Country','Wrong',input,b.Page_Country);if(b.Page_Country!='Unknown')__Utils__.Storage.setItem('tealium_data_page_countryLast',b.Page_Country);}else{if(b['ut.event']==='view'&&b.id!='Impression'){input=b.Page_Country;if(__Utils__.Storage.getItem('tealium_data_page_countryLast','')){b.Page_Country=__Utils__.Storage.getItem('tealium_data_page_countryLast','');__Utils__.Storage.removeItem('tealium_data_page_countryLast');}
sendBug(b,'Page_Country','Missing',input,b.Page_Country);}}
if(typeof b.Page_Name==='string'&&b.Page_Name){sendBug(b,'Page_Name','Not Required',b.Page_Name,undefined);}
if(b.Products){for(var index in b.Products){if(b.Products.hasOwnProperty(index)&&b.Products[index]){if(!/nua/i.test(window.utag_cfg_ovrd.custom_settings.ProfileBrand)){if(/electronic/i.test(b.Products[index].Category)){input=b.Products[index].Category;b.Products[index].Category='Electronics';sendBug(b,'Category','Wrong',input,b.Products[index].Category);}}
if((''+b.Products[index].Type)=='STD'){if(b.Products[index].FrameType){input=b.Products[index].FrameType;delete b.Products[index].FrameType;sendBug(b,'FrameType','Wrong',input,b.Products[index].FrameType);}
if(b.Products[index].LensType!='PLANO'){input=b.Products[index].LensType;b.Products[index].LensType='PLANO';sendBug(b,'LensType',(input?'Wrong':'Missing'),input,b.Products[index].LensType);}}else if((''+b.Products[index].Type)=='RX'){if(!/RX|PLANO/i.test(b.Products[index].LensType)){input=b.Products[index].LensType;b.Products[index].LensType='RX';sendBug(b,'LensType',(input?'Wrong':'Missing'),input,b.Products[index].LensType);}
if(/CP/.test(index)){if(b.Products[index].FrameType!='CP'){input=b.Products[index].FrameType;b.Products[index].FrameType='CP';sendBug(b,'FrameType',(input?'Wrong':'Missing'),input,b.Products[index].FrameType);}}else{if(b.Products[index].FrameType){input=b.Products[index].FrameType;delete b.Products[index].FrameType;sendBug(b,'FrameType','Wrong',input,b.Products[index].FrameType);}}}else if((''+b.Products[index].Type)=='CP'){if(b.Products[index].FrameType!='CP'){input=b.Products[index].FrameType;b.Products[index].FrameType='CP';sendBug(b,'FrameType',(input?'Wrong':'Missing'),input,b.Products[index].FrameType);}
if(/-7Y|-7H|-DE|-00|-65|-RH|-RY/.test(b.Products[index].Lens)){if(b.Products[index].LensType!='RX'){input=b.Products[index].LensType;b.Products[index].LensType='RX';sendBug(b,'LensType',(input?'Wrong':'Missing'),input,b.Products[index].LensType);}}else{if(b.Products[index].LensType!='PLANO'){input=b.Products[index].LensType;b.Products[index].LensType='PLANO';sendBug(b,'LensType',(input?'Wrong':'Missing'),input,b.Products[index].LensType);}}}}}}
if(b.Order_PaymentType){input=b.Order_PaymentType;b.Order_PaymentType=b.Order_PaymentType.trim()
.replace(/YKB_|Garnt_/i,'')
.replace(/master( )?card/i,'MasterCard')
.replace(/amex|american( )?express/i,'Amex')
.replace(/visa/i,'Visa')
.replace(/amex/i,'Amex')
.replace(/COD|Cash On Delivery/i,'Cash-On-Delivery')
.replace(/SOFORT/i,'Sofort')
.replace(/ideal/i,'Ideal')
.replace(/Gift Card/i,'GiftCard')
.replace(/apple( )?pay/i,'ApplePay');b.Order_PaymentType=/PaypalExp/i.test(b.Order_PaymentType)?'PayPalExpressCheckout':/ApplePayExp/i.test(b.Order_PaymentType)?'ApplePayExpressCheckout':b.Order_PaymentType;sendBug(b,'Order_PaymentType','Wrong',input,b.Order_PaymentType);}}}catch(e){__Utils__.SystemError.throw(b,{component:'Datalayer Repairer > CrossPatches',context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:'Datalayer Repairer > CrossPatches',fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.datalayer_repairer="25-09-04";}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b};var tealiumExtensionName='3.1.2 - Datalayer Builder - Page Country';var tealiumExtensionCode=function(){try{if(!b.Page_Country&&window.utag_data&&window.utag_data.Page_Country)b.Page_Country=window.utag_data.Page_Country;__Utils__.UtagHelper.buildProp(b,{name:'Page_Country',format:{transform:'uppercase'},customValue:function(datalayer){return datalayer.Page_Country
.replace(/uk/i,'gb')
.replace(/\s/g,'');},defaultValue:'unknown'});}catch(e){__Utils__.SystemError.throw(b,{component:'DatalayerBuilder > Page_Country',context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:'DatalayerBuilder > Page_Country',fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.datalayer_builder_page_country="25-09-04";}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){if((typeof b['Page_Country']!='undefined'&&typeof b['Page_Country']!='undefined'&&b['Page_Country']!='')){d=b['Page_Country'];if(typeof d=='undefined')return;c=[{'^(AT|BE|CY|DE|EE|ES|FI|FR|GR|IE|IT|LT|LU|LV|MT|NL|PT|SK|SI)$':'EUR'},{'^AE$':'AED'},{'^AU$':'AUD'},{'^BR$':'BRL'},{'^CA$':'CAD'},{'^CH$':'CHF'},{'^CN$':'CNY'},{'^CZ$':'CZK'},{'^DK$':'DKK'},{'^(GB|UK)$':'GBP'},{'^HK$':'HKD'},{'^IN$':'INR'},{'^JP$':'JPY'},{'^KR$':'KRW'},{'^MX$':'MXN'},{'^NO$':'NOK'},{'^NZ$':'NZD'},{'^PL$':'PLN'},{'^TR$':'TRY'},{'^US$':'USD'},{'^SE$':'SEK'},{'^MY$':'MYR'},{'^SG$':'SGD'},{'^TH$':'THB'},{'^PH$':'PHP'},{'^HU$':'HUF'},{'^RO$':'RON'},{'^ZA$':'ZAR'},{'^MA$':'MAD'},{'^EG$':'EGP'},{'^PK$':'PKR'},{'^VN$':'VND'},{'^BG$':'BGN'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){g=new RegExp(f,'i');if(g.test(d)){b['Order_Currency']=c[e][f];m=true};};if(m)break};if(!m)b['Order_Currency']='';}},function(a,b,c,d,e,f,g){if((typeof b['Page_Country']!='undefined'&&typeof b['Page_Country']!='undefined'&&b['Page_Country']!='')){d=b['Page_Country'];if(typeof d=='undefined')return;c=[{'^BR$':'0.2725'},{'^HU$':'0.27'},{'^(DK|NO|SE)$':'0.25'},{'^(FI|GR)$':'0.24'},{'^(IE|PL|PT)$':'0.23'},{'^(IT|SI)$':'0.22'},{'^(BE|CZ|ES|LT|LV|NL|RO)$':'0.21'},{'^(AT|EE|FR|GB|SK|MA)$':'0.2'},{'^(CY|DE)$':'0.19'},{'^(MT|TR|PK)$':'0.18'},{'^(CN|LU)$':'0.17'},{'^MX$':'0.16'},{'^ZA$':'0.15'},{'^EG$':'0.14'},{'^NZ$':'0.125'},{'^PH$':'0.12'},{'^(AU|JP|MY|KR)$':'0.10'},{'^CH$':'0.077'},{'^(SG|TH)$':'0.07'},{'^(CA|HK|IN|US)$':'0.00'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){g=new RegExp(f,'i');if(g.test(d)){b['LookUp_TaxRate']=c[e][f];m=true};};if(m)break};if(!m)b['LookUp_TaxRate']='0.00';}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b};var tealiumExtensionName='3.1.6 - Datalayer Builder';var tealiumExtensionCode=function(){try{if(__Utils__.UtagHelper.getUtagSettings('noview','global')&&b.id==='default')return;{var build=function(cmds){for(var i=0;i<cmds.length;i++){var result=UtagBuilder['build'+cmds[i]](b);if(__Utils__.TypeChecking.isError(result))__Utils__.UtagHelper.throwSystemError('builder',b,{component:'Datalayer Builder',context:'build'+cmds[i],details:result});}};build(['DOM']);build(['InitContext']);{if(b.Tracking_Invalid){build(['CheckStorage']);build(['Cid']);}
else if(b['ut.event']==='popup'){build(['ExternalTools']);}
else if(b['ut.event']==='click'){build(['Resume','CheckStorage']);build(['ClickMap','Core','Page','Store','Cid','Session','Action','EventSource']);}
else{build((b.id==='default'?[]:['Resume']).concat(['CheckStorage','UpdatePageContext']));build(['Clean','Core','Page','Store','Cid','User','Search','CDH','Session','ProductsOrder','Errors','Action','EventSource']);}}
UtagTrackLimit.update(b);__Utils__.UtagHelper.updateAnalyticsLog(b,'set','builder',{status:'done',datalayer:b});}}catch(e){__Utils__.UtagHelper.throwSystemError('builder',b,{component:'Datalayer Builder',context:'constructor',details:e});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.datalayer_builder="25-09-04";}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b};var tealiumExtensionName='3.1.7 - Datalayer Builder - Abort Settings';var tealiumExtensionCode=function(){try{if(__Utils__.UtagHelper.getUtagSettings('noview','global')&&b.id==='default')return;{b.Tags__Abort=(function(b){{if(__Utils__.Storage.getItem('tealium_filter','')=='on')return 1;if((!b.Tags_AdobeAnalytics_TrafficSourceCid_ThisSession||b.Tags_AdobeAnalytics_TrafficSourceCid_ThisSession=='')&&(window.screen.availHeight=='2000'&&window.screen.availWidth=='2000'))return 1;if(b.Tracking_Pusher=='utag.track')return 1;if(b.Tracking_Type=='hiddenaction')return 1;if(b['ut.event']!=='view'){if(b['ut.event']==='click'&&b.Action_Serial==1)return 1;if(b['ut.event']!=='click'&&(!__Utils__.Storage.getItem('tealium_data_action_lastSerial','')))return 1;}
if(b['ut.event']==='click'){if(b.data_element_id&&__Utils__.Storage.getItem('tealium_data_element_id_'+b.data_element_id,'')=='0')return 1;if(!b.data_element_id&&b.data_analytics_available_call=='0')return 1;}
if(b.Events_CPRecipeChanged=='1'&&(Object.keys(b).filter(function(prop){if(/^Events_/.test(prop)&&b[prop]=='1')return true;})).length==1)return 1;if(UtagTrackLimit.reached())return 1;}
return 0;})(b);__Utils__.UtagHelper.updateAnalyticsLog(b,'merge','builder',{status:'done',datalayer:{Tags__Abort:b.Tags__Abort}});}}catch(e){__Utils__.UtagHelper.throwSystemError('builder',b,{component:'Datalayer Builder > Abort Settings',context:'constructor',details:e});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.datalayer_builder_abort="24-11-02";}}catch(e){utag.DB(e)}},function(a,b){try{if(/^PageView:default$/i.test(b['Tracking_EventId'])){b['Tags__Abort']='1'}}catch(e){utag.DB(e);}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b};var tealiumExtensionName='3.1.8 - Datalayer Builder - Update Context + Storage';var tealiumExtensionCode=function(){try{if(__Utils__.UtagHelper.getUtagSettings('noview','global')&&b.id==='default')return;{var build=function(cmds){for(var i=0;i<cmds.length;i++){var result=UtagBuilder['build'+cmds[i]](b);if(__Utils__.TypeChecking.isError(result))__Utils__.UtagHelper.throwSystemError('builder',b,{component:'Datalayer Builder > Update Context + Storage',context:'run:'+cmds[i],details:result});}};build(['UpdateContext']);if(b['ut.event']!=='popup')build(['UpdateStorage']);__Utils__.UtagHelper.updateAnalyticsLog(b,'set','builder',{status:'done',datalayer:b});}}catch(e){__Utils__.UtagHelper.throwSystemError('builder',b,{component:'Datalayer Builder > Update Context + Storage',context:'constructor',details:e});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.datalayer_builder_update="25-04-02";}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b};var tealiumExtensionName='3.3 - Tealium Event Mapping';var tealiumExtensionCode=function(){try{if(b['ut.event']==='view')b.tealium_event='page_view';if(b['ut.event']==='view'&&/^home$/i.test(b.Page_Type))b.tealium_event='home_view';if(b.Events_UserLogin=='1')b.tealium_event='user_login';if(b.Events_ProdFavAdd=='1')b.tealium_event='fav_add';if(b.Events_CartAdd=='1')b.tealium_event='cart_add';if(b.Events_CartRemove=='1')b.tealium_event='cart_remove';if(b['ut.event']==='view'&&/^(CartPage|Cart)$/i.test(b.Page_Type)&&(!/^Empty$/i.test(b.Page_Design)))b.tealium_event='cart_view';if(b['ut.event']==='view'&&/^(Plp|Clp|Clv)$/i.test(b.Page_Type))b.tealium_event='category_view';if(b['ut.event']==='view'&&(/^(Pdp|Pcp)$/i.test(b.Page_Type)||/^QuickView$/i.test(b.Page_Section1)))b.tealium_event='product_view';if(b['ut.event']==='view'&&/^(Delivery)$/i.test(b.Page_Type))b.tealium_event='checkout_delivery';if(b['ut.event']==='view'&&/^(Payment)$/i.test(b.Page_Type))b.tealium_event='checkout_payment';if(b['ut.event']==='view'&&/^(OrderSummary)$/i.test(b.Page_Type))b.tealium_event='checkout_summary';if(b.Events_UserEmailSub=='1')b.tealium_event='email_signup';if(b.Events_UserAccountNew=='1')b.tealium_event='user_register';if(b['ut.event']==='view'&&/^ThankYou$/i.test(b.Page_Type))b.tealium_event='purchase';if(b['ut.event']==='view'&&((/^FindStore/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1))||/^FindStore$/i.test(b.Page_Section2)))b.tealium_event='exam_step1';if(b.Events_FunnelStoreSearch=='1'||b.Store_Search_Keyword||b.Store_Search_Type)b.tealium_event='exam_search';if(b['ut.event']==='view'&&/^Info$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1)&&/^Question1$/i.test(b.Page_Section2))b.tealium_event='exam_question1';if(b['ut.event']==='view'&&/^Info$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1)&&/^Question2$/i.test(b.Page_Section2))b.tealium_event='exam_question2';if(b['ut.event']==='view'&&/^Info$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1)&&/^Question3$/i.test(b.Page_Section2))b.tealium_event='exam_question3';if(b['ut.event']==='view'&&/^Info$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1)&&/^Question4$/i.test(b.Page_Section2))b.tealium_event='exam_question4';if(b['ut.event']==='view'&&/^Info$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1)&&/^Question5$/i.test(b.Page_Section2))b.tealium_event='exam_question5';if(b['ut.event']==='view'&&/^Info$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1)&&/^Scheduler$/i.test(b.Page_Section2))b.tealium_event='exam_scheduler';if(b['ut.event']==='view'&&/^Info$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1)&&(!b.Page_Section2||/^PersonalInfo$/i.test(b.Page_Section2)))b.tealium_event='exam_step2';if(b['ut.event']==='view'&&b.Page_Type=='Review'&&/^Exam$/i.test(b.Page_Section1))b.tealium_event='exam_review';if(b['ut.event']==='view'&&b.Page_Type=='Confirmation'&&/^Exam$/i.test(b.Page_Section1))b.tealium_event='exam_confirmation';if(b.Events_FindStoreOpen=='1')b.tealium_event='find_store_open';if(b.Events_VMRender=='1')b.tealium_event='vm_render';}catch(e){__Utils__.SystemError.throw(b,{component:'TealiumEvent > Mapping',context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:'TealiumEvent > Mapping',fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['User_Email_MD5']=='undefined'&&typeof b['qp.h5e']!='undefined'&&typeof b['qp.h5e']!='undefined'&&b['qp.h5e']!=''&&b['qp.h5e'].toString().toLowerCase()!='d41d8cd98f00b204e9800998ecf8427e'.toLowerCase())||(typeof b['User_Email_MD5']=='undefined'&&typeof b['User_Email_MD5']!='undefined'&&b['User_Email_MD5']==''&&typeof b['qp.h5e']!='undefined'&&typeof b['qp.h5e']!='undefined'&&b['qp.h5e']!=''&&b['qp.h5e'].toString().toLowerCase()!='d41d8cd98f00b204e9800998ecf8427e'.toLowerCase())){b['User_Email_MD5']=b['qp.h5e']}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['User_Email_MD5']!='undefined'&&b['User_Email_MD5'].toString().toLowerCase()=='d41d8cd98f00b204e9800998ecf8427e'.toLowerCase())){b['User_Email_MD5']=''}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['User_Email_MD5']!='undefined'&&typeof b['User_Email_MD5']!='undefined'&&b['User_Email_MD5']!=''&&b['User_Email_MD5'].toString().toLowerCase()!='d41d8cd98f00b204e9800998ecf8427e'.toLowerCase())){document.cookie="md5="+b['User_Email_MD5']+";path=/;domain="+utag.cfg.domain+";expires=Thu, 31 Dec 2099 00:00:00 GMT";b['cp.md5']=b['User_Email_MD5'];}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['qp.ad']!='undefined'&&typeof b['qp.ad']!='undefined'&&b['qp.ad']!='')){if(typeof b['cp.tealium_data_ad']=='undefined'){document.cookie="tealium_data_ad="+b['qp.ad']+";path=/;domain="+utag.cfg.domain+";expires=";b['cp.tealium_data_ad']=b['qp.ad'];}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['qp.loyaltysignal']!='undefined'&&typeof b['qp.loyaltysignal']!='undefined'&&b['qp.loyaltysignal']!=''&&b['qp.loyaltysignal'].toString().toLowerCase()=='1'.toLowerCase())){if(typeof b['cp.tealium_data_cj_loyalty']=='undefined'){document.cookie="tealium_data_cj_loyalty="+b['qp.loyaltysignal']+";path=/;domain="+utag.cfg.domain+";expires=";b['cp.tealium_data_cj_loyalty']=b['qp.loyaltysignal'];}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){var userConsentState=window.utag&&utag.gdpr&&utag.gdpr.getConsentState?utag.gdpr.getConsentState():0;b.CJTagIsConsent=userConsentState?(userConsentState==1||userConsentState[8].ct==1?1:0):0;}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b};var tealiumExtensionName='4.0 - Analytics Log - Update';var tealiumExtensionCode=function(){try{if(window.utag_cfg_ovrd&&window.utag_cfg_ovrd.noview&&/^default$/.test(b.id))return;__Utils__.UtagHelper.updateAnalyticsLog(b,'set','before_load_rules',{status:'done',datalayer:b});}catch(e){__Utils__.UtagHelper.throwSystemError('before_load_rules',b,{component:'Analytics Log > Update',context:'Before Load Rules',details:e});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.analytics_log_update_first="24-11-03";}}catch(e){utag.DB(e)}},function(a,b,c,d){b._ccity=(typeof b['']!='undefined')?b['']:'';b._ccountry=(typeof b['User_Country']!='undefined')?b['User_Country']:'';b._ccurrency=(typeof b['Order_Currency']!='undefined')?b['Order_Currency']:'';b._ccustid=(typeof b['User_IdTimeStamp']!='undefined')?b['User_IdTimeStamp']:'';b._corder=(typeof b['Order_Id']!='undefined')?b['Order_Id']:'';b._cpromo=(typeof b['Order_DiscountCode']!='undefined')?b['Order_DiscountCode']:'';b._cship=(typeof b['Order_ShippingAmount']!='undefined')?b['Order_ShippingAmount']:'';b._cstate=(typeof b['']!='undefined')?b['']:'';b._cstore=(typeof b['Page_Country']!='undefined')?b['Page_Country']:'web';b._csubtotal=(typeof b['Order_ProductsRevenue']!='undefined')?b['Order_ProductsRevenue']:'';b._ctax=(typeof b['Order_ProductsTax']!='undefined')?b['Order_ProductsTax']:'';b._ctotal=(typeof b['Order_Total']!='undefined')?b['Order_Total']:'';b._ctype=(typeof b['Order_PaymentType']!='undefined')?b['Order_PaymentType']:'';b._czip=(typeof b['User_ZipCode']!='undefined')?b['User_ZipCode']:'';b._cprod=(typeof b['Products_Id_Array']!='undefined'&&b['Products_Id_Array'].length>0)?b['Products_Id_Array']:[];b._cprodname=(typeof b['Products_ModelName_Array']!='undefined'&&b['Products_ModelName_Array'].length>0)?b['Products_ModelName_Array']:[];b._cbrand=(typeof b['Products_Brand_Array']!='undefined'&&b['Products_Brand_Array'].length>0)?b['Products_Brand_Array']:[];b._ccat=(typeof b['Products_Category_Array']!='undefined'&&b['Products_Category_Array'].length>0)?b['Products_Category_Array']:[];b._ccat2=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._cquan=(typeof b['Products_Units_Array']!='undefined'&&b['Products_Units_Array'].length>0)?b['Products_Units_Array']:[];b._cprice=(typeof b['Products_RevenuePerUnit_Array']!='undefined'&&b['Products_RevenuePerUnit_Array'].length>0)?b['Products_RevenuePerUnit_Array']:[];b._csku=(typeof b['Products_Sku_Array']!='undefined'&&b['Products_Sku_Array'].length>0)?b['Products_Sku_Array']:[];b._cpdisc=(typeof b['Products_DiscountPerUnit_Array']!='undefined'&&b['Products_DiscountPerUnit_Array'].length>0)?b['Products_DiscountPerUnit_Array']:[];if(b._cprod.length==0){b._cprod=b._csku.slice()};if(b._cprodname.length==0){b._cprodname=b._csku.slice()};function tf(a){if(a==''||isNaN(parseFloat(a))){return a}else{return(parseFloat(a)).toFixed(2)}};b._ctotal=tf(b._ctotal);b._csubtotal=tf(b._csubtotal);b._ctax=tf(b._ctax);b._cship=tf(b._cship);for(c=0;c<b._cprice.length;c++){b._cprice[c]=tf(b._cprice[c])};for(c=0;c<b._cpdisc.length;c++){b._cpdisc[c]=tf(b._cpdisc[c])};},function(a,b){try{if((b['dom.query_string'].toString().indexOf('cid=')<0&&typeof b['Tags_AdobeAnalytics_TrafficSourceCid_LastFirst']!='undefined'&&b['Tags_AdobeAnalytics_TrafficSourceCid_LastFirst']==''&&b['cp.utag_main__pn'].toString().toLowerCase()=='1'.toLowerCase())){if(typeof b['cp.TrafficSource_Override']=='undefined'){document.cookie="TrafficSource_Override="+'1'+";path=/;domain="+utag.cfg.domain+";expires=";b['cp.TrafficSource_Override']='1';}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){window.utag_data.Tags_Tealium_Triggered_Array=[];}}catch(e){utag.DB(e)}},function(a,b){try{if(1){b.Page_Consent='Not Opted';if(b['cp.OptanonConsent']){if(b['cp.OptanonAlertBoxClosed']){var oneTrustConsentGroups=((b['cp.OptanonConsent'].split('&groups=')[1]||'').replace(/&[^]*/,'').split(',').filter(function(group){return/:1$/.test(group);})+'').replace(/:1/g,'').split(',')||[];if(oneTrustConsentGroups.length<2)b.Page_Consent='Opt-Out All';else{var _performance=/C0002/.test(oneTrustConsentGroups)?'1':'0';var functional=/C0003/.test(oneTrustConsentGroups)?'1':'0';var targeting=/C0004/.test(oneTrustConsentGroups)?'1':'0';if(_performance===functional&&functional===targeting)b.Page_Consent=_performance==='1'?'Opt-In All':'Opt-Out All';else b.Page_Consent='Opt-In Partial: Performance '+_performance+' - Functional '+functional+' - Targeting '+targeting;}}}
else if(window.claripCookieManager){if(b['cp.clarip_consent']){var claripConsentGroups=b['cp.clarip_consent'].split(',');if(claripConsentGroups.length<2)b.Page_Consent='Opt-Out All';else{if(claripConsentGroups.length>2)b.Page_Consent='Opt-In All';else{var analytics=/1/.test(claripConsentGroups)?'1':'0';var marketing=/2/.test(claripConsentGroups)?'1':'0';b.Page_Consent='Opt-In Partial: Analytics '+analytics+' - Marketing '+marketing;}}}}
else if(window.utag&&utag.gdpr&&utag.gdpr.consent_prompt&&utag.gdpr.consent_prompt.isEnabled&&typeof utag.gdpr.getCookieValues==='function'){var tealiumConsent=utag.gdpr.getCookieValues()||{};if(tealiumConsent.consent){if(tealiumConsent.consent==='false')b.Page_Consent='Opt-Out All';else{if(!tealiumConsent.c1)b.Page_Consent='Opt-In All';else{var analytics=tealiumConsent.c1;var social=tealiumConsent.c7;var marketing=tealiumConsent.c9;if(analytics===social&&social===marketing)b.Page_Consent=analytics==='1'?'Opt-In All':'Opt-Out All';else b.Page_Consent='Opt-In Partial: Analytics '+analytics+' - Social '+social+' - Marketing '+marketing;}}}}
else b.Page_Consent='Disabled';}}catch(e){utag.DB(e)}},function(a,b){try{if(1){window._uxa=window._uxa||[];window._uxa.push(['setPIISelectors',{PIISelectors:[".fa__profile-picture-box, .rb-frame-genius-my-account__icon, .frame-advisor--floating-button, .render-canvas, .mirror-canvas-output, #screenshot img, #webcam-target, #framegenius-ui button, #img_takePhoto, #frameadv-wrapper button, .user-pic, .user-avatar"]}]);}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(typeof utag!="undefined"){if(utag.ut.md5===undefined){var md5=function(t,n){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!=typeof global&&global.crypto&&(r=global.crypto),!r&&"function"==typeof require)
try{r=require("crypto")}catch(t){}
var e=function(){if(r){if("function"==typeof r.getRandomValues)
try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}
if("function"==typeof r.randomBytes)
try{return r.randomBytes(4).readInt32LE()}catch(t){}}
throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}
return function(n){var r;return t.prototype=n,r=new t,t.prototype=null,r}}(),o={},s=o.lib={},a=s.Base={extend:function(t){var n=i(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)
t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=a.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var n=this.words,r=t.words,e=this.sigBytes,i=t.sigBytes;if(this.clamp(),e%4)
for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;n[e+o>>>2]|=s<<24-(e+o)%4*8}
else
for(o=0;o<i;o+=4)
n[e+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var n=this.words,r=this.sigBytes;n[r>>>2]&=4294967295<<32-r%4*8,n.length=t.ceil(r/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var n=[],r=0;r<t;r+=4)
n.push(e());return new c.init(n,t)}}),u=o.enc={},f=u.Hex={stringify:function(t){for(var n=t.words,r=t.sigBytes,e=[],i=0;i<r;i++){var o=n[i>>>2]>>>24-i%4*8&255;e.push((o>>>4).toString(16)),e.push((15&o).toString(16))}
return e.join("")},parse:function(t){for(var n=t.length,r=[],e=0;e<n;e+=2)
r[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new c.init(r,n/2)}},h=u.Latin1={stringify:function(t){for(var n=t.words,r=t.sigBytes,e=[],i=0;i<r;i++){var o=n[i>>>2]>>>24-i%4*8&255;e.push(String.fromCharCode(o))}
return e.join("")},parse:function(t){for(var n=t.length,r=[],e=0;e<n;e++)
r[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new c.init(r,n)}},d=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},l=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var r,e=this._data,i=e.words,o=e.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,f=t.min(4*u,o);if(u){for(var h=0;h<u;h+=s)
this._doProcessBlock(i,h);r=i.splice(0,u),e.sigBytes-=f}
return new c.init(r,f)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(s.Hasher=l.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,r){return new t.init(r).finalize(n)}},_createHmacHelper:function(t){return function(n,r){return new p.HMAC.init(t,r).finalize(n)}}}),o.algo={});return o}(Math);(function(t){var n=md5,r=n.lib,e=r.WordArray,i=r.Hasher,o=n.algo,s=[];!function(){for(var n=0;n<64;n++)
s[n]=4294967296*t.abs(t.sin(n+1))|0}();var a=o.MD5=i.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,n){for(var r=0;r<16;r++){var e=n+r,i=t[e];t[e]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}
var o=this._hash.words,a=t[n+0],d=t[n+1],l=t[n+2],p=t[n+3],y=t[n+4],g=t[n+5],w=t[n+6],v=t[n+7],_=t[n+8],m=t[n+9],B=t[n+10],x=t[n+11],b=t[n+12],S=t[n+13],H=t[n+14],z=t[n+15],C=o[0],M=o[1],A=o[2],D=o[3];C=c(C,M,A,D,a,7,s[0]),D=c(D,C,M,A,d,12,s[1]),A=c(A,D,C,M,l,17,s[2]),M=c(M,A,D,C,p,22,s[3]),C=c(C,M,A,D,y,7,s[4]),D=c(D,C,M,A,g,12,s[5]),A=c(A,D,C,M,w,17,s[6]),M=c(M,A,D,C,v,22,s[7]),C=c(C,M,A,D,_,7,s[8]),D=c(D,C,M,A,m,12,s[9]),A=c(A,D,C,M,B,17,s[10]),M=c(M,A,D,C,x,22,s[11]),C=c(C,M,A,D,b,7,s[12]),D=c(D,C,M,A,S,12,s[13]),A=c(A,D,C,M,H,17,s[14]),C=u(C,M=c(M,A,D,C,z,22,s[15]),A,D,d,5,s[16]),D=u(D,C,M,A,w,9,s[17]),A=u(A,D,C,M,x,14,s[18]),M=u(M,A,D,C,a,20,s[19]),C=u(C,M,A,D,g,5,s[20]),D=u(D,C,M,A,B,9,s[21]),A=u(A,D,C,M,z,14,s[22]),M=u(M,A,D,C,y,20,s[23]),C=u(C,M,A,D,m,5,s[24]),D=u(D,C,M,A,H,9,s[25]),A=u(A,D,C,M,p,14,s[26]),M=u(M,A,D,C,_,20,s[27]),C=u(C,M,A,D,S,5,s[28]),D=u(D,C,M,A,l,9,s[29]),A=u(A,D,C,M,v,14,s[30]),C=f(C,M=u(M,A,D,C,b,20,s[31]),A,D,g,4,s[32]),D=f(D,C,M,A,_,11,s[33]),A=f(A,D,C,M,x,16,s[34]),M=f(M,A,D,C,H,23,s[35]),C=f(C,M,A,D,d,4,s[36]),D=f(D,C,M,A,y,11,s[37]),A=f(A,D,C,M,v,16,s[38]),M=f(M,A,D,C,B,23,s[39]),C=f(C,M,A,D,S,4,s[40]),D=f(D,C,M,A,a,11,s[41]),A=f(A,D,C,M,p,16,s[42]),M=f(M,A,D,C,w,23,s[43]),C=f(C,M,A,D,m,4,s[44]),D=f(D,C,M,A,b,11,s[45]),A=f(A,D,C,M,z,16,s[46]),C=h(C,M=f(M,A,D,C,l,23,s[47]),A,D,a,6,s[48]),D=h(D,C,M,A,v,10,s[49]),A=h(A,D,C,M,H,15,s[50]),M=h(M,A,D,C,g,21,s[51]),C=h(C,M,A,D,b,6,s[52]),D=h(D,C,M,A,p,10,s[53]),A=h(A,D,C,M,B,15,s[54]),M=h(M,A,D,C,d,21,s[55]),C=h(C,M,A,D,_,6,s[56]),D=h(D,C,M,A,z,10,s[57]),A=h(A,D,C,M,w,15,s[58]),M=h(M,A,D,C,S,21,s[59]),C=h(C,M,A,D,y,6,s[60]),D=h(D,C,M,A,x,10,s[61]),A=h(A,D,C,M,l,15,s[62]),M=h(M,A,D,C,m,21,s[63]),o[0]=o[0]+C|0,o[1]=o[1]+M|0,o[2]=o[2]+A|0,o[3]=o[3]+D|0},_doFinalize:function(){var n=this._data,r=n.words,e=8*this._nDataBytes,i=8*n.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(e/4294967296),s=e;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var f=c[u];c[u]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}
return a},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,n,r,e,i,o,s){var a=t+(n&r|~n&e)+i+s;return(a<<o|a>>>32-o)+n}
function u(t,n,r,e,i,o,s){var a=t+(n&e|r&~e)+i+s;return(a<<o|a>>>32-o)+n}
function f(t,n,r,e,i,o,s){var a=t+(n^r^e)+i+s;return(a<<o|a>>>32-o)+n}
function h(t,n,r,e,i,o,s){var a=t+(r^(n|~e))+i+s;return(a<<o|a>>>32-o)+n}
n.MD5=i._createHelper(a),n.HmacMD5=i._createHmacHelper(a)}(Math));}else{var md5=utag.ut.md5;}
if(typeof utag.Utils=="undefined")utag.Utils={};if(typeof utag.Utils.generateEventID=="undefined"){utag.Utils.generateEventID=function(event,data,lookup_id){var hash_input=(data["tealium_timestamp_epoch"]||(function(){var d=new Date();return Math.floor(d.getTime()/1000);})())+"-"+lookup_id+"-"+event+"-"+b['ut.session_id'],event_id=md5.MD5(hash_input).toString();return event_id;};}
lookup_id=b.tealium_random;if(typeof lookup_id!=="undefined"){if(typeof utag.globals=="undefined")utag.globals={};utag.globals[lookup_id]=window.utag.globals[lookup_id]||{};}else{lookup_id=Math.random().toFixed(16).substring(2);utag.DB("send:##UTID##: The tealium_random variable was not defined. Any Facebook event IDs generated will not be collected by Tealium Collect. Please ensure you are using the latest version of utag.js to generate a tealium_random value.");}
if(b.tealium_random){var event_id="";if(typeof b.tealium_event!="undefined"&&b.tealium_event!=""){event_id=utag.Utils.generateEventID(b.tealium_event,b,lookup_id);}else{event_id=utag.Utils.generateEventID(b.Page_Type,b,lookup_id);}
b["fb_event_id_generic"]=event_id;if(window.utag.globals[b.tealium_random]){if(typeof b.tealium_event!="undefined"&&b.tealium_event!=""){window.utag.globals[b.tealium_random]["fb_event_id_"+b.tealium_event]=event_id;}else{window.utag.globals[b.tealium_random]["fb_event_id_"+b.Page_Type]=event_id;}
}}else{utag.DB("send:##UTID##: Event ID Generation is enabled, but the tealium_random value was not found in the data layer. No event ID was generated for "+event_name);}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b};var tealiumExtensionName='4.LAST - Analytics Log - Update';var tealiumExtensionCode=function(){try{if(window.utag_cfg_ovrd&&window.utag_cfg_ovrd.noview&&/^default$/.test(b.id))return;__Utils__.UtagHelper.updateAnalyticsLog(b,'set','after_load_rules',{status:'done',datalayer:b});if(b['ut.event']==='view')__Utils__.UtagHelper.updateAnalyticsLog(b,'set','latest_click',{status:'done',notes:b.Action_PreviousEvent||'No Action'});__Utils__.UtagHelper.updateAnalyticsLog(b,'set','adobe',{status:'missing',notes:b.Tags__Abort=='1'?'Aborted':'Processing'});}catch(e){__Utils__.UtagHelper.throwSystemError('after_load_rules',b,{component:'Analytics Log > Update',context:'After Load Rules',details:e});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.analytics_log_update_last="24-11-03";}}catch(e){utag.DB(e)}},function(a,b){try{if((b['ut.env'].toString().toLowerCase().indexOf('prod'.toLowerCase())<0&&b['tealium_event'].toString().toLowerCase().indexOf('purchase'.toLowerCase())>-1&&b['ut.event'].toString().toLowerCase().indexOf('view'.toLowerCase())>-1)||(b['ut.env'].toString().toLowerCase().indexOf('prod'.toLowerCase())<0&&b['tealium_event'].toString().toLowerCase().indexOf('checkout_payment'.toLowerCase())>-1&&b['Page_Type'].toString().toLowerCase().indexOf('payment'.toLowerCase())>-1&&b['ut.event'].toString().toLowerCase().indexOf('view'.toLowerCase())>-1)){try{var c=b;c.event="view";dataLayer.push(c);}
catch(err){}}}catch(e){utag.DB(e)}}];utag.handler.cfg_extend=[{"end":0,"alr":0,"blr":1,"bwq":0,"id":"142"},{"bwq":0,"blr":1,"end":0,"alr":0,"id":"118"},{"bwq":0,"blr":1,"end":0,"alr":0,"id":"133"},{"id":"134","end":0,"blr":1,"alr":0,"bwq":0},{"end":0,"alr":0,"blr":1,"bwq":0,"id":"135"},{"id":"89","end":0,"blr":1,"alr":0,"bwq":0},{"id":"137","end":0,"blr":1,"alr":0,"bwq":0},{"id":"131","end":0,"blr":1,"alr":0,"bwq":0},{"bwq":0,"blr":1,"end":0,"alr":0,"id":"138"},{"end":0,"alr":0,"blr":1,"bwq":0,"id":"127"},{"end":0,"alr":0,"blr":1,"bwq":0,"id":"79"},{"end":0,"alr":0,"blr":1,"bwq":0,"id":"108"},{"bwq":0,"blr":1,"end":0,"alr":0,"id":"77"},{"end":0,"alr":0,"blr":1,"bwq":0,"id":"155"},{"bwq":0,"blr":1,"end":0,"alr":0,"id":"164"},{"bwq":0,"blr":1,"end":0,"alr":0,"id":"165"},{"end":0,"alr":1,"blr":0,"bwq":0,"id":"153"},{"id":"4","end":0,"blr":0,"alr":1,"bwq":0},{"id":"114","end":0,"blr":0,"alr":1,"bwq":0},{"id":"140","bwq":0,"alr":1,"end":0,"blr":0},{"bwq":0,"blr":0,"end":0,"alr":1,"id":"117"},{"id":"105","bwq":0,"alr":1,"end":0,"blr":0},{"id":"115","end":0,"blr":0,"alr":1,"bwq":0},{"end":0,"alr":1,"blr":0,"bwq":0,"id":"154"},{"bwq":0,"blr":0,"end":0,"alr":1,"id":"166"}];if(utag.gdpr){var consentEnabled=true;var preferencesEnabled=true;var doNotSellEnabled=false;utag.gdpr.doNotSell=utag.gdpr.doNotSell||{};utag.gdpr.preferences_prompt=utag.gdpr.preferences_prompt||{};utag.gdpr.consent_prompt=utag.gdpr.consent_prompt||{};utag.gdpr.applyConsentState=function(){var enforcementMode=utag.gdpr.getEnforcementMode();if(enforcementMode==='none')return;utag.DB('Consent Manager: Applying consent');try{var i,lc=utag.loader.cfg,cs=utag.gdpr.getConsentState(),ot=utag.gdpr.omittedTags||{"2":1,"86":1,"71":1,"18":1};if(typeof cs==='number'){if((utag.gdpr.consent_prompt.isEnabled&&parseInt(cs)!==1)||((!consentEnabled&&preferencesEnabled&&enforcementMode==='opt-in')&&(parseInt(cs)===-1||parseInt(cs)===0))){utag.DB('Consent Manager: Setting all tags to off');for(i in utag.loader.GV(lc)){if(typeof ot[i]==='undefined'){lc[i].load=0;}}}}else if(((utag.gdpr.consent_prompt.isEnabled||utag.gdpr.preferences_prompt.isEnabled)||(!consentEnabled&&preferencesEnabled))&&enforcementMode==='opt-in'){utag.DB('Consent Manager: Partial Consent');for(i in utag.loader.GV(lc)){if(typeof ot[i]==='undefined'){if(lc[i].tcat>0&&cs[lc[i].tcat-1].ct!='1'){lc[i].load=0;}}}}var btl=utag.gdpr.dns?utag.gdpr.dns.getBlockedDnsTagLookup():null;utag.DB('Consent Manager: Do Not Sell Tags');if(enforcementMode==='opt-out'&&btl){for(i in utag.loader.GV(lc)){if(parseInt(btl[i])===1){lc[i].load=0;}}}try{if(window.tealiumConsentRegister&&window.tealiumConsentRegister.currentDecision===null){var cookieValues=utag.gdpr.getCookieValues();var hasDnsCookie=typeof cookieValues.dns==='string';var hasConsentCookie=typeof cookieValues.consent==='string';var decisionType=(enforcementMode==='opt-in'&&hasConsentCookie)||(enforcementMode==='opt-out'&&hasDnsCookie)?'explicit':'implicit';var decision=(decisionType==='implicit'&&enforcementMode==='opt-in')?[]:utag.gdpr.getSelectedCategories();decision.unshift('always_on');decision.type=decisionType;window.tealiumConsentRegister.addConsentDecision(decision);}}catch(e){utag.DB(e);}}catch(e){utag.DB(e);}};utag.gdpr.promptEnabledSetting=function(){if(!utag.gdpr.dr&&(utag.cfg.readywait||utag.cfg.waittimer)){utag.gdpr.dr=1;return;}utag.gdpr.consent_prompt.wasInitiallyEnabled=consentEnabled;utag.gdpr.preferences_prompt.wasInitiallyEnabled=preferencesEnabled;utag.gdpr.doNotSell.wasInitiallyEnabled=doNotSellEnabled;if(consentEnabled===true&&!(1)){utag.gdpr.consent_prompt.isEnabled=false;}if(preferencesEnabled===true&&(consentEnabled===true&&!(1))){utag.gdpr.preferences_prompt.isEnabled=false;}if(doNotSellEnabled===true&&!(1)){utag.gdpr.doNotSell.isEnabled=false;}if(preferencesEnabled===true&&consentEnabled===false&&!(1)){utag.gdpr.preferences_prompt.isEnabled=true;}};var splitGdprModules=false;if(typeof utag.gdpr.getEnforcementMode!=='function'){splitGdprModules=true;}utag.gdpr.getEnforcementMode=function(){utag.gdpr.promptEnabledSetting();var optInModulesAreActive=(utag.gdpr.consent_prompt&&utag.gdpr.consent_prompt.isEnabled===true);var optOutModuleIsActive=(utag.gdpr.doNotSell&&utag.gdpr.doNotSell.isEnabled===true);var optInPreferencesOnly=(!optInModulesAreActive&&!utag.gdpr.consent_prompt.wasInitiallyEnabled&&utag.gdpr.preferences_prompt.wasInitiallyEnabled&&!optOutModuleIsActive)||(splitGdprModules&&utag.gdpr.preferences_prompt&&utag.gdpr.preferences_prompt.wasInitiallyEnabled);var enforcementMode='opt-in';if(optOutModuleIsActive&&!optInModulesAreActive)enforcementMode='opt-out';if(!optOutModuleIsActive&&optInPreferencesOnly)enforcementMode='opt-in';if(!optOutModuleIsActive&&!optInModulesAreActive&&!optInPreferencesOnly)enforcementMode='none';return enforcementMode;};}utag.loader.initcfg=function(){utag.loader.cfg={"86":{load:4,send:((utag.cond[213])),tcat:1,v:202507280950,wait:0,tid:7143},"70":{load:4,send:(((utag.cond[204]||utag.cond[203])&&(utag.cond[205]))),tcat:1,v:202509150945,wait:1,tid:3131},"2":{load:4,send:(((utag.cond[207])&&(utag.cond[5]))),tcat:1,v:202508250932,wait:1,tid:19063},"3":{load:(((utag.cond[213])&&(utag.cond[7]))),tcat:1,send:1,v:202507280950,wait:1,tid:7110},"14":{load:(((utag.cond[8])&&(utag.cond[213]))),tcat:9,send:1,v:202507280950,wait:1,tid:6026},"16":{load:(((utag.cond[126])&&(utag.cond[213]))),tcat:9,send:1,v:202507280950,wait:1,tid:6026},"25":{load:(((utag.cond[213])&&(utag.cond[143]))),tcat:9,send:1,v:202507280950,wait:1,tid:2063},"21":{load:(((utag.cond[213])&&(utag.cond[131]))),tcat:9,send:1,v:202507280950,wait:1,tid:4049},"19":{load:(((utag.cond[213])&&(utag.cond[126]))),tcat:9,send:1,v:202507280950,wait:1,tid:7132},"20":{load:(((utag.cond[213])&&(utag.cond[126])&&(utag.cond[130]))),tcat:9,send:1,v:202507280950,wait:1,tid:7132},"27":{load:(((utag.cond[213])&&(utag.cond[144]))),tcat:9,send:1,v:202507280950,wait:1,tid:7132},"30":{load:(((utag.cond[213])&&(utag.cond[144])&&(utag.cond[130]))),tcat:9,send:1,v:202507280950,wait:1,tid:7132},"28":{load:(((utag.cond[213])&&(utag.cond[145]))),tcat:9,send:1,v:202507280950,wait:1,tid:7132},"31":{load:(((utag.cond[213])&&(utag.cond[145])&&(utag.cond[130]))),tcat:9,send:1,v:202507280950,wait:1,tid:7132},"29":{load:(((utag.cond[213])&&(utag.cond[146]))),tcat:9,send:1,v:202507280950,wait:1,tid:7132},"32":{load:(((utag.cond[213])&&(utag.cond[146])&&(utag.cond[130]))),tcat:9,send:1,v:202507280950,wait:1,tid:7132},"34":{load:(((utag.cond[213])&&(utag.cond[188])&&(utag.cond[186]))),tcat:9,send:1,v:202507280950,wait:1,tid:4049},"36":{load:((utag.cond[213])),tcat:9,send:1,v:202507280950,wait:1,tid:20010},"39":{load:4,send:(((utag.cond[213])&&(utag.cond[218]))),tcat:9,v:202507280950,wait:1,tid:20064},"71":{load:((utag.cond[213])),tcat:9,send:1,v:202507280950,wait:1,tid:20067},"87":{load:((utag.cond[213])),tcat:1,send:1,v:202507280950,wait:1,tid:7142}};utag.loader.cfgsort=["86","70","2","3","14","16","25","21","19","20","27","30","28","31","29","32","34","36","39","71","87"];if(utag.gdpr&&utag.gdpr.getEnforcementMode()==='opt-in'){Object.keys(utag.loader.cfg).forEach(function(tagId){if(utag.loader.cfg[tagId].tcat===16){utag.DB('Consent Manager: Removing uncategorized tag from utag.loader.cfg in opt-in mode: '+tagId);delete utag.loader.cfg[tagId];utag.loader.cfgsort=utag.loader.cfgsort.filter(function(id){return id!==tagId;});}})}}
utag.loader.initcfg();try{utag.gdpr.applyConsentState();}catch(e){utag.DB(e)}}
utag.gdpr={trackUIDs:[],consent_prompt:{noShow:false,isEnabled:true,content:{}},preferences_prompt:{single_cookie:false,noShow:false,isEnabled:true,defaultState:false,content:{},categories:{"uncategorized":{"id":16,"enabled":"0"},"analytics":{"enabled":"1","id":1},"search":{"id":4,"enabled":"1"},"display_ads":{"enabled":"1","id":3},"social":{"id":7,"enabled":"1"},"cdp":{"enabled":"1","id":11},"cookiematch":{"enabled":"1","id":10},"big_data":{"id":8,"enabled":"1"},"crm":{"id":15,"enabled":"1"},"affiliates":{"enabled":"1","id":2},"misc":{"enabled":"1","id":9},"personalization":{"enabled":"1","id":6},"monitoring":{"id":14,"enabled":"1"},"email":{"id":5,"enabled":"1"},"engagement":{"enabled":"1","id":13},"mobile":{"enabled":"1","id":12}}},doNotSell:{noShow:false,isEnabled:false},getCategories:function(onlyEnabledCats){if(!(utag.gdpr.preferences_prompt&&utag.gdpr.preferences_prompt.categories)){return[];}
var length=utag.gdpr.keys(utag.gdpr.preferences_prompt.categories).length,cats=new Array(length),gdpr_cats=utag.gdpr.preferences_prompt.categories;for(var cat in gdpr_cats){if(!gdpr_cats.hasOwnProperty(cat)){continue;}
var isCatEnabled=gdpr_cats[cat].enabled===true||gdpr_cats[cat].enabled==1;if(onlyEnabledCats&&!isCatEnabled){continue;}
cats[gdpr_cats[cat].id-1]=cat;}
for(var i=cats.length-1;i>=0;i--){if(cats[i]===undefined){cats.splice(i,1);}}
return cats;},getSelectedCategories:function(){var sc=[],gc=utag.gdpr.getCategories(true),cs=utag.gdpr.getConsentState(),i;try{if(typeof cs==="number"){return(parseInt(cs)===1)?gc:sc;}else{for(i in utag.loader.GV(cs)){if("1"===cs[i].ct){sc.push(cs[i].name);}}}}
catch(e){utag.DB(e);}
return sc;},getCategoryLanguage:function(category){if(!(utag.gdpr.preferences_prompt&&utag.gdpr.preferences_prompt.categories)){return[];}
var language=utag.gdpr.getLanguage(utag.gdpr.preferences_prompt);return utag.gdpr.preferences_prompt.languages[language].categories[category];},getConsentState:function(){var re=/^c\d+/,cd=utag.gdpr.getCookieValues(),np=1,gc=utag.gdpr.getCategories(),pc=(function(gc){var pc=[];for(var i=0;i<gc.length;i++){pc.push({ct:null,name:gc[i]});}
return pc;}(gc)),filteredCD=(function(cd){var d={};for(var prop in cd){if(!cd.hasOwnProperty(prop)){continue;}
if(re.test(prop)){d[prop]=cd[prop];}}
return d;}(cd));filteredCD=utag.gdpr.sortedObject(filteredCD,function(val1,val2){var idx1=parseInt((val1||"").substring(1),10),idx2=parseInt((val2||"").substring(1),10);if(isNaN(idx1)||isNaN(idx2)){return 0;}
return idx1>idx2?1:-1;});for(var cn in utag.loader.GV(filteredCD)){if(cn.match(re)){var idx=parseInt(cn.substring(1),10)-1,ct=gc[idx];pc[idx].ct=cd[cn];if(cd[cn]*1!==1){np=0;}}}
if(cd.consent){if(cd.consent===true||cd.consent==="true"){return np?np:pc;}else{return-1;}}else if(np===0){return pc;}else{return 0;}},getCookieValues:function(){var values={},rcd=(function(){var value="; "+document.cookie;var parts=value.split("; "+utag.gdpr.cookieNS+"=");if(parts.length==2)return utag.ut.decode(parts.pop().split(";").shift());}()),cd=utag.gdpr.typeOf(rcd)==="string"?rcd:"";if(utag.data&&cd){utag.data["cp."+utag.gdpr.cookieNS]=cd;}
if(cd){var i,optOut,optOutData=decodeURI(cd).split("|");for(i=0;i<optOutData.length;i++){optOut=optOutData[i].split(":");values[optOut[0]]=optOut[1];}}
utag.gdpr.values=values;return values;},getDeTokenizedContent:function(data,_lang){if(utag.gdpr.isEmpty(data))return null;var tokenRegExpPattern=/{{(.*?)}}/gm,token_match=/[{}]/g,two_part=/display_ads|big_data/;var lang=utag.gdpr.getLanguage(data,_lang),langData=utag.gdpr.clone(data.languages[lang]);for(var t1 in utag.gdpr.sortedObject(langData.common_tokens)){if(!langData.common_tokens.hasOwnProperty(t1)){continue;}
langData.common_tokens[t1]=tokenReplace(langData.common_tokens[t1]);}
for(var t2 in utag.gdpr.sortedObject(langData.custom_tokens)){if(!langData.custom_tokens.hasOwnProperty(t2)){continue;}
langData.custom_tokens[t2]=tokenReplace(langData.custom_tokens[t2]);}
function tokenReplace(str){if(!str)return str;var replacements=str.match(tokenRegExpPattern);if(!replacements)return str;for(var i=0;i<replacements.length;i++){var token=replacements[i].replace(token_match,"")||"";var regExpReplaceAll=new RegExp(replacements[i],"g");if(langData.common_tokens[token]){str=str.replace(regExpReplaceAll,langData.common_tokens[token]);}else if(langData.custom_tokens[token]){str=str.replace(regExpReplaceAll,langData.custom_tokens[token]);}else if(langData.categories&&token.indexOf("category_")>-1){var split_token=token.split("_");if(token.match(two_part)){split_token[1]=split_token[1]+"_"+split_token[2];split_token.splice(2,1);}
var category=langData.categories[split_token[1]],key={"title":"name","description":"notes"}[split_token[2]];if(category[key]){str=str.replace(regExpReplaceAll,category[key]);}}}
return str;}
return{language:lang,tokens:langData,js:tokenReplace(data.content.js),html:tokenReplace(data.content.html),css:tokenReplace(data.content.css)};},getLanguage:function(promptData,preferredLang){var udoName=window.utag.udoname||"utag_data";var dataObject=window.utag.data||window[udoName];var langLocale=(preferredLang||dataObject[window.utag.cfg.gdprDLRef]||(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)).toLowerCase();var lang=(langLocale||"").split("-")[0];if(!promptData){return langLocale;}
var languages=promptData.languages;return languages[langLocale]?langLocale:languages[lang]?lang:promptData.defaultLang;},getTokenLanguage:function(promptData,token,lang){if(utag.gdpr.isEmpty(promptData))return null;if(utag.gdpr.isEmpty(token))return null;var getDeTokenizedContent=utag.gdpr.getDeTokenizedContent(promptData,lang);var langData=getDeTokenizedContent.tokens;if(lang&&getDeTokenizedContent.language!==lang)return null;if(utag.gdpr.isEmpty(langData))return null;if(langData.common_tokens[token]){return langData.common_tokens[token];}else if(langData.custom_tokens[token]){return langData.custom_tokens[token];}else if(langData.categories&&token.indexOf("category_")>-1){var split_token=token.split("_"),category=langData.categories[split_token[1]];if(category[split_token[2]]){return category[split_token[2]];}}
return null;},refreshCookie:function(){if(utag&&utag.DB){utag.DB("utag.gdpr.refreshCookie has been deprecated");}},setCookie:function(cookieData){utag.DB("Consent Manager: Set Cookie");if(utag.gdpr.typeOf(cookieData)!=="object"){return;}
if(utag.gdpr.keys(cookieData).length===0){return;}
var consentType=utag.gdpr.typeOf(cookieData.consent);if(consentType==="number"){cookieData.consent=cookieData.consent==1;consentType=utag.gdpr.typeOf(cookieData.consent);}
if(consentType!=="boolean"&&!(consentType==="string"&&(cookieData.consent.toLowerCase()==="true"||cookieData.consent.toLowerCase()==="false"))){utag.DB("Invalid option sent to setCookie [consent must be true/false]");return;}
if(utag.gdpr.typeOf(cookieData.ts)!=="number"||(cookieData.ts.toString().length!==13)){cookieData.ts=new Date().getTime();}
utag.gdpr.values=cookieData;var mo2Val=[];for(var i in utag.loader.GV(cookieData)){if(/^(consent|dns|ts|id|c\d+)$/.test(i)){mo2Val.push(i+":"+cookieData[i]);}else{utag.DB("Invalid option sent to setCookie ["+i+"], is unknown");}}
var daysToSet=utag.gdpr.consentPeriod;if(!daysToSet){var expiryMonths=cookieData.dns==undefined?12:13;var today=new Date();today.setMonth(today.getMonth()+expiryMonths);daysToSet=Math.ceil((today.getTime()-new Date().getTime())/(1000*60*60*24));}
var expiry=new Date(cookieData.ts);expiry.setDate(expiry.getDate()+daysToSet);var cookie_string=[utag.gdpr.cookieNS+"="+encodeURI(mo2Val.join("|")),"path="+utag.gdpr.path,"expires="+expiry.toGMTString()];if(utag.gdpr.domain){cookie_string.push("domain="+utag.gdpr.domain);}
document.cookie=cookie_string.join("; ");utag.data["cp."+utag.gdpr.cookieNS]=mo2Val.join("|");},defaultConsentForDoNotSell:function(key,cookieData){if(key==='dns'){var consentType=utag.gdpr.typeOf(cookieData.consent);if(consentType==="undefined"){utag.DB("Consent Manager: Defaulting missing consent for Do Not Sell.");cookieData.consent="true";}}
return cookieData;},setCookieValue:function(key,value){utag.DB("Consent Manager: Set Cookie Value");if(!key||(utag.gdpr.typeOf(value)==="undefined"||utag.gdpr.typeOf(value)==="null"))return;var cookieData=utag.handler.C(utag.gdpr.getCookieValues());cookieData[key]=value;cookieData=utag.gdpr.defaultConsentForDoNotSell(key,cookieData);utag.gdpr.setCookie(cookieData);},setConsentValue:function(_response){utag.DB("Consent Manager: Set Consent Value: "+_response);var valid={true:1,"true":1,1:1,false:0,"false":0,0:0};if(!valid.hasOwnProperty(_response)){throw new Error("No response supplied");}
var response=valid[_response]===1;utag.gdpr.setCookieValue("ts",new Date().getTime());utag.gdpr.setCookieValue("consent",response);utag.gdpr.processQueue(response);},setPreferencesValues:function(categories,noCollect){utag.DB("Consent Manager: Set Preferences Values");var i,fld,cookie_data=utag.gdpr.getCookieValues(),lookup={},rgx=/\D/,names=utag.gdpr.getCategories(),chosen_list=[],consent_seen=false,decline_seen=false,crgx=/c\d/;if(utag.gdpr.typeOf(categories)!=="object"){utag.DB("Categories is not type object.");return;}
try{for(i=0;i<names.length;i++){lookup[names[i]]="c"+(i+1);}
for(var cat in categories){if(!categories.hasOwnProperty(cat)){continue;}
if(categories[cat]!=="1"&&categories[cat]!=="0"&&categories[cat]!==1&&categories[cat]!==0){continue;}
if(cat.match(rgx)){cookie_data[lookup[cat]]=categories[cat];if(categories[cat]!=0){chosen_list.push(cat);}}else{cookie_data["c"+cat]=categories[cat];if(categories[cat]!=0){chosen_list.push(names[cat-1]);}}}
for(fld in utag.loader.GV(cookie_data)){if(fld.match(crgx)){if(cookie_data[fld]!=0){consent_seen=true;}else{decline_seen=true;}}}
cookie_data["ts"]=new Date().getTime();cookie_data["consent"]=consent_seen;utag.gdpr.setCookie(cookie_data);utag.gdpr.processQueue(consent_seen);}
catch(e){utag.DB(e);}
if(noCollect){return;}},setAllCategories:function(state,noCollect){utag.DB("Consent Manager: Set Preferences All Categories: "+state);if(state===undefined)return;if(utag.gdpr.typeOf(state)!=="boolean")return;var allCats=utag.gdpr.getCategories(),prefs={};for(var i=0;i<allCats.length;i++){prefs[""+(i+1)]=state?"1":"0";}
utag.gdpr.setPreferencesValues(prefs,noCollect);},setPreferencesFromList:function(list){utag.DB("Consent Manager: Set Preferences From List");var prefs={},allCats=utag.gdpr.getCategories();if(utag.gdpr.typeOf(list)!=="array"){utag.DB("List should be of type array");return;}
for(var i=0;i<list.length;i++){prefs[list[i]]="1";}
for(var j=0;j<allCats.length;j++){if(!prefs[allCats[j]]){prefs[allCats[j]]="0";}}
utag.gdpr.setPreferencesValues(prefs);},processQueue:function(consent_seen){utag.DB("Consent Manager: Processing Consent Queue");if(utag.gdpr.noqueue){return;}
if(!consent_seen){utag.gdpr.queue=[];return;}
utag.DB("Consent Manager: Processing Consent Queue Length: "+utag.gdpr.queue.length);var event,data,conds={};utag.gdpr.merge(conds,utag.cond);for(var i=0;i<utag.gdpr.queue.length;i++){event=utag.gdpr.queue[i];if(!(event.cfg&&event.cfg.uids)){data={};utag.loader.RD(data,event.event);utag.gdpr.merge(data,event.data,true);for(var cond in conds){if(!conds.hasOwnProperty(cond)){continue;}
conds[cond]=0;}
utag.handler.RE(event.event,data,"blr");utag.loader.loadrules(data,conds);event.cfg=event.cfg||{};event.cfg.uids=[];event.data=data;utag.cond=conds;utag.loader.initcfg();utag.gdpr.applyConsentState();var consentState=utag.gdpr.getConsentState();var csType=utag.gdpr.typeOf(consentState);for(var id in utag.loader.GV(utag.loader.cfg)){if(utag.gdpr.omittedTags[id])continue;var tag=utag.loader.cfg[id];if(tag.load&&tag.send){if(tag.tcat!==0){if((csType==="array"&&consentState[tag.tcat-1].ct=="1")||(csType==="number"&&consentState==1)){event.cfg.uids.push(id);}}else if(tag.tcat===0){event.cfg.uids.push(id);}}}}
if(event.cfg.uids){for(var indexCfgUID=event.cfg.uids.length-1;indexCfgUID>-1;indexCfgUID--){if(!utag.gdpr.omittedTags[event.cfg.uids[indexCfgUID]])continue;event.cfg.uids.splice(indexCfgUID,1);}
utag.gdpr.trackUIDs=utag.gdpr.trackUIDs.concat(event.cfg.uids);}
utag.track_old.call(this,event);}
utag.gdpr.queue=[];},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d];}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")
a[d]=b[d];}}},shouldTagFire:function(taguid){if(!taguid&&utag.gdpr.typeOf(utag.gdpr.trackUIDs)!=="array")return true;var lc=utag.loader.cfg,cs=utag.gdpr.getConsentState(),uid=taguid||utag.gdpr.trackUIDs.shift();if(utag.gdpr.typeOf(uid)==="undefined")return true;utag.DB("Consent Manager: Applying consent: "+uid);var csTYpe=utag.gdpr.typeOf(cs);var tag=lc[uid];var blockedTagLookup=utag.gdpr.dns?utag.gdpr.dns.getBlockedDnsTagLookup():{};if(!utag.gdpr.omittedTags[uid]&&tag.send&&tag.tcat!==0){if((csTYpe==="array"&&cs[tag.tcat-1].ct=="1")||(csTYpe==="number"&&cs==1)||parseInt(blockedTagLookup[uid])===1){utag.DB("Consent Manager: Applying consent: "+uid+" allowed to send");return false;}}else if((utag.gdpr.omittedTags[uid]||tag.tcat==0)&&tag.send){utag.DB("Consent Manager: Omitted Tag: "+uid+" allowed to send");return false;}
utag.DB("Consent Manager: Applying consent: "+uid+" not allowed to send");return true;},applyConsentState:function(){utag.DB("Consent Manager: Applying consent");try{var i,lc=utag.loader.cfg,cs=utag.gdpr.getConsentState(),ot=utag.gdpr.omittedTags;if(typeof cs==="number"){if((utag.gdpr.consent_prompt.isEnabled&&parseInt(cs)!==1)||((!utag.gdpr.consent_prompt.isEnabled&&utag.gdpr.preferences_prompt.isEnabled)&&parseInt(cs)===-1)){utag.DB("Consent Manager: Setting all tags to off");for(i in utag.loader.GV(lc)){if(typeof ot[i]==="undefined"){lc[i].load=0;}}}}else if(utag.gdpr.consent_prompt.isEnabled||utag.gdpr.preferences_prompt.isEnabled){utag.DB("Consent Manager: Partial Consent");for(i in utag.loader.GV(lc)){if(typeof ot[i]==="undefined"){if(lc[i].tcat>0&&cs[lc[i].tcat-1].ct!="1"){lc[i].load=0;}}}}
var btl=utag.gdpr.dns?utag.gdpr.dns.getBlockedDnsTagLookup():null;utag.DB("Consent Manager: Do Not Sell Tags");if(btl){for(i in utag.loader.GV(lc)){if(parseInt(btl[i])===1){lc[i].load=0;}}}}
catch(e){utag.DB(e);}},updateConsentCookie:function(consent_categories){utag.DB("Consent Manager: Updating consent cookie");var list,listType=utag.gdpr.typeOf(consent_categories);if(listType==="string"){list=consent_categories.split(/\s*,\s*/);}else if(listType!=="array"){list=[];}else{list=consent_categories.slice();}
if(list.length===0){utag.gdpr.setConsentValue(false);utag.gdpr.setAllCategories(false);return;}
utag.gdpr.setPreferencesFromList(list);},keys:function(obj){if(Object.keys){return Object.keys(obj);}
var array=[];for(var prop in obj){if(!obj.hasOwnProperty(prop)){continue;}
array.push(prop);}
return array;},sortedObject:function(obj,func){var _obj={};if(obj!==undefined){var _k1=utag.gdpr.keys(obj).sort(func);for(var z=0;z<_k1.length;z++){_obj[_k1[z]]=obj[_k1[z]];}}
return _obj;},clone:function(a){var level=0;return cloner(a);function cloner(a){var b={};var c;level++;if(level===5)return a;for(c in utag.loader.GV(a)){if(utag.gdpr.typeOf(a[c])==="array"){b[c]=a[c].slice(0)}else if(utag.gdpr.typeOf(a[c])==="object"){b[c]=cloner(a[c]);}else{b[c]=a[c];}}
level--;return b;}},isEmpty:function(obj){var t=utag.gdpr.typeOf(obj);switch(t){case"string":case"array":return obj.length===0;case"object":for(var p in obj){if(!obj.hasOwnProperty(p)){continue;}
return false;}
default:return true;}},getTraceId:function(){var cookieName="trace_id=";var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(';');var cookie=ca.find(item=>item.trim().startsWith(cookieName));cookie=cookie?cookie.trim():cookie;return cookie?cookie.substring(cookieName.length,cookie.length):"";},setVisitorId:function(){var visitorId;var consentCookies=utag.gdpr.getCookieValues();if(consentCookies&&consentCookies.id){visitorId=consentCookies.id;}else if(utag.data['cp.utag_main_v_id']){visitorId=utag.data['cp.utag_main_v_id'];}else{visitorId=utag.ut.vi((new Date()).getTime());}
utag.gdpr.setCookieValue('id',visitorId)
return visitorId;},queue:[],domain:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.domain||utag.cfg.domain,path:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.cookie_path||"/",noqueue:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.nogdprqueue||false,noview:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.noview||false,consentPeriod:(window.utag_cfg_ovrd&&window.utag_cfg_ovrd.consentPeriod)||0,cookieNS:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.cmcookiens||"CONSENTMGR",eventProfile:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.cmeventprofile||"main"||"main",omittedTags:{"2":1,"86":1,"71":1,"18":1}};if(window.utag_cfg_ovrd&&window.utag_cfg_ovrd.domain==""){utag.gdpr.domain="";}
utag.loader.initdataOld=utag.loader.initdata;utag.loader.initdata=function(){utag.loader.initdataOld();if(utag.gdpr.getConsentState()!==0)return;if(utag.gdpr.noview)return;if(!utag.loader.rd_flag&&!utag.gdpr.noqueue){utag.gdpr.queue.push({event:"view",data:utag.handler.C(utag.data)});}};utag.gdpr.promptEnabledSetting=function(){if(!utag.gdpr.dr&&(utag.cfg.readywait||utag.cfg.waittimer)){utag.gdpr.dr=1;return;}
if(utag.gdpr.consent_prompt.isEnabled===true&&!(utag.cond[136])){utag.gdpr.consent_prompt.isEnabled=false;}
if(utag.gdpr.doNotSell.isEnabled===true&&!(1)){utag.gdpr.doNotSell.isEnabled=false;}}
utag.preOld=utag.pre;utag.pre=function(){utag.preOld();utag.gdpr.promptEnabledSetting();utag.pre=utag.preOld;};utag.gdpr.consent_prompt.languages={"nl-nl":{"common_tokens":{"confirmation_button":"Alle cookies accepteren","message":"<p>We maken gebruik van noodzakelijke cookies en gelijkwaardige technologien voor de efficinte werking van onze site.</p>\n<p>Ter ondersteuning van onze activiteiten en analytische, sociale en gepersonaliseerde reclame-doeleinden, vragen we u om ook optionele cookies en gelijkwaardige technologien te accepteren.</p>\n<p>Wanneer u deze cookies weigert, gebruiken we enkel de cookies die nodig zijn om de website te gebruiken.</p>\n<p>Voor meer informatie kunt u ons <a href=\"{{privacy_policy_url}}\">cookiebeleid</a> lezen.</p>","title":""},"display_name":"Dutch (Netherlands) (nl-nl)","custom_tokens":{"preferences":"javascript:window.__gdpr.goToPreferences()","terms_of_use":"","reject":"Weigeren","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","manage":"Cookies beheren"},"isDefault":"false"},"en-ca":{"common_tokens":{"title":"","confirmation_button":"Accept all","message":"<p>Our site uses first- and third-party cookies, which enable us to give you the best experience by customizing content, showing personalized ads, and analyzing traffic. Some data may be shared with third parties for this purpose.</p>\n<p>By clicking \"Accept all\", you accept all non-essential cookies.</p>\n<p>You can manage your preferences in the <a href=\"{{preferences}}\">Cookie Manager</a>.</p>\n<p>For details, consult our <a href=\"{{privacy_policy_url}}\">Privacy Policy</a> and <a href=\"{{terms_of_use}}\">Terms of use</a>.</p>"},"isDefault":"false","custom_tokens":{"privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","reject":"Reject all","company_logo_url":"","privacy_policy_text":"","opt_out":"","manage":" Manage my preferences","opt_in":"","preferences":"javascript:window.__gdpr.goToPreferences()","terms_of_use":"javascript:TealiumTermsOfUseLink()"}},"da-dk":{"custom_tokens":{"privacy_policy_text":"","opt_out":"","company_logo_url":"","reject":"Afvis","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","terms_of_use":"","preferences":"javascript:window.__gdpr.goToPreferences()","manage":"Administrer cookies","opt_in":""},"isDefault":"false","common_tokens":{"title":"","confirmation_button":"Accepter alle cookies","message":"<p>Vi bruger ndvendige cookies og lignende teknologier for at sikre, at vores websted fungerer effektivt.</p>\n<p>Vi vil ogs gerne indstille valgfrie cookies og lignende teknologier til analyse, sociale medier og markedsfring, s vi kan forbedre vores aktiviteter.</p>\n<p>Hvis du klikker p \"Afvis\", aktiverer vi kun de ndvendige cookies, der gr det muligt for dig at gennemse og bruge webstedet.</p>\n<p>Se vores <a href=\"{{privacy_policy_url}}\">cookiepolitik</a> for at f mere at vide.</p>"}},"fr-ca":{"isDefault":"false","custom_tokens":{"company_logo_url":"","reject":"Refuser tout","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","privacy_policy_text":"","opt_out":"","manage":" Grer mes prfrences","opt_in":"","preferences":"javascript:window.__gdpr.goToPreferences()"},"common_tokens":{"confirmation_button":"Accepter tout","message":"<p>Notre site utilise des tmoins (cookies), ce qui nous permet de mieux vous servir et de nous amliorer.</p>\n<p>En cliquant sur \"Accepter tout\", vous acceptez tous les cookies non essentiels.</p>\n<p>En cliquant sur \"Refuser tout\", vous refusez lutilisation de tous les cookies non essentiels.</p>\n<p>Pour une activation personnalise, cliquer sur <a href=\"{{preferences}}\">Gerer Preferences</a>.</p>\n<p>Pour en savoir plus sur notre utilisation des tmoins (cookies), consultez notre <a href=\"{{privacy_policy_url}}\">Politique sur les temoins</a>.</p>","title":""}},"fr-fr":{"common_tokens":{"title":"","confirmation_button":"Accepter tous les cookies","message":"<p>Nous utilisons des cookies ncessaires et technologies similaires pour garantir le bon fonctionnement de notre site. </p>\n<p>Pour nous aider  amliorer nos activits et surveiller nos activits et celles ralises par nos partenaires tiers, nous souhaiterions galement activer des cookies facultatifs et similaires  des fins analytiques, sociales et de publicit personnalise.</p>\n<p>Si vous cliquez sur  Refuser tous les cookies , nous activerons uniquement les cookies ncessaires qui vous permettent de naviguer et d'utiliser le site.</p>\n<p>Consultez notre <a href=\"{{privacy_policy_url}}\"> politique en matire de cookies</a> pour en savoir plus.</p>"},"display_name":"French (France) (fr-fr)","custom_tokens":{"preferences":"javascript:window.__gdpr.goToPreferences()","terms_of_use":"","reject":"Refuser tous les cookies","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","manage":"Gestion des cookies"},"isDefault":"false"},"es-us":{"custom_tokens":{"opt_in":"","manage":"Gestionar las cookies","preferences":"javascript:window.__gdpr.goToPreferences()","terms_of_use":"","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()()()","reject":"Rechazar","opt_out":"","privacy_policy_text":""},"isDefault":"false","common_tokens":{"title":"","confirmation_button":"Aceptar todas las cookies","message":"<p>Usamos las cookies y tecnologas similares necesarias para garantizar el funcionamiento eficaz de nuestro sitio web.</p>\n<p>Tambin nos gustara activar cookies y tecnologas similares opcionales con fines sociales, de analtica y de marketing que nos ayuden a mejorar nuestras actividades.</p>\n<p>Si haces clic en rechazar, activaremos solo las cookies necesarias que te permitan usar y navegar por nuestra web.</p>\n<p>Visita nuestra <a href=\"{{privacy_policy_url}}\">poltica de cookies</a> para ms informacin.</p>"}},"de-at":{"common_tokens":{"confirmation_button":"Alle Cookies akzeptieren","message":"<p>Wir verwenden notwendige Cookies und hnliche Technologien, um sicherzustellen, dass unsere Website effizient funktioniert.</p>\n<p>Wir mchten auch optionale Cookies und hnliche Technologien fr Analyse-, soziale und Marketingzwecke setzen, um unsere Aktivitten zu verbessern.</p>\n<p>Wenn du auf Ablehnen klickst, aktivieren wir nur die notwendigen Cookies, die dir das Surfen und die Nutzung der Website ermglichen.</p>\n<p>Lies unsere <a href=\"{{privacy_policy_url}}\">Cookie-Richtlinien</a>, um mehr zu erfahren.</p>","title":""},"custom_tokens":{"manage":"Cookies verwalten","opt_in":"","terms_of_use":"","preferences":"javascript:window.__gdpr.goToPreferences()","company_logo_url":"","reject":"Ablehnen","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","privacy_policy_text":"","opt_out":""},"isDefault":"false"},"pt":{"custom_tokens":{"terms_of_use":"","preferences":"javascript:window.__gdpr.goToPreferences()","manage":"Gerir cookies","reject":"Recusar","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()"},"isDefault":"false","common_tokens":{"confirmation_button":"Aceitar todos os cookies","message":"<p>Usamos os cookies necessrios e tecnologias semelhantes para garantir que nosso stio Web funciona de forma eficiente.</p>\n<p>Tambm gostaramos de definir cookies opcionais e tecnologias semelhantes para fins analticos, sociais e de marketing, que nos ajudam a melhorar as nossas atividades.</p>\n<p>Se clicar em recusar, ativaremos apenas os cookies necessrios para poder navegar e utilizar o stio Web.</p>\n<p>Consulte a nossa <a href=\"{{privacy_policy_url}}\">poltica de cookies</a> para obter mais informaes.</p>","title":""},"display_name":"Portuguese (pt)"},"ro":{"custom_tokens":{"preferences":"javascript:window.__gdpr.goToPreferences()","manage":"Gestioneaz cookie-urile","opt_in":"","privacy_policy_text":"","opt_out":"","company_logo_url":"","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","reject":"Refuz"},"isDefault":"false","common_tokens":{"title":"","confirmation_button":"Accept toate cookie-urile","message":"<p>Folosim cookie-uri necesare i tehnologii similare pentru a asigura funcionarea eficient a site-ului nostru. .</p> <p>De asemenea, dorim s folosim cookie-uri opionale i tehnologii similare pentru analize, reele sociale i marketing, pentru a mbunti serviciile noastre i a monitoriza att activitile proprii, ct i pe cele ale partenerilor notri teri. .</p> <p>Dac selectai Refuz, vor fi activate doar cookie-urile eseniale, necesare pentru navigarea i utilizarea site-ului web. .</p> <p>Pentru mai multe informaii, consultai <a href=\"{{privacy_policy_url}}\"> politica noastr de cookie-uri. </a></p> "}},"en":{"display_name":"English (en)","common_tokens":{"message":"<p>We use necessary cookies and similar technologies to ensure our site works efficiently.</p>\n<p>Wed also like to set optional cookies and similar technologies for analytics, social and  personalised advertising to help us improve and monitor our activities and the activities carried out by our third parties partners.</p>\n<p>If you click refuse, we will activate only the necessary cookies that enable you to browse and use the website.</p>\n<p>Visit our <a href=\"{{privacy_policy_url}}\">cookie policy</a> to learn more.</p>","confirmation_button":"Accept all cookies","title":""},"custom_tokens":{"terms_of_use":"javascript:TealiumTermsOfUseLink()","preferences":"javascript:window.__gdpr.goToPreferences()","manage":"Manage cookies","reject":"Refuse","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()"},"isDefault":"true"},"sv":{"display_name":"Swedish (sv)","common_tokens":{"title":"","confirmation_button":"Acceptera alla cookies","message":"<p>Vi anvnder ndvndiga cookies och liknande tekniker fr att skerstlla att vr webbplats fungerar effektivt.</p>\n<p>Vi vill ocks grna stlla in alternativa cookies och liknande tekniker fr analytiska och statistiska ndaml samt marknadsfringsndaml som hjlper oss att frbttra vra aktiviteter.</p>\n<p>Om du klickar p neka aktiverar vi endast ndvndiga cookies som gr att du kan anvnda och surfa runt p webbplatsen.</p>\n<p>Besk vr <a href=\"{{privacy_policy_url}}\">cookiepolicy</a> fr mer info.</p>"},"isDefault":"false","custom_tokens":{"preferences":"javascript:window.__gdpr.goToPreferences()","terms_of_use":"","reject":"Neka","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","manage":"Hantera cookies"}},"de":{"custom_tokens":{"manage":"Cookies verwalten","reject":"Ablehnen","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","terms_of_use":"","preferences":"javascript:window.__gdpr.goToPreferences()"},"isDefault":"false","display_name":"German (de)","common_tokens":{"title":"","confirmation_button":"Alle Cookies akzeptieren","message":"<p>Wir verwenden essenzielle Cookies und hnliche Verfahren, damit unsere Website effizient funktioniert.</p>\n<p>Darber hinaus mchten wir optionale Cookies und hnliche Technologien fr Analyse-, Social Media- und Marketingzwecke setzen, die uns helfen, unsere Leistungen zu verbessern.</p>\n<p>Wenn Sie auf Ablehnen klicken, werden wir nur die essenziellen Cookies aktivieren, die fr den Besuch und das Durchsuchen unserer Website ntig sind.</p>\n<p>Erfahren Sie mehr darber in unserer <a href=\"{{privacy_policy_url}}\">Cookie-Richtlinie</a>.</p>"}},"pt-br":{"isDefault":"false","custom_tokens":{"privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","reject":"Recusar","privacy_policy_text":"","opt_out":"","manage":"Gerir cookies","opt_in":"","terms_of_use":"","preferences":"javascript:window.__gdpr.goToPreferences()"},"common_tokens":{"title":"","message":"<p>Usamos os cookies necessrios e tecnologias semelhantes para garantir que nosso stio Web funciona de forma eficiente.</p>\n<p>Tambm gostaramos de definir cookies opcionais e tecnologias semelhantes para fins analticos, sociais e de marketing, que nos ajudam a melhorar as nossas atividades.</p>\n<p>Se clicar em recusar, ativaremos apenas os cookies necessrios para poder navegar e utilizar o stio Web.</p>\n<p>Consulte a nossa <a href=\"{{privacy_policy_url}}\">poltica de cookies</a> para obter mais informaes.</p>","confirmation_button":"Aceitar todos os cookies"}},"pl":{"display_name":"Polish (pl)","common_tokens":{"title":"","confirmation_button":"Zaakceptuj wszystkie pliki cookie","message":"<p>Uywamy niezbdnych plikw cookie i podobnych technologii, aby zapewni sprawne dziaanie naszej witryny.</p>\n<p>Moemy rwnie wykorzystywa opcjonalne pliki cookie i podobne technologie do celw analitycznych, spoecznociowych i marketingowych, ktre pozwalaj nam ulepsza nasz dziaalno.</p>\n<p>W przypadku wybrania opcji odrzu aktywujemy wycznie niezbdne pliki cookie, ktre umoliwiaj przegldanie witryny i korzystanie z niej.</p>\n<p>Dowiedz si wicej z naszej <a href=\"{{privacy_policy_url}}\">polityki plikw cookie</a>.</p>"},"isDefault":"false","custom_tokens":{"preferences":"javascript:window.__gdpr.goToPreferences()","terms_of_use":"","reject":"Odrzu","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","manage":"Zarzdzaj plikami cookie"}},"nl-be":{"custom_tokens":{"reject":"Weigeren","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","manage":"Cookies beheren","preferences":"javascript:window.__gdpr.goToPreferences()","terms_of_use":""},"isDefault":"false","display_name":"Dutch (Belgium) (nl-be)","common_tokens":{"title":"","confirmation_button":"Alle cookies accepteren","message":"<p>We maken gebruik van noodzakelijke cookies en gelijkaardige technologien voor de efficinte werking van onze site.</p>\n<p>Ter ondersteuning van onze activiteiten en analytische, sociale en gepersonaliseerde reclame-doeleinden, vragen we u om ook optionele cookies en gelijkaardige technologien te accepteren.</p>\n<p>Wanneer u deze cookies weigert, gebruiken we enkel de cookies die nodig zijn om de website te gebruiken.</p>\n<p>Voor meer informatie kunt u ons <a href=\"{{privacy_policy_url}}\">cookiebeleid</a> lezen.</p>"}},"it-it":{"custom_tokens":{"manage":"Gestisci i cookie","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","reject":"Rifiuta","terms_of_use":"","preferences":"javascript:window.__gdpr.goToPreferences()"},"isDefault":"false","display_name":"Italian (Italy) (it-it)","common_tokens":{"message":"<p>Utilizziamo i cookie necessari e altre tecnologie simili per garantire il buon funzionamento del nostro sito web.</p>\n<p>Per migliorare e monitorare le nostre attivit e quelle svolte da partner terzi, vorremmo attivare anche i cookie opzionali e altre tecnologie simili con finalit analitiche, pubblicitarie personalizzate e di utilizzo dei social network.</p>\n<p>Se clicchi su rifiuta, attiveremo solamente i cookie necessari per consentirti di navigare e utilizzare il sito web.</p>\n<p>Consulta la nostra <a href=\"{{privacy_policy_url}}\">cookie policy</a> per maggiori informazioni.</p>","confirmation_button":"Accetta tutti i cookie","title":""}},"es":{"isDefault":"false","custom_tokens":{"preferences":"javascript:window.__gdpr.goToPreferences()","terms_of_use":"","reject":"Rechazar","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()()()","manage":"Gestionar las cookies"},"display_name":"Spanish (es)","common_tokens":{"message":"<p>Usamos las cookies y tecnologas similares necesarias para garantizar el funcionamiento eficaz de nuestro sitio web.</p>\n<p>Tambin nos gustara activar cookies y tecnologas similares opcionales con fines sociales, de analtica y de marketing que nos ayuden a mejorar nuestras actividades.</p>\n<p>Si haces clic en rechazar, activaremos solo las cookies necesarias que te permitan usar y navegar por nuestra web.</p>\n<p>Visita nuestra <a href=\"{{privacy_policy_url}}\">poltica de cookies</a> para ms informacin.</p>","confirmation_button":"Aceptar todas las cookies","title":""}},"en-us":{"custom_tokens":{"preferences":"javascript:window.__gdpr.goToPreferences()","terms_of_use":"javascript:TealiumTermsOfUseLink()","reject":"Reject","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","manage":"Manage my preferences"},"isDefault":"false","common_tokens":{"title":"","message":"<p>Luxottica of America and our third-party partners use cookies, script code, and other technologies to collect data, monitor your interactions on our site, and/or advertise to you.</p>\n<p>By clicking \"Accept All Cookies\", you consent to such use.</p> \n<p>For more information see our <a href=\"{{privacy_policy_url}}\">Privacy Policy</a> and <a href=\"{{terms_of_use}}\">Terms of Use</a>.</p> \n<p>To manage your selections, please see our <a href=\"{{preferences}}\">Cookie Manager</a>.</p>","confirmation_button":"Accept all cookies"},"display_name":"English (United States) (en-us)"}};utag.gdpr.consent_prompt.content.css="#__tealiumGDPRecModal .privacy_prompt1 {  position: fixed;  top: auto;  bottom: 0;  left: 0;  z-index: 100000000;  width: auto;  height: auto;  padding: 10px 3%;  font-family: \'arial\';  font-weight: 400;  text-align: left;  background-color: #000;  color: #fff;}#__tealiumGDPRecModal .privacy_prompt1 a {   text-decoration: underline;   color: #fff;   font-weight: 600;}#__tealiumGDPRecModal .privacy_prompt1 a:hover {   text-decoration: none;   cursor: pointer;}#__tealiumGDPRecModal .privacy_prompt_container1 {  width: 100%;  height: inherit;  overflow-y: auto;  align-items: center;}#__tealiumGDPRecModal .privacy_prompt_content1 {  width: 100%;  height: inherit;  font-size: 12px;  line-height: 16px;  letter-spacing: 0.600962px;  color: #ffffff;  display: block;}#__tealiumGDPRecModal .privacy_prompt_content1 p {  display: inline;  margin: 0;  padding: 0;}#__tealiumGDPRecModal .privacy_prompt_content21 {  width: 100%;}  #__tealiumGDPRecModal .privacy_prompt_content2 {    color: #000;  text-align: center;  font-size: 10px;  line-height: 14px;  text-transform: uppercase;	    letter-spacing: 0.600962px;}#__tealiumGDPRecModal #consent_prompt_pref {	cursor: pointer;	text-decoration: underline;    min-width: auto;	padding: 15px 0 !important;			}	#__tealiumGDPRecModal #consent_prompt_submit {		cursor: pointer;	    float: right;    padding-top: 1px;	background-color: #E1E1E1;	height: 28px;}	#__tealiumGDPRecModal #consent_prompt_submitNo {	cursor: pointer;    float: right;    padding-top: 1px;		background-color: #E1E1E1;	height: 28px;}	/* Mobile */@media (max-width: 767px) {	#__tealiumGDPRecModal .privacy_prompt_content21 {		display: flex;		flex-direction: column;		align-items: center;	}			#__tealiumGDPRecModal #consent_prompt_submit {			width: 100%;		margin-top: 15px;			}		#__tealiumGDPRecModal #consent_prompt_submitNo {		width: 100%;		margin-top: 15px;	}	}		/* Desktop */@media (min-width: 768px) {	#__tealiumGDPRecModal .privacy_prompt_content21 {	  display: inline-block;	}		#__tealiumGDPRecModal #consent_prompt_pref {		float: left;	}		#__tealiumGDPRecModal #consent_prompt_submit {			margin-left: 15px;		float: right;		margin-top: 10px;		width: 206px;				}		#__tealiumGDPRecModal #consent_prompt_submitNo {		float: right;		margin-top: 10px;			width: 206px ;		}	}";utag.gdpr.consent_prompt.content.html="<div class=\"privacy_prompt1 explicit_consent\" role=\"region\" aria-label=\"Cookie Banner\">		<div class=\"privacy_prompt_container1\">			<div class=\"privacy_prompt_content1\">{{message}}</div>	  	  		<div class=\"privacy_prompt_content21\">					<button id=\"consent_prompt_submit\" class=\"privacy_prompt_content2\">{{confirmation_button}}</button>					<button id=\"consent_prompt_submitNo\" class=\"privacy_prompt_content2\">{{reject}}</button>						<div id=\"consent_prompt_pref\"><a href=\"{{preferences}}\" class=\"privacy_prompt_content2\">{{manage}}</a></div>					</div>			</div> </div>";utag.gdpr.consent_prompt.content.js="(function consent_prompt(){var $el=document.getElementById(\"consent_prompt_submit\"),$modal=document.getElementById(\"__tealiumGDPRecModal\"),$elNo=document.getElementById(\"consent_prompt_submitNo\");window.__gdpr={};utag.gdpr.callBackNoClicked;utag.gdpr.noOptinScroll;var callBack=function(){setTimeout(function(){if(utag.gdpr.callBackNoClicked!==1){utag.gdpr.setConsentValue(1);if(window.utag_data&&window.tealium_data2track){var datalayer=utag_data.datacopy||utag_data;datalayer.id=datalayer.id||'VirtualPage-View';datalayer.Tags_AdobeAnalytics_Abort=1;delete datalayer.AnalyticsLogEventId;tealium_data2track.push(datalayer);}closePrompt();}},0);};var callBackNo=function(){setTimeout(function(){utag.gdpr.setConsentValue(0);utag.gdpr.callBackNoClicked=1;closePrompt();},0);};var eventAdvanced=function(){utag.gdpr.noOptinScroll=1;utag.gdpr.setConsentValue(0);utag.gdpr.showConsentPreferences();closePrompt();};var closePrompt=function(){if(typeof TealiumConsentCallBack==='function')TealiumConsentCallBack();$modal.style.display=\"none\";};if(document.addEventListener){$el.addEventListener(\"click\",callBack,false);$elNo.addEventListener(\"click\",callBackNo,false);}else if(document.attachEvent){$el.attachEvent(\"click\",callBack);$elNo.attachEvent(\"click\",callBackNo);}else{$el.onclick=callBack;$elNo.onclick=callBackNo;}if(typeof window.__gdpr===\"object\"){window.__gdpr.goToPreferences=eventAdvanced;}}());";utag.gdpr.consent_prompt.defaultLang="en";utag.gdpr.showExplicitConsent=function(_lang){var cn=document.getElementById("__tealiumGDPRecStyle");if(cn){cn.parentNode.removeChild(cn);}var hn=document.getElementById("__tealiumGDPRecModal");if(hn){hn.parentNode.removeChild(hn);}var sn=document.getElementById("__tealiumGDPRecScript");if(sn){sn.parentNode.removeChild(sn);}var dtc=utag.gdpr.getDeTokenizedContent(utag.gdpr.consent_prompt,_lang);var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),mDiv=document.createElement("div"),scr=document.createElement("script"),body=document.body||document.getElementsByTagName("body")[0];style.type="text/css";style.id="__tealiumGDPRecStyle";if(style.styleSheet){style.styleSheet.cssText=dtc.css;}else{style.appendChild(document.createTextNode(dtc.css));}head.appendChild(style);mDiv.innerHTML=dtc.html;mDiv.id="__tealiumGDPRecModal";body.appendChild(mDiv);scr.language="javascript";scr.type="text/javascript";scr.text="try{"+dtc.js+"} catch(e){utag.DB(e)}";scr.id="__tealiumGDPRecScript";head.appendChild(scr);};utag.gdpr.preferences_prompt.languages={"en-ca":{"isDefault":"false","custom_tokens":{"privacy_policy_text":"","company_logo_url":"","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()"},"categories":{"uncategorized":{"notes":"","name":""},"cdp":{"notes":"","name":""},"search":{"notes":"","name":""},"analytics":{"name":"Analytical","notes":"They generate de-identified or anonymous data about how visitors use our website and how it performs. This data helps us to improve our products, services and the user experience."},"social":{"notes":"Social cookies allow you to utilize social media features.","name":"Social"},"display_ads":{"notes":"","name":""},"cookiematch":{"notes":"","name":""},"affiliates":{"notes":"","name":""},"misc":{"notes":"They help us to recommend more relevant products and services to you during your session or afterwards, based on your browsing on our site. If they remain deactivated, you will continue to see the same number of ads, but they will be less relevant to you.","name":"Marketing"},"personalization":{"notes":"","name":""},"big_data":{"notes":"","name":""},"crm":{"name":"","notes":""},"engagement":{"name":"","notes":""},"monitoring":{"name":"","notes":""},"email":{"name":"","notes":""},"mobile":{"name":"","notes":""}},"common_tokens":{"yes":"ON","description":"<p><strong>Essential</strong></p><p>They enable us to provide essential services and functions, such as continuity of service and site security. This is why they cannot be refused.</p>","title":"Manage My Preferences","message":"","no":"OFF","confirmation_button":"OK"}},"sv-fi":{"custom_tokens":{"less_16_description":"","company_logo_url":"","privacy_policy_url":""},"isDefault":"false","categories":{"mobile":{"name":"","notes":""},"engagement":{"name":"","notes":""},"email":{"notes":"","name":""},"monitoring":{"name":"","notes":""},"misc":{"notes":"Marknadsfringscookies anvnds fr att erbjuda personanpassad reklam.","name":"Marketing"},"personalization":{"name":"","notes":""},"affiliates":{"notes":"","name":""},"crm":{"name":"","notes":""},"big_data":{"name":"","notes":""},"cookiematch":{"name":"","notes":""},"cdp":{"notes":"","name":""},"social":{"name":"Social","notes":"Sociala medier-cookies gr att du kan anvnda sociala mediafunktioner."},"display_ads":{"name":"","notes":""},"search":{"notes":"","name":""},"analytics":{"notes":"Analyscookies anvnds fr att frst hur du interagerar med vrt innehll.","name":"Analytics"},"uncategorized":{"notes":"","name":""}},"common_tokens":{"yes":"ON","description":"Vi anvnder cookies fr att personanpassa innehll, erbjuda sociala mediafunktioner och analysera vr trafik. Om du vljer att inte godknna vissa cookies fungerar eventuellt inte ngra interaktiva funktioner p vr webbplats.","title":"SEKRETESSPREFERENSER","no":"OFF","message":"","confirmation_button":"OK"},"display_name":"Swedish (Finland) (sv-fi)"},"fr-ca":{"categories":{"cookiematch":{"notes":"","name":""},"personalization":{"name":"","notes":""},"misc":{"notes":"Ils nous aident  vous recommander des produits et services plus pertinents durant votre session ou par la suite, en fonction de votre navigation sur notre site. S'ils demeurent dsactivs, vous continuerez  voir le mme nombre de publicits, mais elles seront moins pertinentes pour vous.","name":"Publicitaires"},"affiliates":{"name":"","notes":""},"crm":{"name":"","notes":""},"big_data":{"name":"","notes":""},"uncategorized":{"name":"","notes":""},"cdp":{"name":"","notes":""},"social":{"notes":"Nous utilisons des cookies afin de personnaliser le contenu, de fournir des fonctionnalits relatives aux rseaux sociaux et danalyser notre trafic. Si vous choisissez de ne pas accepter les cookies, il se peut que certaines fonctionnalits interactives de nos sites ne fonctionnent pas.","name":"Social"},"display_ads":{"notes":"","name":""},"analytics":{"name":"Analytiques","notes":"Ils gnrent des donnes dpersonnalises ou anonymes sur la faon dont les visiteurs utilisent notre site Web et sur ses performances. Ces donnes nous aident  amliorer nos produits, nos services et l'exprience des internautes."},"search":{"name":"","notes":""},"engagement":{"notes":"","name":""},"email":{"notes":"","name":""},"monitoring":{"name":"","notes":""},"mobile":{"name":"","notes":""}},"custom_tokens":{"privacy_policy_text":"","privacy_policy_url":"","company_logo_url":""},"isDefault":"false","common_tokens":{"title":"Grer mes prfrences","category":"","description":"<p><strong>Essentiels</strong></p><p>Ils nous permettent d'assurer des services et des fonctionnalits essentiels, notamment la continuit du service et la scurit du site. C'est pourqoi ils ne peuvent tre refuss</p>","yes":"ON","confirmation_button":"OK","no":"OFF","message":""}},"nl-nl":{"display_name":"Dutch (Netherlands) (nl-nl)","common_tokens":{"message":"","no":"OFF","confirmation_button":"OK","yes":"ON","description":"We maken gebruik van cookies om de inhoud te personaliseren, social media-functies te bieden en ons verkeer te analyseren. Sommige interactieve functies van onze websites kunnen mogelijkerwijs niet werken als u ervoor kiest om bepaalde cookies niet te accepteren.","title":"PRIVACYVOORKEUR"},"custom_tokens":{"privacy_policy_url":"","less_16_description":"","company_logo_url":""},"isDefault":"false","categories":{"engagement":{"name":"","notes":""},"email":{"notes":"","name":""},"monitoring":{"name":"","notes":""},"mobile":{"notes":"","name":""},"uncategorized":{"notes":"","name":""},"cdp":{"notes":"","name":""},"display_ads":{"notes":"","name":""},"social":{"name":"Social","notes":"Sociale cookies zorgen ervoor dat je de social media-functies kunt gebruiken."},"analytics":{"name":"Analytics","notes":"Analytische cookies worden gebruikt om te begrijpen hoe je onze inhoud gebruikt."},"search":{"name":"","notes":""},"cookiematch":{"notes":"","name":""},"misc":{"notes":"Marketing cookies worden gebruikt om gepersonaliseerde reclame aan te bieden.","name":"Marketing"},"personalization":{"name":"","notes":""},"affiliates":{"notes":"","name":""},"crm":{"name":"","notes":""},"big_data":{"notes":"","name":""}}},"en":{"display_name":"English (en)","common_tokens":{"no":"OFF","status":"Status","confirmation_button":"OK","title":"PRIVACY PREFERENCES","message":"","yes":"ON","description":"We use cookies to personalize content, to provide social media features and to analyze our traffic. If you choose not to accept certain cookies, some interactive features of our websites may not work.","category":"Category"},"custom_tokens":{"privacy_policy_url":"javascript:TealiumConsentPrivacyLink()","less_16_description":"All the cookies tracking has been disabled","company_logo_url":""},"isDefault":"true","categories":{"email":{"name":"Email","notes":""},"monitoring":{"name":"Monitoring","notes":""},"engagement":{"notes":"","name":"Engagement"},"mobile":{"notes":"","name":"Mobile"},"cookiematch":{"name":"Cookie Match","notes":""},"big_data":{"name":"Big Data","notes":""},"crm":{"notes":"","name":"CRM"},"affiliates":{"name":"Affiliates","notes":""},"misc":{"notes":"Marketing cookies are used directly by Luxottica or by our third-party partners to offer you personalized advertising and promote the relevant content and actions.","name":"Marketing"},"personalization":{"notes":"","name":"Personalization"},"uncategorized":{"name":"","notes":""},"search":{"name":"Search","notes":""},"analytics":{"notes":"Analytics cookies are used to understand how you interact with our content.","name":"Analytics"},"social":{"name":"Social","notes":"Social cookies allow you to utilize social media features."},"display_ads":{"name":"Display Ad","notes":""},"cdp":{"name":"CDP","notes":""}}},"ab":{"isDefault":"false","custom_tokens":{"privacy_policy_text":"","company_logo_url":"","privacy_policy_url":""},"categories":{"engagement":{"notes":"","name":""},"monitoring":{"name":"","notes":""},"email":{"notes":"","name":""},"mobile":{"notes":"","name":""},"cookiematch":{"notes":"","name":""},"personalization":{"name":"","notes":""},"misc":{"notes":"Marketing cookies are used to offer personalized advertisements. ","name":"Marketing"},"affiliates":{"name":"","notes":""},"big_data":{"notes":"","name":""},"crm":{"name":"","notes":""},"uncategorized":{"name":"","notes":""},"cdp":{"notes":"","name":""},"display_ads":{"name":"","notes":""},"social":{"name":"Social","notes":"Social cookies allow you to utilize social media features."},"search":{"notes":"","name":""},"analytics":{"notes":"Analytics cookies are used to understand how you interact with our content.","name":"Analytics"}},"common_tokens":{"yes":"ON","description":"We use cookies to personalize content, to provide social media features and to analyze our traffic. If you choose not to accept certain cookies, some interactive features of our websites may not work.","category":"Category","message":"To review your rights, please visit the <a href=\"{{privacy_policy_url}}\">California Consumer Privacy Rights</a> section of our Privacy Policy. ","title":"PRIVACY PREFERENCES","confirmation_button":"OK","no":"OFF","status":"Status"}},"es-us":{"common_tokens":{"confirmation_button":"OK","no":"OFF","message":"","yes":"ON","title":"PREFERENCIAS DE PRIVACIDAD","description":"Utilizamos cookies para personalizar el contenido, ofrecer funciones de redes sociales y analizar el trfico. Si eliges no aceptar ciertas cookies, algunas funciones interactivas de nuestras webs podran no funcionar."},"categories":{"display_ads":{"notes":"","name":""},"social":{"notes":"Las cookies sociales te permiten utilizar las funciones de las redes sociales.","name":"Social"},"analytics":{"notes":"Las cookies de analtica se usan para entender cmo interactas con nuestro contenido.","name":"Analytics"},"search":{"notes":"","name":""},"cdp":{"notes":"","name":""},"uncategorized":{"notes":"","name":""},"crm":{"name":"","notes":""},"big_data":{"name":"","notes":""},"misc":{"notes":"Las cookies de marketing se usan para ofrecer anuncios personalizados.","name":"Marketing"},"personalization":{"name":"","notes":""},"affiliates":{"name":"","notes":""},"cookiematch":{"name":"","notes":""},"mobile":{"notes":"","name":""},"email":{"notes":"","name":""},"monitoring":{"name":"","notes":""},"engagement":{"notes":"","name":""}},"custom_tokens":{"company_logo_url":"","privacy_policy_url":"","privacy_policy_text":""},"isDefault":"false"},"pt":{"common_tokens":{"yes":"ON","title":"PREFERNCIAS DE PRIVACIDADE","description":"Utilizamos cookies para personalizar o contedo, para proporcionar caractersticas de redes sociais e para analisarmos o nosso trfego. Se optar por no aceitar determinados cookies, algumas caractersticas interativas dos nossos websites podero no funcionar.","confirmation_button":"OK","no":"OFF","message":""},"display_name":"Portuguese (pt)","categories":{"uncategorized":{"name":"","notes":""},"cdp":{"name":"","notes":""},"analytics":{"notes":"Os cookies analticos utilizam-se para perceber de que forma interage com o nosso contedo.","name":"Analytics"},"search":{"name":"","notes":""},"social":{"name":"Social","notes":"Os cookies sociais permitem-lhe utilizar as caractersticas das redes sociais."},"display_ads":{"notes":"","name":""},"cookiematch":{"notes":"","name":""},"affiliates":{"name":"","notes":""},"misc":{"name":"Marketing","notes":"Os cookies de marketing utilizam-se para oferecer publicidade personalizada."},"personalization":{"notes":"","name":""},"crm":{"notes":"","name":""},"big_data":{"name":"","notes":""},"engagement":{"name":"","notes":""},"email":{"name":"","notes":""},"monitoring":{"notes":"","name":""},"mobile":{"name":"","notes":""}},"isDefault":"false","custom_tokens":{"privacy_policy_url":"","company_logo_url":"","less_16_description":""}},"fr-fr":{"display_name":"French (France) (fr-fr)","common_tokens":{"confirmation_button":"OK","no":"OFF","message":"","title":"PRFRENCES DE CONFIDENTIALIT","description":"Nous utilisons des cookies afin de personnaliser le contenu, de fournir des fonctionnalits relatives aux rseaux sociaux et danalyser notre trafic. Si vous choisissez de ne pas accepter les cookies, il se peut que certaines fonctionnalits interactives de nos sites ne fonctionnent pas.","yes":"ON"},"categories":{"engagement":{"name":"","notes":""},"monitoring":{"notes":"","name":""},"email":{"name":"","notes":""},"mobile":{"name":"","notes":""},"cookiematch":{"name":"","notes":""},"affiliates":{"name":"","notes":""},"misc":{"name":"Marketing","notes":"Les cookies marketing sont utiliss directement par Luxottica ou par nos partenaires tiers pour vous proposer des publicits personnalises et promouvoir les contenus et actions pertinents."},"personalization":{"name":"","notes":""},"big_data":{"name":"","notes":""},"crm":{"notes":"","name":""},"uncategorized":{"notes":"","name":""},"cdp":{"notes":"","name":""},"analytics":{"name":"Analytics","notes":"Les cookies danalyse sont utiliss afin de comprendre la faon dont vous interagissez avec notre contenu."},"search":{"name":"","notes":""},"social":{"name":"Social","notes":"Les cookies sociaux vous permettent d'utiliser les fonctionnalits relatives aux rseaux sociaux."},"display_ads":{"notes":"","name":""}},"isDefault":"false","custom_tokens":{"less_16_description":"","company_logo_url":"","privacy_policy_url":""}},"no":{"display_name":"Norwegian (no)","common_tokens":{"no":"OFF","message":"","confirmation_button":"OK","yes":"ON","description":"Vi bruker informasjonskapsler (cookies) for  persontilpasse innhold, for bruk til sosiale medier, og for  analysere trafikken vr. Dersom du velger  ikke akseptere visse informasjonskapsler, kan det vre at noen av de interaktive funksjonene p vre nettsider ikke fungerer.","title":"PERSONVERNPREFERANSER"},"categories":{"mobile":{"notes":"","name":""},"email":{"name":"","notes":""},"monitoring":{"name":"","notes":""},"engagement":{"notes":"","name":""},"display_ads":{"notes":"","name":""},"social":{"name":"Social","notes":"Sosiale informasjonskapsler lar deg bruke funksjoner knyttet til sosiale media."},"search":{"name":"","notes":""},"analytics":{"name":"Analytics","notes":"Analytiske informasjonskapsler brukes for  forst hvordan du samhandler med innholdet vrt."},"cdp":{"notes":"","name":""},"uncategorized":{"notes":"","name":""},"big_data":{"name":"","notes":""},"crm":{"notes":"","name":""},"personalization":{"name":"","notes":""},"misc":{"notes":"Informasjonskapsler for markedsfring brukes for  tilby persontilpasset reklame.","name":"Marketing"},"affiliates":{"name":"","notes":""},"cookiematch":{"name":"","notes":""}},"custom_tokens":{"privacy_policy_url":"","less_16_description":"","company_logo_url":""},"isDefault":"false"},"pl":{"display_name":"Polish (pl)","common_tokens":{"no":"OFF","message":"","confirmation_button":"OK","description":"Stosujemy pliki cookies w celu dostosowywania treci do preferencji uytkownikw, korzystania z funkcji mediw spoecznociowych i analizowania ruchu na stronie. W przypadku niewyraenia zgody na stosowanie wybranych plikw cookies niektre interaktywne funkcje na naszych stronach mog nie dziaa.","title":"USTAWIENIA PLIKW COOKIES","yes":"ON"},"isDefault":"false","custom_tokens":{"privacy_policy_url":"","company_logo_url":"","less_16_description":""},"categories":{"crm":{"notes":"","name":""},"big_data":{"notes":"","name":""},"affiliates":{"name":"","notes":""},"personalization":{"name":"","notes":""},"misc":{"notes":"Marketingowe pliki cookies umoliwiaj publikowanie reklam dostosowanych do preferencji uytkownikw.","name":"Marketing"},"cookiematch":{"name":"","notes":""},"analytics":{"name":"Analytics","notes":"Analityczne pliki cookies umoliwiaj zbieranie informacji o sposobie korzystania z naszych stron."},"search":{"name":"","notes":""},"social":{"notes":"Spoecznociowe pliki cookies umoliwiaj uytkownikom korzystanie z funkcji mediw spoecznociowych.","name":"Social"},"display_ads":{"name":"","notes":""},"cdp":{"name":"","notes":""},"uncategorized":{"name":"","notes":""},"mobile":{"name":"","notes":""},"monitoring":{"name":"","notes":""},"email":{"name":"","notes":""},"engagement":{"notes":"","name":""}}},"pt-br":{"common_tokens":{"title":"PREFERNCIAS DE PRIVACIDADE","description":"Todos os dados pessoais fornecidos por voc atravs do nosso site, so utilizados exclusivamente para os fins e nas modalidades descritas abaixo:","yes":"ON","confirmation_button":"OK","no":"OFF","message":""},"categories":{"mobile":{"notes":"","name":""},"engagement":{"name":"","notes":""},"monitoring":{"notes":"","name":""},"email":{"notes":"","name":""},"cdp":{"notes":"","name":""},"search":{"name":"","notes":""},"analytics":{"name":"Analytics","notes":"Os cookies do Analytics so usados para entender como voc interage com nosso contedo."},"social":{"notes":"Os cookies de Social permitem que voc utilize recursos de mdia social no nosso site.","name":"Social"},"display_ads":{"name":"","notes":""},"uncategorized":{"notes":"","name":""},"affiliates":{"name":"","notes":""},"misc":{"notes":"Os cookies de marketing so usados para oferecer anncios personalizados.","name":"Marketing"},"personalization":{"notes":"","name":""},"crm":{"name":"","notes":""},"big_data":{"name":"","notes":""},"cookiematch":{"name":"","notes":""}},"isDefault":"false","custom_tokens":{"company_logo_url":"","privacy_policy_url":"","privacy_policy_text":""}},"de":{"isDefault":"false","custom_tokens":{"company_logo_url":"","less_16_description":"","privacy_policy_url":""},"categories":{"monitoring":{"name":"","notes":""},"email":{"notes":"","name":""},"engagement":{"name":"","notes":""},"mobile":{"notes":"","name":""},"uncategorized":{"notes":"","name":""},"analytics":{"name":"Analytics","notes":"Diese Cookies werden verwendet, um zu erkennen, wie Sie mit unseren Inhalten umgehen."},"search":{"name":"","notes":""},"display_ads":{"notes":"","name":""},"social":{"notes":"Diese Cookies ermglichen Ihnen die Nutzung von Social Media Funktionen.","name":"Social"},"cdp":{"name":"","notes":""},"cookiematch":{"name":"","notes":""},"crm":{"name":"","notes":""},"big_data":{"notes":"","name":""},"affiliates":{"notes":"","name":""},"misc":{"notes":"Diese Cookies werden zur Personalisierung von Werbung eingesetzt.","name":"Marketing"},"personalization":{"notes":"","name":""}},"display_name":"German (de)","common_tokens":{"message":"","no":"OFF","confirmation_button":"OK","yes":"ON","description":"Wir verwenden Cookies, um Inhalte zu personalisieren, Social Media-Funktionen bereitzustellen und unseren Traffic zu analysieren. Wenn Sie sich dafr entscheiden, bestimmte Cookies nicht zu akzeptieren, funktionieren einige interaktive Funktionen unserer Websites mglicherweise nicht.","title":"DATENSCHUTZEINSTELLUNGEN"}},"en-us":{"common_tokens":{"yes":"ON","category":"","description":"We use cookies to personalize content, provide social media features, analyze our traffic and serve ads on our behalf targeted to your interests and based on your online activities. Our use of certain types of cookies is a sale or share of personal information (i.e., targeted advertising) under California and other state laws. To opt out of these activities, slide all three toggles below to the left / off setting and click OK. If you have a customer account, please sign-in first, so we can maintain your preference. You also may use an opt-out preference signal to indicate your opt-out preference. You cannot opt out of our use of first party strictly necessary cookies as they are necessary to run our websites. If you opt out of certain cookies, some interactive features on our websites may not work.","message":"To review your rights, please visit the <a href=\"{{privacy_policy_url}}\">California Consumer Privacy Rights</a> section of our Privacy Policy. ","title":"PRIVACY PREFERENCES","confirmation_button":"OK","no":"OFF","status":""},"display_name":"English (United States) (en-us)","isDefault":"false","custom_tokens":{"company_logo_url":"","less_16_description":"Cookie tracking has been disabled.","privacy_policy_url":"javascript:TealiumConsentPrivacyLink()"},"categories":{"uncategorized":{"name":"","notes":""},"cdp":{"notes":"","name":""},"analytics":{"name":"Analytics","notes":"Analytics cookies are used to understand how you interact with our content."},"search":{"notes":"","name":""},"social":{"notes":"Social cookies allow you to utilize social media features.","name":"Social"},"display_ads":{"notes":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ","name":"Display Ad"},"cookiematch":{"notes":"","name":""},"affiliates":{"notes":"","name":"Affiliates"},"personalization":{"name":"","notes":""},"misc":{"notes":"Marketing cookies are used directly by Luxottica or by our third-party partners to offer you personalized advertising and promote the relevant content and actions. ","name":"Marketing"},"crm":{"name":"","notes":""},"big_data":{"name":"","notes":""},"engagement":{"notes":"","name":""},"email":{"name":"","notes":""},"monitoring":{"name":"","notes":""},"mobile":{"name":"","notes":""}}},"it-it":{"display_name":"Italian (Italy) (it-it)","common_tokens":{"confirmation_button":"OK","message":"","no":"OFF","yes":"ON","title":"PREFERENZE PRIVACY","description":"Utilizziamo i cookies per personalizzare i contenuti, fornire le funzionalit dei social media e analizzare i dati del nostro traffico. Se decidi di non accettare alcuni cookies, determinati servizi interattivi dei nostri siti web potrebbero non funzionare."},"categories":{"mobile":{"name":"","notes":""},"email":{"name":"","notes":""},"monitoring":{"notes":"","name":""},"engagement":{"name":"","notes":""},"big_data":{"name":"","notes":""},"crm":{"name":"","notes":""},"affiliates":{"name":"","notes":""},"personalization":{"notes":"","name":""},"misc":{"name":"Marketing","notes":"I cookie di marketing vengono utilizzati direttamente da Luxottica o da partner terzi per offrirti pubblicit personalizzata e promuovere contenuti e azioni pertinenti."},"cookiematch":{"notes":"","name":""},"search":{"notes":"","name":""},"analytics":{"name":"Analytics","notes":"I cookies analitici ci servono per capire come interagisci con i nostri contenuti."},"social":{"name":"Social","notes":"I cookies dei social network ti consentono di sfruttare le funzionalit dei social."},"display_ads":{"notes":"","name":""},"cdp":{"name":"","notes":""},"uncategorized":{"notes":"","name":""}},"isDefault":"false","custom_tokens":{"company_logo_url":"","less_16_description":"","privacy_policy_url":""}},"es":{"isDefault":"false","custom_tokens":{"less_16_description":"","company_logo_url":"","privacy_policy_url":""},"categories":{"uncategorized":{"notes":"","name":""},"cdp":{"name":"","notes":""},"display_ads":{"notes":"","name":""},"social":{"notes":"Las cookies sociales te permiten utilizar las funciones de las redes sociales.","name":"Social"},"search":{"name":"","notes":""},"analytics":{"name":"Analytics","notes":"Las cookies de analtica se usan para entender cmo interactas con nuestro contenido."},"cookiematch":{"notes":"","name":""},"personalization":{"name":"","notes":""},"misc":{"name":"Marketing","notes":"Las cookies de marketing se usan para ofrecer anuncios personalizados."},"affiliates":{"notes":"","name":""},"crm":{"notes":"","name":""},"big_data":{"name":"","notes":""},"engagement":{"notes":"","name":""},"monitoring":{"notes":"","name":""},"email":{"notes":"","name":""},"mobile":{"notes":"","name":""}},"display_name":"Spanish (es)","common_tokens":{"title":"PREFERENCIAS DE PRIVACIDAD","description":"Utilizamos cookies para personalizar el contenido, ofrecer funciones de redes sociales y analizar el trfico. Si eliges no aceptar ciertas cookies, algunas funciones interactivas de nuestras webs podran no funcionar.","yes":"ON","confirmation_button":"OK","message":"","no":"OFF"}},"nl-be":{"isDefault":"false","custom_tokens":{"less_16_description":"","company_logo_url":"","privacy_policy_url":""},"categories":{"uncategorized":{"notes":"","name":""},"analytics":{"name":"Analytics","notes":"Analytische cookies worden gebruikt om te begrijpen hoe je onze inhoud gebruikt."},"search":{"notes":"","name":""},"display_ads":{"name":"","notes":""},"social":{"notes":"Sociale cookies zorgen ervoor dat je de social media-functies kunt gebruiken.","name":"Social"},"cdp":{"notes":"","name":""},"cookiematch":{"name":"","notes":""},"big_data":{"notes":"","name":""},"crm":{"name":"","notes":""},"affiliates":{"name":"","notes":""},"personalization":{"notes":"","name":""},"misc":{"notes":"Marketing cookies worden gebruikt om gepersonaliseerde reclame aan te bieden.","name":"Marketing"},"email":{"notes":"","name":""},"monitoring":{"name":"","notes":""},"engagement":{"name":"","notes":""},"mobile":{"name":"","notes":""}},"common_tokens":{"yes":"ON","description":"We maken gebruik van cookies om de inhoud te personaliseren, social media-functies te bieden en ons verkeer te analyseren. Sommige interactieve functies van onze websites kunnen mogelijkerwijs niet werken als u ervoor kiest om bepaalde cookies niet te accepteren.","title":"PRIVACYVOORKEUR","status":"","message":"","no":"OFF","confirmation_button":"OK"},"display_name":"Dutch (Belgium) (nl-be)"},"sv-se":{"display_name":"Swedish (Sweden) (sv-se)","common_tokens":{"message":"","no":"OFF","confirmation_button":"OK","description":"Vi anvnder cookies fr att personanpassa innehll, erbjuda sociala mediafunktioner och analysera vr trafik. Om du vljer att inte godknna vissa cookies fungerar eventuellt inte ngra interaktiva funktioner p vr webbplats.","title":"SEKRETESSPREFERENSER","yes":"ON"},"isDefault":"false","custom_tokens":{"privacy_policy_url":"","less_16_description":"","company_logo_url":""},"categories":{"affiliates":{"notes":"","name":""},"personalization":{"name":"","notes":""},"misc":{"notes":"Marknadsfringscookies anvnds fr att erbjuda personanpassad reklam.","name":"Marketing"},"crm":{"name":"","notes":""},"big_data":{"notes":"","name":""},"cookiematch":{"name":"","notes":""},"cdp":{"notes":"","name":""},"analytics":{"name":"Analytics","notes":"Analyscookies anvnds fr att frst hur du interagerar med vrt innehll."},"search":{"name":"","notes":""},"display_ads":{"notes":"","name":""},"social":{"name":"Social","notes":"Sociala medier-cookies gr att du kan anvnda sociala mediafunktioner."},"uncategorized":{"notes":"","name":""},"mobile":{"name":"","notes":""},"engagement":{"name":"","notes":""},"monitoring":{"notes":"","name":""},"email":{"notes":"","name":""}}}};utag.gdpr.preferences_prompt.content.css="#__tealiumGDPRcpPrefs {    width: 100%;    height: 100%;    background: rgba(0, 0, 0, 0.7);    font-family: \"arial\";	font-weight: 400;    position: fixed;    z-index: 1000000000;	top: 0;}#__tealiumGDPRcpPrefs .privacy_prompt {    position: absolute;    width: 50%;    height: auto;    top: 5%;    left: 50%;    margin-left: -25%;    border: 1px solid #CCC;    border-radius: 1px;    background-color: #FFF;    color: #6d6d6d;    font-size: 12px;    z-index: 1000;    overflow: auto; } #__tealiumGDPRcpPrefs .privacy_prompt a {    color: #6d6d6d;    font-size: 12px;    font-weight: 600;    text-decoration: underline; } #__tealiumGDPRcpPrefs .privacy_prompt a:hover {     text-decoration: none; } #__tealiumGDPRcpPrefs .privacy_prompt hr {   margin-top: 15px;   margin-bottom: 15px; }#__tealiumGDPRcpPrefs .privacy_prompt_content {     padding: 40px;     font-size: 12px; }#__tealiumGDPRcpPrefs .privacy_prompt_content > .close_btn_thick {    position: absolute;    display: block;    top: 0;    right: 0;    width: 35px;    height: 35px;    border: 1px solid #ccc;    background-color: #222222;    text-decoration: none;    text-shadow: 1px 1px 3px rgba(255, 255, 255, 1);    color: #fff;    cursor: pointer;}#__tealiumGDPRcpPrefs .privacy_prompt_content > .close_btn_thick:after {    content: \"\";    padding-left: 7px;    font: 33px/100% arial, sans-serif;    font-weight: lighter;}#__tealiumGDPRcpPrefs .privacy_prompt_content > .sdgdpradv_headline {	font-weight: 400;    font-size: 28px;    font-weight: 400;    line-height: 0.69;    letter-spacing: -3px;    color: #222222;    text-transform: uppercase;}#__tealiumGDPRcpPrefs .privacy_prompt .option {     margin: 10px 0px;     color: #444;}#__tealiumGDPRcpPrefs .privacy_prompt_footer {     padding: 0px 40px 40px 40px;}#__tealiumGDPRcpPrefs .privacy_prompt .__button {    width: 200px;    border: 1px solid #CCC;    padding: 10px 15px;    min-width: 50px;    text-align: center;    text-transform: uppercase;    border-radius: 4px;    background-color: #000;    text-shadow: 1px 1px 3px rgba(255, 255, 255, 1);    color: #fff;    cursor: pointer;}#__tealiumGDPRcpPrefs .privacy_prompt .sdgdpradv_td_category {  font-size: 14px;  font-weight: 600;  color: #222222;}#__tealiumGDPRcpPrefs .privacy_prompt .sdgdpradv_td_desc {  font-size: 12px;  font-weight: 600;  color: #6d6d6d;  padding-bottom: 20px;}#__tealiumGDPRcpPrefs .privacy_prompt .sdgdpradv_td_desc.last {  padding-bottom: 0px;}#__tealiumGDPRcpPrefs .privacy_prompt table {	font-weight: 400;    padding: 0px;    border-collapse: collapse;    margin: 25px 0 0 0;}#__tealiumGDPRcpPrefs .privacy_prompt table td {     vertical-align: middle;     padding: 0px 5px 3px 5px;}#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle {     opacity: 0;     position: absolute;     left: -99999px; }#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle + label {     height: 24px;     line-height: 24px;     background-color: #ccc;     padding: 0px 16px;     border-radius: 16px;     display: inline-block;     position: relative;     cursor: pointer;     -moz-transition: all 0.25s ease-in;     -o-transition: all 0.25s ease-in;     -webkit-transition: all 0.25s ease-in;     transition: all 0.25s ease-in;     -moz-box-shadow: inset 0px 0px 2px rgba(0, 0, 0, 0.5);     -webkit-box-shadow: inset 0px 0px 2px rgba(0, 0, 0, 0.5);     box-shadow: inset 0px 0px 2px rgba(0, 0, 0, 0.5); }#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle + label:before, .privacy_prompt input[type=\"checkbox\"].toggle + label:hover:before {     content: \" \";     position: absolute;     top: 2px;     left: 2px;     width: 26px;     height: 20px;     background: #fff;     z-index: 2;     -moz-transition: all 0.25s ease-in;     -o-transition: all 0.25s ease-in;     -webkit-transition: all 0.25s ease-in;     transition: all 0.25s ease-in;     -moz-border-radius: 14px;     -webkit-border-radius: 14px;     border-radius: 14px; }#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle + label .off, .privacy_prompt input[type=\"checkbox\"].toggle + label .on {     color: #fff; }#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle + label .off {     margin-left: 20px;     display: inline-block; }#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle + label .on {     display: none; }#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle:checked + label .off {     display: none; }#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle:checked + label .on {     margin-right: 20px;     display: inline-block; }#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle:checked + label, .privacy_prompt input[type=\"checkbox\"].toggle:focus:checked + label {     background-color: #000; }#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle:checked + label:before, .privacy_prompt input[type=\"checkbox\"].toggle:checked + label:hover:before, .privacy_prompt input[type=\"checkbox\"].toggle:focus:checked + label:before, .privacy_prompt input[type=\"checkbox\"].toggle:focus:checked + label:hover:before {     background-position: 0 0;     top: 2px;     left: 100%;     margin-left: -28px; }#__tealiumGDPRcpPrefs .privacy_prompt input[type=\"checkbox\"].toggle + label {    overflow: hidden;     text-overflow: ellipsis;     max-height: 24px;     height: 24px;}@media (max-width: 1023px) {    #__tealiumGDPRcpPrefs .privacy_prompt {        width: 90%;		height: auto;        top: 5%;        left: 5%;        margin-left: 0;	    }    #__tealiumGDPRcpPrefs .privacy_prompt_content h1 {        text-align: left;    }    #__tealiumGDPRcpPrefs .privacy_prompt_content table,    #__tealiumGDPRcpPrefs .privacy_prompt_content thead,    #__tealiumGDPRcpPrefs .privacy_prompt_content tbody,    #__tealiumGDPRcpPrefs .privacy_prompt_content td,    #__tealiumGDPRcpPrefs .privacy_prompt_content tr {        position: relative;    }    #__tealiumGDPRcpPrefs .privacy_prompt_content table tbody tr {        display: block;		border: 0;			    }    #__tealiumGDPRcpPrefs .privacy_prompt_content tbody tr {        margin: 0;    }}";utag.gdpr.preferences_prompt.content.html="<div id=\"consent_wrapper_advanced\" class=\"consent_preferences\" role=\"region\" aria-label=\"Cookie Banner\">	<div class=\"privacy_prompt\">		<div class=\"privacy_prompt_content\">			<strong class=\"sdgdpradv_headline\">{{title}}</strong>			<div class=\"close_btn_thick\"></div>			<hr>			<div id=\"__lessAge\" style=\"display:none;font-size: 13px;line-height: 28px;\">{{less_16_description}}</div>			<div id=\"__moreAge1\">{{description}}</div>			<table id=\"__moreAge2\" style=\"display:block;\">				<col width=\"10%\">				<col width=\"90%\">				<!-- Analytics -->				<tr>					<td class=\"sdgdpradv_td_status\">						<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat1\"/>						<label for=\"toggle_cat1\"> <span class=\"on\">{{yes}}</span> <span class=\"off\">{{no}}</span></label>					</td>					<td class=\"sdgdpradv_td_category\">{{category_analytics_title}}</td>				</tr>				<tr>					<td class=\"empty\"></td>					<td class=\"sdgdpradv_td_desc\">{{category_analytics_description}}</td>				</tr>				<!-- Social -->				<tr>					<td class=\"sdgdpradv_td_status\">						<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat7\"/>						<label for=\"toggle_cat7\"> <span class=\"on\">{{yes}}</span> <span class=\"off\">{{no}}</span></label>					</td>					<td class=\"sdgdpradv_td_category\">{{category_social_title}}</td>				</tr>				<tr>					<td class=\"empty\"></td>					<td class=\"sdgdpradv_td_desc\">{{category_social_description}}</td>				</tr>				<!-- Misc -->				<tr>					<td class=\"sdgdpradv_td_status\">						<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat9\"/>						<label for=\"toggle_cat9\"> <span class=\"on\">{{yes}}</span> <span class=\"off\">{{no}}</span></label>					</td>					<td class=\"sdgdpradv_td_category\">{{category_misc_title}}</td>				</tr>				<tr>					<td class=\"empty\"></td>					<td class=\"sdgdpradv_td_desc last\">{{category_misc_description}}</td>				</tr>				<!-- Hidden categories -->				<tr style=\"display:none;\">					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat3\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat2\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat4\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat5\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat6\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat8\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat10\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat11\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat12\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat13\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat14\"/>					<input type=\"checkbox\" class=\"toggle\" id=\"toggle_cat15\"/>				</tr>			</table>		</div>		<div class=\"privacy_prompt_footer\">			<div id=\"preferences_prompt_submit\" class=\"__button\">{{confirmation_button}}</div>			<hr>			<div id=\"__message\" style=\"display:none;\">{{message}}</div>		</div>	</div></div>";utag.gdpr.preferences_prompt.content.js="(function preferences_prompt(){var	$modal=document.getElementById(\"__tealiumGDPRcpPrefs\"),$el=document.getElementById(\"preferences_prompt_submit\"),$closeBtn=$modal.getElementsByClassName(\"close_btn_thick\")[0],$body=$modal.getElementsByClassName(\"consent_preferences\")[0],reg_match=/\\d+$/,i;var closePrefs=function(){if(typeof TealiumConsentCallBack==='function')TealiumConsentCallBack();$modal.style.display=\"none\";};var callBack=function(){setTimeout(function(){var inputs=$body.getElementsByClassName(\"toggle\"),cats={};for(var i=0;i<inputs.length;i++){var obj=inputs[i];cats[obj.id.match(reg_match)[0]]=obj.checked?1:0;}utag.gdpr.callBackNoClicked=1;utag.gdpr.setPreferencesValues(cats);if(window.utag_data&&window.tealium_data2track){var datalayer=utag_data.datacopy||utag_data;datalayer.id=datalayer.id||'VirtualPage-View';datalayer.Tags_AdobeAnalytics_Abort=1;delete datalayer.AnalyticsLogEventId;tealium_data2track.push(datalayer);}closePrefs();},0);};var callBackNo=function(){setTimeout(function(){utag.gdpr.noOptinScroll=0;closePrefs();utag.gdpr.showExplicitConsent();},0);};var consentState=utag.gdpr.getConsentState();if(typeof consentState===\"number\"){var _state=false;if(consentState===1||consentState===-1){_state=consentState===1;}else{_state=!!utag.gdpr.preferences_prompt.defaultState;}var activeCats=utag.gdpr.getCategories(true);for(var i=0;i<activeCats.length;i++){var id=utag.gdpr.preferences_prompt.categories[activeCats[i]].id;document.getElementById(\"toggle_cat\"+id).checked=_state;}}else{for(i=0;i<consentState.length;i++){if(consentState[i].ct!==\"1\"){continue;}var el=document.getElementById(\"toggle_cat\"+(i+1));if(el){el.checked=true;}}}if(document.addEventListener){$el.addEventListener(\"click\",callBack,false);$closeBtn.addEventListener(\"click\",callBackNo,false);}else if(document.attachEvent){$el.attachEvent(\"click\",callBack);$closeBtn.attachEvent(\"click\",callBackNo);}else{$el.onclick=callBack;$closeBtn.onclick=callBackNo;}delete window.__gdpr;}());";utag.gdpr.preferences_prompt.defaultLang="en";utag.gdpr.showConsentPreferences=function(_lang){function cloneObject(source,target,depth){if(depth===undefined){depth=1;}else if(depth===-1){utag.DB("Max Clone depth exceeded, using reference");return source;}if(window.JSON){return JSON.parse(JSON.stringify(source));}target=target||{};for(var prop in source){if(!source.hasOwnProperty(prop)){continue;}switch(utag.gdpr.typeOf(source[prop])){case"array":target[prop]=source[prop].slice(0);break;case"object":target[prop]=cloneObject(source[prop],target[prop],--depth);break;default:target[prop]=source[prop];}}return target;}try{if(utag.gdpr.preferences_prompt.noShow){return;}var cn=document.getElementById("__tealiumGDPRcpStyle");if(cn){cn.parentNode.removeChild(cn);}var hn=document.getElementById("__tealiumGDPRcpPrefs");if(hn){hn.parentNode.removeChild(hn);}var sn=document.getElementById("__tealiumGDPRcpPrefsScript");if(sn){sn.parentNode.removeChild(sn);}var promptData=cloneObject(utag.gdpr.preferences_prompt);var activeCats=utag.gdpr.getCategories(true);var cats='';var id;for(var i=0;i<activeCats.length;i++){id=utag.gdpr.preferences_prompt.categories[activeCats[i]].id;cats+='<tr><td>{{category_'+activeCats[i]+'_title}}</td><td>{{category_'+activeCats[i]+'_description}}</td><td><input type="checkbox" class="toggle" id="toggle_cat'+id+'"/><label for="toggle_cat'+id+'"> <span class="on">{{yes}}</span> <span class="off">{{no}}</span></label></td></tr>';}promptData.content.html=promptData.content.html.replace('<!--CATEGORIES-->',cats);var dtc=utag.gdpr.getDeTokenizedContent(promptData,_lang);var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),mDiv=document.createElement("div"),scr=document.createElement("script"),body=document.body||document.getElementsByTagName("body")[0];style.type="text/css";style.id="__tealiumGDPRcpStyle";if(style.styleSheet){style.styleSheet.cssText=dtc.css;}else{style.appendChild(document.createTextNode(dtc.css));}head.appendChild(style);mDiv.innerHTML=dtc.html;mDiv.id="__tealiumGDPRcpPrefs";body.appendChild(mDiv);scr.language="javascript";scr.type="text/javascript";scr.text="try{"+dtc.js+"} catch(e){utag.DB(e)}";scr.id="__tealiumGDPRcpPrefsScript";head.appendChild(scr);}catch(e){utag.DB(e);}};utag.gdpr.dns=null;utag.track_old=utag.track;utag.track=function(a,b,c,d){if(typeof a=="string")a={event:a,data:b,cfg:{cb:c,uids:d}};if(a.event==="update_consent_cookie"&&b.consent_categories){utag.gdpr.updateConsentCookie(b.consent_categories);}else if(a.event==="set_dns_state"&&typeof b.do_not_sell!=='undefined'){utag.gdpr.dns.setDnsState(b.do_not_sell);}else{if(utag.gdpr.getConsentState()===0){if(!utag.gdpr.noqueue)utag.gdpr.queue.push({event:a.event,data:utag.handler.C(a.data),cfg:utag.handler.C(a.cfg)});}
if(a.cfg.uids){var uids=[];for(var i=0;i<a.cfg.uids.length;i++){if(!utag.gdpr.shouldTagFire(a.cfg.uids[i])){uids.push(a.cfg.uids[i]);}}
a.cfg.uids=uids;utag.gdpr.trackUIDs=utag.gdpr.trackUIDs.concat(uids);}
return utag.track_old.apply(this,arguments);}};utag.loader.OU_old=utag.loader.OU;utag.loader.OU=function(tid){try{if(utag.gdpr.typeOf(tid)!=="undefined"){return utag.gdpr.shouldTagFire();}
utag.gdpr.applyConsentState();}
catch(e){utag.DB(e);}};if(utag.gdpr.preferences_prompt.single_cookie){window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};utag.loader.SC("utag_main",null,"da");window.utag_cfg_ovrd.nocookie=true;}
if(!utag.gdpr.consent_prompt.isEnabled&&!utag.gdpr.doNotSell.isEnabled&&utag.gdpr.getConsentState()==0){utag.gdpr.setAllCategories(utag.gdpr.preferences_prompt.defaultState,!0);}
if(typeof utag_cfg_ovrd!='undefined'){for(utag._i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[utag._i]=utag_cfg_ovrd[utag._i]};if(typeof utag_cfg_ovrd!='undefined'){for(utag._i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[utag._i]=utag_cfg_ovrd[utag._i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;if(utag.cfg.noview!=true)utag.handler.RE('view',utag.data,"alr");utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1){if(utag.loader.bk[b.id]||((utag.cfg.readywait||utag.cfg.noview)&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.wait==1&&utag.loader.rf==0){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};utag.loader.EV('','ready',function(a){if(utag.loader.efr!=1){utag.loader.efr=1;try{if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV("","ready",function(){setTimeout(function(){utag.gdpr.promptEnabledSetting();cmExplicitDomReady();cmDNSDomReady();},utag.cfg.waittimer||1);});}else{utag.gdpr.promptEnabledSetting();cmExplicitDomReady();cmDNSDomReady();}function cmExplicitDomReady(){try{if(utag.gdpr.consent_prompt.isEnabled){if(!utag.gdpr.consent_prompt.noShow){if(!utag.gdpr.getConsentState()){utag.gdpr.showExplicitConsent();}}}}catch(e){utag.DB(e);}}function cmDNSDomReady(){try{if(utag.gdpr.doNotSell.isEnabled){if(!utag.gdpr.doNotSell.noShow){if(!utag.gdpr.dns.getDnsState()){utag.gdpr.showDoNotSellBanner();}}}}catch(e){utag.DB(e);}}}catch(e){utag.DB(e);}try{try{if(1){(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='6.0 - Events Listener - Automatic Click Tracking';var tealiumExtensionCode=function(){try{if(__Utils__.UtagHelper.getUtagSettings('ClickListener')){UtagListeners.add({domNode:document.body,domSelectors:'a,button',eventName:'mousedown',eventHandler:function(eventObject){try{var elementRef=this;var elementType=/^A$/i.test(elementRef.nodeName||elementRef.tagName)?'AutoLink':'AutoButton';var datalayer={id:'Click',clickType:elementType};{var DOM=__Utils__.DOMHelper;var __detectElementId=function(){if(elementRef.getAttribute&&elementRef.getAttribute('Content_Box'))return elementRef.getAttribute('Content_Box');if(elementRef.getAttribute&&elementRef.getAttribute('data-element-id'))return elementRef.getAttribute('data-element-id');{var selector='';selector+='*[id^="D_"], *[id^="M_"], *[id^="X_"],';selector+='*[data-element-id]';var closestRef=DOM.getClosest(elementRef,selector,document.body);if(closestRef&&closestRef.getAttribute){if(closestRef.getAttribute('data-element-id'))return closestRef.getAttribute('data-element-id');if(closestRef.getAttribute('id'))return closestRef.getAttribute('id');}
if(elementRef.getAttribute&&elementRef.getAttribute('id'))return elementRef.getAttribute('id');}
return'';};var __detectElementDescription=function(){if(elementRef.getAttribute&&elementRef.getAttribute('data-description'))return elementRef.getAttribute('data-description');{if(elementRef.getAttribute&&elementRef.getAttribute('value'))return elementRef.getAttribute('value');var text=tealium_textClean((elementRef.textContent||elementRef.innerText||''),'[nobreaks][nospaces]');if(text)return text;}
{var selector='*[data-description]';var closestRef=DOM.getClosest(elementRef,selector,document.body);if(closestRef&&closestRef.getAttribute&&closestRef.getAttribute('data-description'))return closestRef.getAttribute('data-description');}
return'';};var __detectElementCounter=function(){var closestRef=DOM.getClosest(elementRef,'[data-analytics_available_call]',document.body);return closestRef&&closestRef.getAttribute?(closestRef.getAttribute('data-analytics_available_call')||''):'';};var __detectTrackingType=function(){if(elementRef.getAttribute&&elementRef.tagName=='A'){var href=elementRef.getAttribute('href');if(href&&(!/^#/.test(href))&&(!/\.pdf$|\.mp4$/i.test(href))&&(elementRef.hostname==window.location.hostname))return'hiddenaction';}
};datalayer.data_element_id=__detectElementId();datalayer.data_description=__detectElementDescription();datalayer.data_analytics_available_call=__detectElementCounter();datalayer.Tracking_Type=__detectTrackingType();}
__Utils__.UtagHelper.updateAnalyticsLog(datalayer,'set','listener',{status:'done',notes:'Automatic Click Tracking'});window.tealium_data2track.push(datalayer);}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:tealiumExtensionName,context:'handler',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:tealiumExtensionName,fname:'handler',msg:'has not been completed successfully! => caused by: '+e.stack});}}});}}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:tealiumExtensionName,context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:tealiumExtensionName,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.click_listener="25-07-02";}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='6.0 - Events Listener - Automatic Post Message Tracking';var tealiumExtensionCode=function(){try{UtagListeners.add({domNode:window,domSelectors:null,eventName:'message',eventHandler:function(eventObject){try{if(typeof eventObject.data==='object'&&eventObject.data&&/^(Impression|Event|Click|VirtualPage-View)$/.test(eventObject.data.id)){__Utils__.UtagHelper.updateAnalyticsLog(eventObject.data,'set','listener',{status:'done',notes:'Automatic Post Message Tracking'});window.tealium_data2track.push(eventObject.data);}}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:tealiumExtensionName,context:'handler',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:tealiumExtensionName,fname:'handler',msg:'has not been completed successfully! => caused by: '+e.stack});}}});}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:tealiumExtensionName,context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:tealiumExtensionName,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='6.0 - Events Listener - Clarip Consent - Accept - Trigger Tags';var tealiumExtensionCode=function(){try{if(window.utag_data&&window.utag_data.clarip_consent_status==='ON'){UtagListeners.add({domNode:document.body,domSelectors:'.cc-banner .cc-compliance .cc-allow',eventName:'mousedown',eventHandler:function(eventObject){try{if(window.utag_data&&window.tealium_data2track){var datalayer=utag_data.datacopy||utag_data;datalayer.id=datalayer.id||'VirtualPage-View';datalayer.Tags_AdobeAnalytics_Abort=1;delete datalayer.AnalyticsLogEventId;__Utils__.UtagHelper.updateAnalyticsLog(datalayer,'set','listener',{status:'done',notes:'Clarip - Automatic Tags Triggering'});setTimeout(function(datalayer){tealium_data2track.push(datalayer);},300,datalayer);}}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:tealiumExtensionName,context:'handler',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:tealiumExtensionName,fname:'handler',msg:'has not been completed successfully! => caused by: '+e.stack});}}});}}catch(e){__Utils__.SystemError.throw(window.utag_data,{component:tealiumExtensionName,context:'constructor',details:e});__Utils__.MessageLogging.showMessage({type:'error',cname:tealiumExtensionName,fname:'constructor',msg:'has not been completed successfully! => caused by: '+e.stack});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var tealiumExtensionClosureVars={};var tealiumExtensionName='6.1 - Dom Ready - Initialization';var tealiumExtensionCode=function(){try{UtagListeners.apply();__Utils__.UtagHelper.updateAnalyticsLog(window.utag_data,'set','domready',{status:'done',notes:'Listeners attached'});}catch(e){__Utils__.UtagHelper.throwSystemError('domready',window.utag_data,{component:'DomReadyInitialization',context:'constructor',details:e});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.domready="25-02-03";}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};}});(function(w){var i=0
if((typeof w.utag_events==='object'&&w.utag_events.length>0)){while(w.utag_events.length){d=w.utag_events.shift();(function(d){setTimeout(function(){utag.track({event:d.d,data:d.a,cfg:{cb:d.b,uids:d.c}});},150*i);})(d);i++;}}}(window));if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}
//tealium universal tag - utag.86 ut4.0.202509221016, Copyright 2025 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={};u.ev={"view":1};u.initialized=false;utag.o[loader].sender[id]=u;if(utag===undefined){utag={};}if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){this.onreadystatechange=null;o.cb();}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
u.checkForDefaultDecision=function(){var dataLayerArray=window.dataLayer||[];for(var i=dataLayerArray.length-1;i>=0;i--){if(dataLayerArray[i][0]==="consent"&&dataLayerArray[i][1]==="default"){return true;}}
return false;};u.getPreviousDecision=function(){var dataLayerArray=window.dataLayer||[];var extraCommands=["url_passthrough","ads_data_redaction"];var decision={};dataLayerArray.forEach(function(data){if(data[0]==="consent"){decision.consent=decision.consent||data[2];}
extraCommands.forEach(function(command){if(data[0]==="set"&&data[1]===command){decision[command]=decision[command]||data[2];}});});return decision;};u.isDeepEqual=function(object1,object2){function isObject(object){return object!==null&&typeof object==="object";}
var keys1=Object.keys(object1);var keys2=Object.keys(object2);if(keys1.length!==keys2.length)return false;for(var i=0;i<keys1.length;i++){var value1=object1[keys1[i]];var value2=object2[keys1[i]];var areObjects=isObject(value1)&&isObject(value2);if((areObjects&&!u.isDeepEqual(value1,value2))||(!areObjects&&value1!==value2))return false;}
return true;}
u.toBoolean=function(val){val=String(val)||"";return val===true||val.toLowerCase()==="true"||val.toLowerCase()==="on";};u.mapFunc=function(arr,obj,item){var i=arr.shift();obj[i]=obj[i]||{};if(arr.length>0){u.mapFunc(arr,obj[i],item);}else{obj[i]=item;}};u.getConsentValue=function(itemConsent){var googleConsentValues=['granted','denied'];var googleConsentValuesByKey=googleConsentValues.reduce(function(acc,value){acc[value]=value;return acc;},{});if(!u.data.tealium_consent||(!utag.gdpr&&u.data.tealium_consent)){return googleConsentValues.indexOf(itemConsent)===-1?googleConsentValuesByKey.denied:itemConsent;}else if(utag.gdpr&&u.data.tealium_consent){var consentState=utag.gdpr.getConsentState();if(consentState===1){return googleConsentValuesByKey.granted;}
if(consentState===-1||consentState===0){return googleConsentValuesByKey.denied;}
if(Array.isArray(consentState)){var selectedCategories=utag.gdpr.getSelectedCategories();if(googleConsentValues.indexOf(itemConsent)===-1){return selectedCategories.indexOf(itemConsent)===-1?googleConsentValuesByKey.denied:googleConsentValuesByKey.granted;}
return itemConsent;}
return googleConsentValuesByKey.denied;}};u.hasgtagjs=function(){var data_layer_name="dataLayer";window[data_layer_name]=window[data_layer_name]||[];window.gtagRename=window.gtagRename||"gtag";if(utag.ut.gtagScriptRequested||(typeof window[window.gtagRename]==="function"&&typeof window[data_layer_name]==="object")){return true;}
var i,s=document.getElementsByTagName("script");for(i=0;i<s.length;i++){if(s[i].src&&s[i].src.indexOf("gtag/js")>=0&&s[i].id&&s[i].id.indexOf("utag")>-1){return true;}}
if(typeof window[window.gtagRename]!=="function"){window[window.gtagRename]=function(){window[data_layer_name].push(arguments);};var cross_track=u.toBoolean(u.data.cross_domain_flag),cross_track_domains=u.data.cross_domains;if(cross_track&&cross_track_domains!==""){window[window.gtagRename]("set","linker",{domains:cross_track_domains.split(","),accept_incoming:true});}
window[window.gtagRename]("js",new Date());}
return false;};u.loaderCallback=function(){utag.DB('send:86:CALLBACK');u.callback();utag.DB('send:86:CALLBACK:COMPLETE');};u.callback=function(){var thisDecision={consent:{ad_storage:u.data.ad_storage_consent,analytics_storage:u.data.analytics_storage_consent,wait_for_update:u.data.wait_for_update,ad_user_data:u.data.ad_user_data,ad_personalization:u.data.ad_personalization},url_passthrough:u.data.url_passthrough,ads_data_redaction:u.data.ads_data_redaction};if(!u.checkForDefaultDecision()){u.o("set","url_passthrough",thisDecision.url_passthrough);u.o("set","ads_data_redaction",thisDecision.ads_data_redaction);u.o("consent","default",thisDecision.consent);}
if(!u.isDeepEqual(u.getPreviousDecision(),thisDecision)){u.o("set","url_passthrough",thisDecision.url_passthrough);u.o("set","ads_data_redaction",thisDecision.ads_data_redaction);u.o("consent","update",thisDecision.consent);}
u.data.events.forEach(function(eventName){u.sendEvent(eventName);});};u.sendEvent=function(eventName){var eventData={ad_storage:u.data.ad_storage_consent,analytics_storage:u.data.analytics_storage_consent,wait_for_update:u.data.wait_for_update,ad_user_data:u.data.ad_user_data,ad_personalization:u.data.ad_personalization,};utag.ut.merge(eventData,u.data[eventName],1);u.o('consent',eventName,eventData);};u.map={};u.extend=[];u.send=function(utag_event,data_layer){if(u.ev[utag_event]||u.ev.all!==undefined){var a,b,c,d,e,f;a=utag_event;b=data_layer;u.data={base_url:"https://www.googletagmanager.com/gtag/js",tealium_consent:"true",ad_storage_consent:b["google_ad_storage_consent"]||"misc",analytics_storage_consent:b["google_analytics_storage_consent"]||"analytics",ads_data_redaction:b["google_ads_data_redaction"]||"true",url_passthrough:b["google_url_passthrough"]||"true",wait_for_update:"500",ad_user_data:b["google_ad_user_data_consent"]||"misc",ad_personalization:b["google_ad_personalization_consent"]||"misc",custom:{},events:[]};Object.keys(utag.loader.GV(u.map)).forEach(function(mapping_key){if(data_layer[mapping_key]!==undefined&&data_layer[mapping_key]!==''){var destinations=u.map[mapping_key].split(',');destinations.forEach(function(parameter){u.mapFunc(parameter.split('.'),u.data,data_layer[mapping_key]);});}else{var event_destinations=mapping_key.split(':');if(event_destinations.length===2&&String(data_layer[event_destinations[0]])===String(event_destinations[1])){if(u.map[mapping_key]){u.data.events=u.data.events.concat(u.map[mapping_key].split(','));}}}});utag.DB('send:86:MAPPINGS');utag.DB(u.data);u.data.tealium_consent=u.toBoolean(u.data.tealium_consent);u.data.url_passthrough=u.toBoolean(u.data.url_passthrough);u.data.ads_data_redaction=u.toBoolean(u.data.ads_data_redaction);u.data.wait_for_update=Number(u.data.wait_for_update)||0;u.data.ad_storage_consent=u.getConsentValue(u.data.ad_storage_consent);u.data.analytics_storage_consent=u.getConsentValue(u.data.analytics_storage_consent);u.data.ad_user_data=u.getConsentValue(u.data.ad_user_data);u.data.ad_personalization=u.getConsentValue(u.data.ad_personalization);u.scriptrequested=u.hasgtagjs();u.o=window[window.gtagRename];if(u.initialized){u.callback();}else{u.initialized=true;window.addEventListener("consent_updated",function(){utag.view({tealium_event:"consent_update_for_google_consent_mode"},null,["86"]);});if(!u.hasgtagjs()){u.scriptrequested=true;utag.ut.gtagScriptRequested=true;u.loader({type:"script",src:u.data.base_url,cb:u.loaderCallback,loc:"script",id:"utag_86",attrs:{}});}else{u.callback();}}}};utag.o[loader].loader.LOAD(id);})("86","luxottica.oliverpeoples");}catch(error){utag.DB(error);}

//tealium universal tag - utag.70 ut4.0.202509221016, Copyright 2025 Tealium.com Inc. All Rights Reserved.
var _uxa=window._uxa||[];try{(function(id,loader){var u={"id":id};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}
var match=/ut\d\.(\d*)\..*/.exec(utag.cfg.v);if(utag.ut.loader===undefined||!match||parseInt(match[1])<41){u.loader=function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){b=m;}else{b=a.createElement("iframe");}o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}if(o.id){b.id=o.id;}for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l]);}b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){this.onreadystatechange=null;o.cb();}};}}if(o.type!="img"&&!m){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}}};}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
u.ev={"view":1,"link":1};u.scriptrequested=false;function forceBoolean(flag){if(typeof flag==="string"){if(flag.toLowerCase()==="false"){return false;}else if(flag.toLowerCase()==="true"){return true;}}
return Boolean(flag);};u.DVAR='dvar.';u.DVAR_LENGTH=u.DVAR.length;u.map={"Page_Type":"custom.1.Page Type","Page_Name":"custom.2.Page Name","Page_Section1":"custom.3.Page Section 1","Action":"custom.4.Action","User_LoginStatus":"custom.8.User Login Status","User_Segments":"custom.9.User Segments","Order_PaymentType":"custom.10.Order Payment Type","Search_Keyword":"custom.11.Search Keyword","Error_Code":"custom.12.Error Code","Order_CartId":"custom.13.Order Cart ID","Order_Id":"custom.14.Order ID","Exam_Id":"custom.15.Exam ID","Action_PreviousAction":"custom.16.Action Previous","_csubtotal":"order_total","Tags__VarsCustom1":"id_project","Tags_ClickTale_UserId":"dvar.csMatchingKey"};u.extend=[function(a,b){try{if(1){(function(){var version="1.11.0";function callback(){if(!disableCallback){disableCallback=true;if(window.CS_CONF){CS_CONF.integrations=CS_CONF.integrations||[];CS_CONF.integrations.push("Adobe Analytics - v"+version);}}}
var disableCallback=false;window._uxa=window._uxa||[];_uxa.push(["afterPageView",callback]);var cmk=null;var cn="_cs_mk_aa";function init(cookieValue){if(cookieValue){cmk=cookieValue;}else{cmk=Math.random()+"_"+Date.now();var now=new Date();var time=now.getTime();time+=30*60*1000;now.setTime(time);document.cookie=cn+"="+cmk+"; expires="+now.toUTCString()+";path=/;domain=."+utag.cfg.domain+";SameSite=None;Secure";}
window.utag_data.Tags_ClickTale_UserId=cmk;_uxa.push(["trackDynamicVariable",{key:"csMatchingKey",value:cmk,},]);}
if(!b["cp._cs_mk_aa"]){init();}else{var getCookieValue=b["cp._cs_mk_aa"];init(getCookieValue);}
if(window.utag_data.Tags_Tealium_Triggered_Array)window.utag_data.Tags_Tealium_Triggered_Array.push("CS");})();}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.Error_Source||b.Error_Code||b.Events_Error=='1'||b.id=='Error'){window._uxa=window._uxa||[];window._uxa.push(["trackError",b.Error_Details,{"source":b.Error_Source,"code":b.Error_Code,"message":b.Error_Message,"blocking":(/^UX$/i.test(b.Error_SourceLabel)||/^PRODUCT$/i.test(b.Error_SourceLabel)||(b.Error_SourceLabel&&(!/^(IT|CONTENT|MARKETING|UX|PRODUCT)$/i.test(b.Error_SourceLabel)))?'no':'yes'),}]);}}}catch(e){utag.DB(e)}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){utag.DB("send:70");utag.DB(b);var c,d,e,f,udh_collection=[];u.data={"base_url":"//t.contentsquare.net/uxa/##utag_id_project##.js","id_project":"e7ed078174df8","custom":{},"path":"","product_id":[],"product_name":[],"product_sku":[],"product_category":[],"product_quantity":[],"product_unit_price":[],"order_id":"","order_total":"","order_shipping":"","order_tax":"","order_currency":"","send_udh_audiences":"false","send_udh_data":{},"sendEventsToReplay":"","dvar":{},};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){if(typeof utag_err!='undefined'){utag_err.push({e:'extension error:'+e,s:utag.cfg.path+'utag.'+id+'.js',l:c,t:'ex'})}}};utag.DB("send:70:EXTENSIONS");utag.DB(b);c=[];for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){if(e[f].indexOf("custom.")===0){u.data.custom[[e[f].substr(7)]]=b[d];}else if(e[f].indexOf("send_udh_data.")===0||e[f].indexOf("send_data.")===0){u.data.send_udh_data[d]=e[f].split(".")[1];}else if(e[f]==="send_audiences"){u.data.send_udh_audiences=b[d];}else if(e[f].indexOf(u.DVAR)===0){u.data.dvar[[e[f].substr(u.DVAR_LENGTH)]]=b[d];}
else{u.data[e[f]]=b[d];}}}}
utag.DB("send:70:MAPPINGS");utag.DB(u.data);u.data.order_id=u.data.order_id||b._corder||"";u.data.order_total=u.data.order_total||b._ctotal||"";u.data.order_shipping=u.data.order_shipping||b._cship||"";u.data.order_tax=u.data.order_tax||b._ctax||"";u.data.order_currency=u.data.order_currency||b._ccurrency||"";if(u.data.product_id.length===0&&b._cprod!==undefined){u.data.product_id=b._cprod.slice(0);}
if(u.data.product_name.length===0&&b._cprodname!==undefined){u.data.product_name=b._cprodname.slice(0);}
if(u.data.product_sku.length===0&&b._csku!==undefined){u.data.product_sku=b._csku.slice(0);}
if(u.data.product_category.length===0&&b._ccat!==undefined){u.data.product_category=b._ccat.slice(0);}
if(u.data.product_quantity.length===0&&b._cquan!==undefined){u.data.product_quantity=b._cquan.slice(0);}
if(u.data.product_unit_price.length===0&&b._cprice!==undefined){u.data.product_unit_price=b._cprice.slice(0);}
u.data.base_url=u.data.base_url.replace("##utag_id_project##",u.data.id_project);u.data.path=u.data.path||location.pathname+location.hash.replace("#","?__");var custom,customVar;for(custom in u.data.custom){if(u.data.custom.hasOwnProperty(custom)&&custom!==""){customVar=custom.split(".");_uxa.push(["setCustomVariable",customVar[0],customVar[1],u.data.custom[custom],3]);}}
if(forceBoolean(u.data.send_udh_audiences)){Object.keys(b).forEach(function(key){if(key.indexOf("va.audiences.")===0){_uxa.push(["trackDynamicVariable",{"key":"CDP_TL_Audience ID : "+key.substr(key.lastIndexOf("_")+1),"value":b[key]}]);}});}
Object.keys(u.data.send_udh_data).forEach(function(key){_uxa.push(["trackDynamicVariable",{"key":"CDP_TL_Badge ID : "+key.substr(key.lastIndexOf(".")+1),"value":u.data.send_udh_data[key]}]);});Object.keys(u.data.dvar).forEach(function(key){_uxa.push(["trackDynamicVariable",{"key":key,"value":u.data.dvar[key]}]);});if(a==="view"){_uxa.push(["trackPageview",u.data.path]);}else{_uxa.push(["setPath",u.data.path]);}
if(u.data.order_id&&u.data.order_total){_uxa.push(["ecommerce:addTransaction",{"id":u.data.order_id,"revenue":u.data.order_total,"shipping":u.data.order_shipping,"tax":u.data.order_tax,"currency":u.data.order_currency}]);for(f=0;f<u.data.product_id.length;f++){if(u.data.product_name[f]&&u.data.product_sku[f]&&!isNaN(parseFloat(u.data.product_unit_price[f]))&&!isNaN(parseFloat(u.data.product_quantity[f]))){_uxa.push(["ecommerce:addItem",{"id":u.data.order_id,"name":u.data.product_name[f],"sku":u.data.product_sku[f],"category":u.data.product_category[f],"price":u.data.product_unit_price[f],"quantity":u.data.product_quantity[f]}]);}else{utag.DB(u.id+" (ContentSquare): Item not tracked in transaction: Required attribute(s) not populated");}}
_uxa.push(["ecommerce:send"]);}else{utag.DB(u.id+" (ContentSquare): Transaction not tracked: Required attribute(s) not populated");}
if(!u.scriptrequested){u.scriptrequested=true;u.loader({"type":"script","src":u.data.base_url,"cb":null,"loc":"script","id":"utag_70","attrs":{}});}
utag.DB("send:70:COMPLETE");}};utag.o[loader].loader.LOAD(id);}("70","luxottica.oliverpeoples"));}catch(error){utag.DB(error);}

//tealium universal tag - utag.2 ut4.0.202509221016, Copyright 2025 Tealium.com Inc. All Rights Reserved.
var instanceName="__AppMeasurement__"
window[instanceName]=s_gi("")
window[instanceName].account="";window[instanceName].trackDownloadLinks="false";window[instanceName].trackExternalLinks="false";window[instanceName].trackInlineStats=false;window[instanceName].linkInternalFilters="";window[instanceName].linkLeaveQueryString=false;window[instanceName].linkTrackVars="None";window[instanceName].linkTrackEvents="None";window[instanceName].usePlugins=false;window[instanceName].currencyCode="USD";window[instanceName].visitorNamespace="luxottica";window[instanceName].trackingServer="";window[instanceName].trackingServerSecure="";window[instanceName].charSet="UTF-8";window[instanceName].decodeLinkParameters=toBoolean("true")||false;window[instanceName].expectSupplementalData=false;window[instanceName].debugTracking=(utag.cfg)?utag.cfg.utagdb:false;function AppMeasurement(r){var a=this;a.version="2.25.0";var h=window;h.s_c_in||(h.s_c_il=[],h.s_c_in=0);a._il=h.s_c_il;a._in=h.s_c_in;a._il[a._in]=a;h.s_c_in++;a._c="s_c";var q=h.AppMeasurement.uc;q||(q=null);var p=h,m,s;try{for(m=p.parent,s=p.location;m&&m.location&&s&&""+m.location!==""+s&&p.location&&""+m.location!==""+p.location&&m.location.host===s.host;)p=m,m=p.parent}catch(u){}a.log=function(a){try{console.log(a)}catch(c){}};a.Ya=function(a){return""+parseInt(a)==""+a};a.replace=function(a,c,d){return!a||0>a.indexOf(c)?a:a.split(c).join(d)};a.escape=function(b){var c,d;if(!b)return b;b=encodeURIComponent(b);for(c=0;7>c;c++)d="+~!*()'".substring(c,c+1),0<=b.indexOf(d)&&(b=a.replace(b,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return b};a.unescape=function(b){if(!b)return b;b=0<=b.indexOf("+")?a.replace(b,"+"," "):b;try{return decodeURIComponent(b)}catch(c){}return unescape(b)};a.ac=function(){var b=h.location.hostname,c=a.fpCookieDomainPeriods,d;c||(c=a.cookieDomainPeriods);if(b&&!a.Ra&&!/^[0-9.]+$/.test(b)&&(c=c?parseInt(c):2,c=2<c?c:2,d=b.lastIndexOf("."),0<=d)){for(;0<=d&&1<c;)d=b.lastIndexOf(".",d-1),c--;a.Ra=0<d?b.substring(d):b}return a.Ra};a.c_r=a.cookieRead=function(b){b=a.escape(b);var c=" "+a.d.cookie,d=c.indexOf(" "+b+"="),f=0>d?d:c.indexOf(";",d);b=0>d?"":a.unescape(c.substring(d+2+b.length,0>f?c.length:f));return"[[B]]"!=b?b:""};a.c_w=a.cookieWrite=function(b,c,d){var f=a.ac(),e=a.cookieLifetime,g;c=""+c;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=e&&"NONE"!=e&&((g=""!=c?parseInt(e?e:0):-60)?(d=new Date,d.setTime(d.getTime()+1E3*g)):1===d&&(d=new Date,g=d.getYear(),d.setYear(g+2+(1900>g?1900:0))));return b&&"NONE"!=e?(a.d.cookie=a.escape(b)+"="+a.escape(""!=c?c:"[[B]]")+"; path=/;"+(d&&"SESSION"!=e?" expires="+d.toUTCString()+";":"")+(f?" domain="+f+";":"")+(a.writeSecureCookies?" secure;":""),a.cookieRead(b)==c):0};a.Yb=function(){var b=a.Util.getIeVersion();"number"===typeof b&&10>b&&(a.unsupportedBrowser=!0,a.Jb(a,function(){}))};a.Ea=function(){var a=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName||0<=a.indexOf("MSIE ")||0<=a.indexOf("Trident/")&&0<=a.indexOf("Windows NT 6")?!0:!1};a.Jb=function(a,c){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&"function"===typeof a[d]&&(a[d]=c)};a.M=[];a.ja=function(b,c,d){if(a.Sa)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,k=["webkitvisibilitychange","visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.ka)for(a.ka=1,d=0;d<k.length;d++)a.d.addEventListener(k[d],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&(a.ka=0,a.delayReady())});f=1;e=0}else d||a.v("_d")&&(f=1);f&&(a.M.push({m:b,a:c,t:e}),a.ka||setTimeout(a.delayReady,a.maxDelay));return f};a.delayReady=function(){var b=(new Date).getTime(),c=0,d;for(a.v("_d")?c=1:a.Ga();0<a.M.length;){d=a.M.shift();if(c&&!d.t&&d.t>b){a.M.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.Sa=1;a[d.m].apply(a,d.a);a.Sa=0}};a.setAccount=a.sa=function(b){var c,d;if(!a.ja("setAccount",arguments))if(a.account=b,a.allAccounts)for(c=a.allAccounts.concat(b.split(",")),a.allAccounts=[],c.sort(),d=0;d<c.length;d++)0!=d&&c[d-1]==c[d]||a.allAccounts.push(c[d]);else a.allAccounts=b.split(",")};a.foreachVar=function(b,c){var d,f,e,g,k="";e=f="";if(a.lightProfileID)d=a.Q,(k=a.lightTrackVars)&&(k=","+k+","+a.pa.join(",")+",");else{d=a.i;if(a.pe||a.linkType)k=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(k=a[e].qc,f=a[e].pc));k&&(k=","+k+","+a.F.join(",")+",");f&&k&&(k+=",events,")}c&&(c=","+c+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!k||0<=k.indexOf(","+e+","))&&(!c||0<=c.indexOf(","+e+","))&&b(e,g)};a.l=function(b,c,d,f,e){var g="",k,l,h,n,m=0;"contextData"==b&&(b="c");"clientHints"==b&&(b="h");if(c){for(k in c)if(!(Object.prototype[k]||e&&k.substring(0,e.length)!=e)&&c[k]&&(!d||0<=d.indexOf(","+(f?f+".":"")+k+","))){h=!1;if(m)for(l=0;l<m.length;l++)if(k.substring(0,m[l].length)==m[l]){h=!0;break}if(!h&&(""==g&&(g+="&"+b+"."),l=c[k],e&&(k=k.substring(e.length)),0<k.length))if(h=k.indexOf("."),0<h)l=k.substring(0,h),h=(e?e:"")+l+".",m||(m=[]),m.push(h),g+=a.l(l,c,d,f,h);else if("boolean"==typeof l&&(l=l?"true":"false"),l){if("retrieveLightData"==f&&0>e.indexOf(".contextData."))switch(h=k.substring(0,4),n=k.substring(4),k){case"transactionID":k="xact";break;case"channel":k="ch";break;case"campaign":k="v0";break;default:a.Ya(n)&&("prop"==h?k="c"+n:"eVar"==h?k="v"+n:"list"==h?k="l"+n:"hier"==h&&(k="h"+n,l=l.substring(0,255)))}g+="&"+a.escape(k)+"="+a.escape(l)}}""!=g&&(g+="&."+b)}return g};a.usePostbacks=0;a.ec=function(){var b="",c,d,f,e,g,k,l,h,n="",m="",p=e="",r=a.W();if(a.lightProfileID)c=a.Q,(n=a.lightTrackVars)&&(n=","+n+","+a.pa.join(",")+",");else{c=a.i;if(a.pe||a.linkType)n=a.linkTrackVars,m=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(n=a[e].qc,m=a[e].pc));n&&(n=","+n+","+a.F.join(",")+",");m&&(m=","+
m+",",n&&(n+=",events,"));a.events2&&(p+=(""!=p?",":"")+a.events2)}if(r&&r.getCustomerIDs){e=q;if(g=r.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],"object"==typeof f&&(e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState)));e&&(b+=a.l("cid",e))}a.AudienceManagement&&a.AudienceManagement.isReady()&&(b+=a.l("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<c.length;d++){e=c[d];g=a[e];f=e.substring(0,4);k=e.substring(4);g||("events"==e&&p?(g=p,p=""):"marketingCloudOrgID"==e&&r&&a.X("ECID")&&(g=r.marketingCloudOrgID));if(g&&(!n||0<=n.indexOf(","+e+","))){switch(e){case"customerPerspective":e="cp";break;case"marketingCloudOrgID":e="mcorgid";break;case"supplementalDataID":e="sdid";break;case"timestamp":e="ts";break;case"dynamicVariablePrefix":e="D";break;case"visitorID":e="vid";break;case"marketingCloudVisitorID":e="mid";break;case"analyticsVisitorID":e="aid";break;case"audienceManagerLocationHint":e="aamlh";break;case"audienceManagerBlob":e="aamb";break;case"authState":e="as";break;case"pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case"pageURLRest":e="-g";break;case"referrer":e="r";break;case"vmk":case"visitorMigrationKey":e="vmt";break;case"visitorMigrationServer":e="vmf";a.ssl&&a.visitorMigrationServerSecure&&(g="");break;case"visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case"charSet":e="ce";break;case"visitorNamespace":e="ns";break;case"cookieDomainPeriods":e="cdp";break;case"cookieLifetime":e="cl";break;case"variableProvider":e="vvp";break;case"currencyCode":e="cc";break;case"channel":e="ch";break;case"transactionID":e="xact";break;case"campaign":e="v0";break;case"latitude":e="lat";break;case"longitude":e="lon";break;case"resolution":e="s";break;case"colorDepth":e="c";break;case"javascriptVersion":e="j";break;case"javaEnabled":e="v";break;case"cookiesEnabled":e="k";break;case"browserWidth":e="bw";break;case"browserHeight":e="bh";break;case"connectionType":e="ct";break;case"homepage":e="hp";break;case"events":p&&(g+=(""!=g?",":"")+p);if(m)for(k=g.split(","),g="",f=0;f<k.length;f++)l=k[f],h=l.indexOf("="),0<=h&&(l=l.substring(0,h)),h=l.indexOf(":"),0<=h&&(l=l.substring(0,h)),0<=m.indexOf(","+l+",")&&(g+=(g?",":"")+k[f]);break;case"events2":g="";break;case"contextData":b+=a.l("c",a[e],n,e);g="";break;case"clientHints":b+=a.l("h",a[e],n,e);g="";break;case"lightProfileID":e="mtp";break;case"lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case"lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case"retrieveLightProfiles":e="mtsr";break;case"deleteLightProfiles":e="mtsd";break;case"retrieveLightData":a.retrieveLightProfiles&&(b+=a.l("mts",a[e],n,e));g="";break;default:a.Ya(k)&&("prop"==f?e="c"+k:"eVar"==f?e="v"+k:"list"==f?e="l"+k:"hier"==f&&(e="h"+k,g=g.substring(0,255)))}g&&(b+="&"+e+"="+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(b+=a.e)}a.oa&&(b+="&lrt="+a.oa,a.oa=null);return b};a.C=function(a){var c=a.tagName;if("undefined"!=""+a.xc||"undefined"!=""+a.lc&&"HTML"!=(""+a.lc).toUpperCase())return"";c=c&&c.toUpperCase?c.toUpperCase():"";"SHAPE"==c&&(c="");c&&(("INPUT"==c||"BUTTON"==c)&&a.type&&a.type.toUpperCase?c=a.type.toUpperCase():!c&&a.href&&(c="A"));return c};a.Ua=function(a){var c=h.location,d=a.href?a.href:"",f,e,g;"string"!==typeof d&&(d="");f=d.indexOf(":");e=d.indexOf("?");g=d.indexOf("/");d&&(0>f||0<=e&&f>e||0<=g&&f>g)&&(e=a.protocol&&1<a.protocol.length?a.protocol:c.protocol?c.protocol:"",f=c.pathname.lastIndexOf("/"),d=(e?e+"//":"")+(a.host?a.host:c.host?c.host:"")+("/"!=d.substring(0,1)?c.pathname.substring(0,0>f?0:f)+"/":"")+d);return d};a.N=function(b){var c=a.C(b),d,f,e="",g=0;return c&&(d=b.protocol,f=b.onclick,!b.href||"A"!=c&&"AREA"!=c||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?(e=a.replace(a.replace(a.replace(a.replace(""+f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==c||"SUBMIT"==c?(b.value?e=b.value:b.innerText?e=b.innerText:b.textContent&&(e=b.textContent),g=3):"IMAGE"==c&&b.src&&(e=b.src):e=a.Ua(b),e)?{id:e.substring(0,100),type:g}:0};a.vc=function(b){for(var c=a.C(b),d=a.N(b);b&&!d&&"BODY"!=c;)if(b=b.parentElement?b.parentElement:b.parentNode)c=a.C(b),d=a.N(b);d&&"BODY"!=c||(b=0);b&&(c=b.onclick?""+b.onclick:"",0<=c.indexOf(".tl(")||0<=c.indexOf(".trackLink("))&&(b=0);return b};a.kc=function(){var b,c,d=a.linkObject,f=a.linkType,e=a.linkURL,g,k;a.qa=1;d||(a.qa=0,d=a.clickObject);if(d){b=a.C(d);for(c=a.N(d);d&&!c&&"BODY"!=b;)if(d=d.parentElement?d.parentElement:d.parentNode)b=a.C(d),c=a.N(d);c&&"BODY"!=b||(d=0);if(d&&!a.linkObject){var l=d.onclick?""+d.onclick:"";if(0<=l.indexOf(".tl(")||0<=l.indexOf(".trackLink("))d=0}}else a.qa=1;!e&&d&&(e=a.Ua(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var m=0,n=0,p;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(l=e.toLowerCase(),g=l.indexOf("?"),k=l.indexOf("#"),0<=g?0<=k&&k<g&&(g=k):g=k,0<=g&&(l=l.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),k=0;k<g.length;k++)(p=g[k])&&l.substring(l.length-(p.length+1))=="."+p&&(f="d");if(a.trackExternalLinks&&!f&&(l=e.toLowerCase(),a.Xa(l)&&(a.linkInternalFilters||(a.linkInternalFilters=h.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),m=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),g))){for(k=0;k<g.length;k++)p=g[k],0<=l.indexOf(p)&&(n=1);n?m&&(f="e"):m||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),h.s_objectID&&(c.id=h.s_objectID,d=c.type=1),f&&c&&c.id&&b&&(a.e="&pid="+a.escape(f.substring(0,255))+(e?"&pidt="+e:"")+"&oid="+a.escape(c.id.substring(0,100))+(c.type?"&oidt="+c.type:"")+"&ot="+b+(d?"&oi="+d:"")))};a.fc=function(){var b=a.qa,c=a.linkType,d=a.linkURL,f=a.linkName;c&&(d||f)&&(c=c.toLowerCase(),"d"!=c&&"e"!=c&&(c="o"),a.pe="lnk_"+c,a.decodeLinkParameters?(a.pev1=d?a.unescape(d):"",a.pev2=f?a.unescape(f):"",a.pev1=a.escape(a.pev1),a.pev2=a.escape(a.pev2)):(a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):""),b=1);a.abort&&(b=0);if(a.trackClickMap||a.trackInlineStats||a.hc()){var c={},d=0,e=a.Db(),g=e?e.split("&"):0,k,l,h,e=0;if(g)for(k=0;k<g.length;k++)l=g[k].split("="),f=a.unescape(l[0]).split(","),l=a.unescape(l[1]),c[l]=f;f=a.account.split(",");k={};for(h in a.contextData)h&&!Object.prototype[h]&&"a.activitymap."==h.substring(0,14)&&(k[h]=a.contextData[h],a.contextData[h]="");a.e=a.l("c",k)+(a.e?a.e:"");if(b||a.e){b&&!a.e&&(e=1);for(l in c)if(!Object.prototype[l])for(h=0;h<f.length;h++)for(e&&(g=c[l].join(","),g==a.account&&(a.e+=("&"!=l.charAt(0)?"&":"")+l,c[l]=[],d=1)),k=0;k<c[l].length;k++)g=c[l][k],g==f[h]&&(e&&(a.e+="&u="+a.escape(g)+("&"!=l.charAt(0)?"&":"")+l+"&u=0"),c[l].splice(k,1),d=1);b||(d=1);if(d){e="";k=2;!b&&a.e&&(e=a.escape(f.join(","))+"="+a.escape(a.e),k=1);for(l in c)!Object.prototype[l]&&0<k&&0<c[l].length&&(e+=(e?"&":"")+a.escape(c[l].join(","))+"="+a.escape(l),k--);a.Lb(e)}}}return b};a.Db=function(){if(a.useLinkTrackSessionStorage){if(a.o(h.sessionStorage))try{return h.sessionStorage.getItem(a.R)}catch(b){}}else return a.cookieRead(a.R)};a.Lb=function(b){if(a.useLinkTrackSessionStorage){if(a.o(h.sessionStorage))try{h.sessionStorage.setItem(a.R,b)}catch(c){}}else a.cookieWrite(a.R,b)};a.gc=function(){if(!a.oc){var b=new Date,c=p.location,d,f,e=f=d="",g="",k="",h="1.2",m=a.cookieWrite("s_cc","true",0)?"Y":"N",n="",q="";if(b.setUTCDate&&(h="1.3",(0).toPrecision&&(h="1.5",b=[],b.forEach))){h="1.6";f=0;d={};try{f=new Iterator(d),f.next&&(h="1.7",b.reduce&&(h="1.8",h.trim&&(h="1.8.1",Date.parse&&(h="1.8.2",Object.create&&(h="1.8.5")))))}catch(r){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;k=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),n=a.b.wc(c)?"Y":"N"}catch(s){}try{a.b.addBehavior("#default#clientCaps"),q=a.b.connectionType}catch(t){}a.resolution=d;a.colorDepth=f;a.javascriptVersion=h;a.javaEnabled=e;a.cookiesEnabled=m;a.browserWidth=g;a.browserHeight=k;a.connectionType=q;a.homepage=n;a.oc=1}};a.ob=function(){if(a.collectHighEntropyUserAgentHints&&!a.J&&a.jb()){a.J=!0;try{navigator.userAgentData.getHighEntropyValues(a.wa).then(function(b){a.clientHints={};a.wa.forEach(function(d){Object.prototype.hasOwnProperty.call(b,d)&&(a.clientHints[d]=b[d])})})["catch"](function(b){a.J=!1;a.clientHints={};a.debugTracking&&a.log(b.message)})}catch(b){a.J=!1,a.clientHints={},a.debugTracking&&a.log(b.message)}}else a.clientHints={}};a.jb=function(){return"undefined"!==typeof navigator.userAgentData};a.S={};a.loadModule=function(b,c){var d=a.S[b];if(!d){d=h["AppMeasurement_Module_"+b]?new h["AppMeasurement_Module_"+b](a):{};a.S[b]=a[b]=d;d.vb=function(){return d.Gb};d.Mb=function(c){if(d.Gb=c)a[b+"_onLoad"]=c,a.ja(b+"_onLoad",[a,d],1)||c(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",{get:d.vb,set:d.Mb}):d._olc=1}catch(f){d._olc=1}}c&&(a[b+"_onLoad"]=c,a.ja(b+"_onLoad",[a,d],1)||c(a,d))};a.v=function(b){var c,d;for(c in a.S)if(!Object.prototype[c]&&(d=a.S[c])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[b]&&d[b]()))return 1;return 0};a.hc=function(){return a.ActivityMap&&a.ActivityMap._c?!0:!1};a.ic=function(){var b=Math.floor(1E13*Math.random()),c=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);if(c){c*=100;f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,b))return 0;f=b}if(f%1E4>c)return 0}return 1};a.U=function(b,c){var d,f,e,g,k,h,m;m={};for(d=0;2>d;d++)for(f=0<d?a.Na:a.i,e=0;e<f.length;e++)if(g=f[e],(k=b[g])||b["!"+g]){if(k&&!c&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(h in a[g])k[h]||(k[h]=a[g][h]);a[g]||(m["!"+g]=1);m[g]=a[g];a[g]=k}return m};a.tc=function(b){var c,d,f,e;for(c=0;2>c;c++)for(d=0<c?a.Na:a.i,f=0;f<d.length;f++)e=d[f],b[e]=a[e],b[e]||"prop"!==e.substring(0,4)&&"eVar"!==e.substring(0,4)&&"hier"!==e.substring(0,4)&&"list"!==e.substring(0,4)&&"channel"!==e&&"events"!==e&&"eventList"!==e&&"products"!==e&&"productList"!==e&&"purchaseID"!==e&&"transactionID"!==e&&"state"!==e&&"zip"!==e&&"campaign"!==e&&"events2"!==e&&"latitude"!==e&&"longitude"!==e&&"ms_a"!==e&&"contextData"!==e&&"supplementalDataID"!==e&&"tnt"!==e&&"timestamp"!==e&&"abort"!==e&&"useBeacon"!==e&&"linkObject"!==e&&"clickObject"!==e&&"linkType"!==e&&"linkName"!==e&&"linkURL"!==e&&"bodyClickTarget"!==e&&"bodyClickFunction"!==e||(b["!"+e]=1)};a.$b=function(a){var c,d,f,e,g,h=0,l,m="",n="";if(a&&255<a.length&&(c=""+a,d=c.indexOf("?"),0<d&&(l=c.substring(d+1),c=c.substring(0,d),e=c.toLowerCase(),f=0,"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=c.substring(d),c=c.substring(0,d),0<=e.indexOf("google")?h=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")?h=",p,ei,":0<=e.indexOf("baidu.")&&(h=",wd,word,"),h&&l)))){if((a=l.split("&"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("="),0<d&&0<=h.indexOf(","+e.substring(0,d)+",")?m+=(m?"&":"")+e:n+=(n?"&":"")+e;m&&n?l=m+"&"+n:n=""}d=253-
(l.length-n.length)-c.length;a=c+(0<d?g.substring(0,d):"")+"?"+l}return a};a.mb=function(b){var c=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];c||(c=a.d.webkitVisibilityState);if(c&&"prerender"==c){if(b)for(c=0;c<d.length;c++)a.d.addEventListener(d[c],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);"visible"==c&&b()});return!1}return!0};a.ga=!1;a.H=!1;a.Pb=function(){a.H=!0;a.q()};a.K=!1;a.Qb=function(b){a.marketingCloudVisitorID=b.MCMID;a.visitorOptedOut=b.MCOPTOUT;a.analyticsVisitorID=b.MCAID;a.audienceManagerLocationHint=b.MCAAMLH;a.audienceManagerBlob=b.MCAAMB;a.K=!1;a.q()};a.lb=function(b){a.maxDelay||(a.maxDelay=250);return a.v("_d")?(b&&setTimeout(function(){b()},a.maxDelay),!1):!0};a.ea=!1;a.G=!1;a.Ga=function(){a.G=!0;a.q()};a.isReadyToTrack=function(){var b=!0;if(!a.Ab()||!a.yb())return!1;a.Cb()||(b=!1);a.Fb()||(b=!1);a.nb()||(b=!1);return b};a.Ab=function(){a.ga||a.H||(a.mb(a.Pb)?a.H=!0:a.ga=!0);return a.ga&&!a.H?!1:!0};a.yb=function(){var b=a.Ca();if(b)if(a.ya||a.fa)if(a.ya){if(!b.isApproved(b.Categories.ANALYTICS))return!1}else return!1;else return b.fetchPermissions(a.Hb,!0),a.fa=!0,!1;return!0};a.X=function(b){var c=a.Ca();return c&&!c.isApproved(c.Categories[b])?!1:!0};a.Ca=function(){return h.adobe&&h.adobe.optIn?h.adobe.optIn:null};a.ca=!0;a.Cb=function(){var b=a.W();if(!b||!b.getVisitorValues)return!0;a.ca&&(a.ca=!1,a.K||(a.K=!0,b.getVisitorValues(a.Qb)));return!a.K};a.W=function(){var b=a.visitor;b&&!b.isAllowed()&&(b=null);return b};a.Fb=function(){a.ea||a.G||(a.lb(a.Ga)?a.G=!0:a.ea=!0);return a.ea&&!a.G?!1:!0};a.nb=function(){a.J||a.clientHints||a.ob();return a.clientHints};a.fa=!1;a.Hb=function(){a.fa=!1;a.ya=!0};a.j=q;a.r=0;a.callbackWhenReadyToTrack=function(b,c,d){var f;f={};f.Ub=b;f.Tb=c;f.Rb=d;a.j==q&&(a.j=[]);a.j.push(f);0==a.r&&(a.r=setInterval(a.q,100))};a.q=function(){var b;if(a.isReadyToTrack()&&(a.Nb(),a.j!=q))for(;0<a.j.length;)b=a.j.shift(),b.Tb.apply(b.Ub,b.Rb)};a.Nb=function(){a.r&&(clearInterval(a.r),a.r=0)};a.za=function(b){var c,d={};a.tc(d);if(b!=q)for(c in b)d[c]=b[c];a.callbackWhenReadyToTrack(a,a.Ma,[d]);a.Ja()};a.bc=function(){var b=a.cookieRead("s_fid"),c="",d="",f;f=8;var e=4;if(!b||0>b.indexOf("-")){for(b=0;16>b;b++)f=Math.floor(Math.random()*f),c+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;b=c+"-"+d}a.cookieWrite("s_fid",b,1)||(b=0);return b};a.Ma=function(b){var c=new Date,d="s"+Math.floor(c.getTime()/108E5)%10+Math.floor(1E13*Math.random()),f=c.getYear(),f="t="+a.escape(c.getDate()+"/"+c.getMonth()+"/"+(1900>f?f+1900:f)+" "+c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+" "+c.getDay()+" "+c.getTimezoneOffset()),e=a.W(),g;b&&(g=a.U(b,1));a.ic()&&!a.visitorOptedOut&&(a.Da()||(a.fid=a.bc()),a.kc(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(c.getTime()/1E3)),b=h.location,a.pageURL||(a.pageURL=b.href?b.href:b),a.referrer||a.hb||(b=a.Util.getQueryParam("adobe_mc_ref",null,null,!0),a.referrer=b||void 0===b?void 0===b?"":b:p.document.referrer),a.hb=1,!a.referrer&&a.da&&(a.referrer=a.da),a.da=0,a.referrer=a.$b(a.referrer),a.v("_g")),a.fc()&&!a.abort&&(e&&a.X("TARGET")&&!a.supplementalDataID&&e.getSupplementalDataID&&(a.supplementalDataID=e.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0)),a.X("AAM")||(a.contextData["cm.ssf"]=1),a.gc(),a.Ib(),f+=a.ec(),a.Eb(d,f),a.v("_t"),a.referrer="",a.contextData&&a.contextData.excCodes&&(a.contextData.excCodes=0))));a.referrer&&(a.da=a.referrer);a.Ja();g&&a.U(g,1)};a.t=a.track=function(b,c){c&&a.U(c);a.ca=!0;a.isReadyToTrack()?null!=a.j&&0<a.j.length?(a.za(b),a.q()):a.Ma(b):a.za(b)};a.Ib=function(){a.writeSecureCookies&&!a.ssl&&a.ib()};a.ib=function(){a.contextData.excCodes=a.contextData.excCodes||[];a.contextData.excCodes.push(1)};a.Ja=function(){a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=h.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=a.useBeacon=a.referrer=0};a.Ia=[];a.registerPreTrackCallback=function(b){for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);"function"==typeof b?a.Ia.push([b,c]):a.debugTracking&&a.log("Warning, Non function type passed to registerPreTrackCallback")};a.sb=function(b){a.Ba(a.Ia,b)};a.Ha=[];a.registerPostTrackCallback=function(b){for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);"function"==typeof b?a.Ha.push([b,c]):a.debugTracking&&a.log("Warning, Non function type passed to registerPostTrackCallback")};a.rb=function(b){a.Ba(a.Ha,b)};a.Ba=function(b,c){if("object"==typeof b)for(var d=0;d<b.length;d++){var f=b[d][0],e=b[d][1].slice();e.unshift(c);if("function"==typeof f)try{f.apply(null,e)}catch(g){a.debugTracking&&a.log(g.message)}}};a.tl=a.trackLink=function(b,c,d,f,e){a.linkObject=b;a.linkType=c;a.linkName=d;e&&(a.bodyClickTarget=b,a.bodyClickFunction=e);return a.track(f)};a.trackLight=function(b,c,d,f){a.lightProfileID=b;a.lightStoreForSeconds=c;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var b,c;for(b=0;b<a.i.length;b++)if(c=a.i[b],"prop"==c.substring(0,4)||"eVar"==c.substring(0,4)||"hier"==c.substring(0,4)||"list"==c.substring(0,4)||"channel"==c||"events"==c||"eventList"==c||"products"==c||"productList"==c||"purchaseID"==c||"transactionID"==c||"state"==c||"zip"==c||"campaign"==c)a[c]=void 0};a.tagContainerMarker="";a.Eb=function(b,c){var d=a.tb()+"/"+b+"?AQB=1&ndh=1&pf=1&"+(a.Fa()?"callback=s_c_il["+a._in+"].doPostbacks&et=1&":"")+c+"&AQE=1";a.sb(d);a.V?a.Ob(h.sessionStorage,d):(a.Ka(),a.Aa(d),a.I())};a.tb=function(){var b=a.ub();return"http"+(a.ssl?"s":"")+"://"+b+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(a.Fa()?"10":"1")+"/JS-"+a.version+(a.nc?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")};a.Fa=function(){return a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks};a.ub=function(){var b=a.dc,c=a.trackingServer;c?a.trackingServerSecure&&a.ssl&&(c=a.trackingServerSecure):(b=b?(""+b).toLowerCase():"d1","d1"==b?b="112":"d2"==b&&(b="122"),c=a.wb()+"."+b+".2o7.net");return c};a.wb=function(){var b=a.visitorNamespace;b||(b=a.account.split(",")[0],b=b.replace(/[^0-9a-z]/gi,""));return b};a.gb=/{(%?)(.*?)(%?)}/;a.sc=RegExp(a.gb.source,"g");a.Zb=function(b){if("object"==typeof b.dests)for(var c=0;c<b.dests.length;++c){var d=b.dests[c];if("string"==typeof d.c&&"aa."==d.id.substr(0,3))for(var f=d.c.match(a.sc),e=0;e<f.length;++e){var g=f[e],h=g.match(a.gb),l="";"%"==h[1]&&"timezone_offset"==h[2]?l=(new Date).getTimezoneOffset():"%"==h[1]&&"timestampz"==h[2]&&(l=a.cc());d.c=d.c.replace(g,a.escape(l))}}};a.cc=function(){var b=new Date,c=new Date(6E4*Math.abs(b.getTimezoneOffset()));return a.k(4,b.getFullYear())+"-"+a.k(2,b.getMonth()+1)+"-"+a.k(2,b.getDate())+"T"+a.k(2,b.getHours())+":"+a.k(2,b.getMinutes())+":"+a.k(2,b.getSeconds())+(0<b.getTimezoneOffset()?"-":"+")+a.k(2,c.getUTCHours())+":"+a.k(2,c.getUTCMinutes())};a.k=function(a,c){return(Array(a+1).join(0)+c).slice(-a)};a.ua={};a.doPostbacks=function(b){if("object"==typeof b)if(a.Zb(b),"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(b);else if("object"==typeof b&&"object"==typeof b.dests)for(var c=0;c<b.dests.length;++c){var d=b.dests[c];"object"==typeof d&&"string"==typeof d.c&&"string"==typeof d.id&&"aa."==d.id.substr(0,3)&&(a.ua[d.id]=new Image,a.ua[d.id].alt="",a.ua[d.id].src=d.c)}};a.bufferRequests=function(b){b||void 0===b?a.qb():a.pb()};a.qb=function(){a.o(a.w.sessionStorage)?a.V=!0:a.log("Warning, session storage is not available. Requests will not be buffered.")};a.pb=function(){a.V&&a.Ka();a.V=!1};a.o=function(a){var c=!0;a&&a.setItem&&h.JSON||(c=!1);return c};a.Ka=function(){var b=a.aa(h.sessionStorage);if(b){for(var c=0;c<b.length;c++)a.Aa(b[c]);a.xa(h.sessionStorage);a.I()}};a.Aa=function(b){a.g||a.xb();a.g.push(b);a.na=a.B();a.fb()};a.Ob=function(b,c){var d=a.aa(b)||[];d.push(c);a.La(b,d)};a.La=function(b,c){try{b.setItem(a.ba(),h.JSON.stringify(c))}catch(d){}};a.aa=function(b){var c,d;if(a.o(b)){try{(d=b.getItem(a.ba()))&&(c=h.JSON.parse(d))}catch(f){}return c}};a.xb=function(){a.ta()&&(a.g=a.aa(h.localStorage));a.g||(a.g=[])};a.xa=function(b){if(a.o(b))try{b.removeItem(a.ba())}catch(c){}};a.ta=function(){var b=!0;a.trackOffline&&a.storageFilename&&a.o(h.localStorage)||(b=!1);return b};a.Va=function(){var b=0;a.g&&(b=a.g.length);a.p&&b++;return b};a.I=function(){if(a.p&&(a.A&&a.A.complete&&a.A.D&&a.A.T(),a.p))return;a.Wa=q;if(a.ra)a.na>a.P&&a.cb(a.g),a.va(500);else{var b=a.Sb();if(0<b)a.va(b);else if(b=a.Ta())a.p=1,a.jc(b),a.mc(b)}};a.va=function(b){a.Wa||(b||(b=0),a.Wa=setTimeout(a.I,b))};a.Sb=function(){var b;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;b=a.B()-a.ab;return a.offlineThrottleDelay<b?0:a.offlineThrottleDelay-b};a.Ta=function(){if(a.g&&0<a.g.length)return a.g.shift()};a.jc=function(b){if(a.debugTracking){var c="AppMeasurement Debug: "+b;b=b.split("&");var d;for(d=0;d<b.length;d++)c+="\n\t"+
a.unescape(b[d]);a.log(c)}};a.Da=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.Z=!1;var t;try{t=JSON.parse('{"x":"y"}')}catch(v){t=null}t&&"y"==t.x?(a.Z=!0,a.Y=function(a){return JSON.parse(a)}):h.$&&h.$.parseJSON?(a.Y=function(a){return h.$.parseJSON(a)},a.Z=!0):a.Y=function(){return null};a.mc=function(b){var c,d,f;a.zb(b)&&(d=1,c={send:function(b){a.useBeacon=!1;navigator.sendBeacon(b)?c.T():c.la()}});!c&&a.Da()&&2047<b.length&&(a.kb()&&(d=2,c=new XMLHttpRequest),c&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.Z?c.Oa=!0:c=0));!c&&a.rc&&(b=b.substring(0,2047));!c&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(c=a.d.createElement("SCRIPT"))&&"async"in c&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(c.type="text/javascript",c.setAttribute("async","async"),d=3):c=0);c||(c=new Image,d=4,c.alt="",c.abort||"undefined"===typeof h.InstallTrigger||(c.abort=function(){c.src=q}));c.bb=Date.now();c.Qa=function(){try{c.D&&(clearTimeout(c.D),c.D=0)}catch(a){}};c.onload=c.T=function(){if(!0!==c.Vb&&(c.Vb=!0,c.bb&&(a.oa=Date.now()-c.bb),a.rb(b),c.Qa(),a.Xb(),a.ha(),a.p=0,a.I(),c.Oa)){c.Oa=!1;try{a.doPostbacks(a.Y(c.responseText))}catch(d){}}};c.onabort=c.onerror=c.la=function(){c.Qa();(a.trackOffline||a.ra)&&a.p&&a.g.unshift(a.Wb);a.p=0;a.na>a.P&&a.cb(a.g);a.ha();a.va(500)};c.onreadystatechange=function(){4==c.readyState&&(200==c.status?c.T():c.la())};a.ab=a.B();if(1===d)c.send(b);else if(2===d)f=b.indexOf("?"),d=b.substring(0,f),f=b.substring(f+1),f=f.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),c.open("POST",d,!0),c.withCredentials=!0,c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(f);else if(c.src=b,3===d){if(a.Za)try{f.removeChild(a.Za)}catch(e){}f.firstChild?f.insertBefore(c,f.firstChild):f.appendChild(c);a.Za=a.A}c.D=setTimeout(function(){c.D&&(c.complete?c.T():(a.trackOffline&&c.abort&&c.abort(),c.la()))},5E3);a.Wb=b;a.A=h["s_i_"+a.replace(a.account,",","_")]=c;if(a.useForcedLinkTracking&&a.L||a.bodyClickFunction)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.ia=setTimeout(a.ha,a.forcedLinkTrackingTimeout)};a.zb=function(b){var c=!1;navigator.sendBeacon&&(a.Bb(b)?c=!0:a.useBeacon&&(c=!0));a.Kb(b)&&(c=!1);return c};a.Bb=function(a){return a&&0<a.indexOf("pe=lnk_e")?!0:!1};a.Kb=function(a){return 64E3<=a.length};a.kb=function(){return"undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?!0:!1};a.Xb=function(){!a.ta()||a.$a>a.P||(a.xa(h.localStorage),a.$a=a.B())};a.cb=function(b){a.ta()&&(a.fb(),a.La(h.localStorage,b),a.P=a.B())};a.fb=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.g.length>a.offlineLimit;)a.Ta()}};a.forceOffline=function(){a.ra=!0};a.forceOnline=function(){a.ra=!1};a.ba=function(){return a.storageFilename+"-"+a.visitorNamespace+a.account};a.B=function(){return(new Date).getTime()};a.Xa=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(b){var c,d,f;a.nc=b;for(c=0;c<a._il.length;c++)if((d=a._il[c])&&"s_l"==d._c&&d.tagContainerName==b){a.U(d);if(d.lmq)for(c=0;c<d.lmq.length;c++)f=d.lmq[c],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(c in b=a[f],f=d.ml[f],f)!Object.prototype[c]&&("function"!=typeof f[c]||0>(""+f[c]).indexOf("s_c_il"))&&(b[c]=f[c]);if(d.mmq)for(c=0;c<d.mmq.length;c++)f=d.mmq[c],a[f.m]&&(b=a[f.m],b[f.f]&&"function"==typeof b[f.f]&&(f.a?b[f.f].apply(b,f.a):b[f.f].apply(b)));if(d.tq)for(c=0;c<d.tq.length;c++)a.track(d.tq[c]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(b,c,d,f){var e,g="";c||(c=a.pageURL?a.pageURL:h.location);d=d?d:"&";if(!b||!c)return g;c=""+c;e=c.indexOf("?");if(0>e)return g;c=d+c.substring(e+1)+d;if(!f||!(0<=c.indexOf(d+b+d)||0<=c.indexOf(d+b+"="+d))){e=c.indexOf("#");0<=e&&(c=c.substr(0,e)+d);e=c.indexOf(d+b+"=");if(0>e)return g;c=c.substring(e+d.length+b.length+1);e=c.indexOf(d);0<=e&&(c=c.substring(0,e));0<c.length&&(g=a.unescape(c));return g}},getIeVersion:function(){return document.documentMode?document.documentMode:a.Ea()?7:null}};a.F="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData contextData.cm.ssf contextData.opt.dmp contextData.opt.sell clientHints currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");a.i=a.F.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.pa="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.Q=a.pa.slice(0);a.Na="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay storageFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout writeSecureCookies decodeLinkParameters useLinkTrackSessionStorage collectHighEntropyUserAgentHints trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData useBeacon usePostbacks registerPreTrackCallback registerPostTrackCallback bodyClickTarget bodyClickFunction bufferRequests AudienceManagement".split(" ");for(m=0;250>=m;m++)76>m&&(a.i.push("prop"+m),a.Q.push("prop"+m)),a.i.push("eVar"+m),a.Q.push("eVar"+m),6>m&&a.i.push("hier"+m),4>m&&a.i.push("list"+m);m="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID ms_a".split(" ");a.i=a.i.concat(m);a.F=a.F.concat(m);a.ssl=0<=h.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.wa=["architecture","bitness","model","platformVersion","wow64"];a.writeSecureCookies=!1;a.collectHighEntropyUserAgentHints=!1;a.offlineThrottleDelay=0;a.storageFilename="AppMeasurement.requests";a.R="s_sq";a.ab=0;a.na=0;a.P=0;a.$a=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=h;a.d=h.document;a.ha=function(){a.ia&&(h.clearTimeout(a.ia),a.ia=q);a.bodyClickTarget&&a.L&&a.bodyClickTarget.dispatchEvent(a.L);a.bodyClickFunction&&("function"==typeof a.bodyClickFunction?a.bodyClickFunction():a.bodyClickTarget&&a.bodyClickTarget.href&&(a.d.location=a.bodyClickTarget.href));a.bodyClickTarget=a.L=a.bodyClickFunction=0};a.eb=function(){a.b=a.d.body;a.b?(a.u=function(b){var c,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||b&&b["s_fe_"+a._in])){if(a.Pa)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.u,!1);else{a.b.removeEventListener("click",a.u,!0);a.Pa=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=b.srcElement?b.srcElement:b.target;try{if(!a.clickObject||a.O&&a.O==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=0;else{var k=a.O=a.clickObject;a.ma&&(clearTimeout(a.ma),a.ma=0);a.ma=setTimeout(function(){a.O==k&&(a.O=0)},1E4);f=a.Va();a.track();if(f<a.Va()&&a.useForcedLinkTracking&&b.target){for(e=b.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.Xa(g)||(g=0),d=e.target,b.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||h.name&&d==h.name))){try{c=a.d.createEvent("MouseEvents")}catch(l){c=new h.MouseEvent}if(c){try{c.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}catch(m){c=0}c&&(c["s_fe_"+a._in]=c.s_fe=1,b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),b.preventDefault(),a.bodyClickTarget=b.target,a.L=c)}}}}}catch(n){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.u):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&h.MouseEvent)&&(a.Pa=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.u,!0)),a.b.addEventListener("click",a.u,!1))):setTimeout(a.eb,30)};a.rc=a.Ea();a.Yb();a.yc||(r?a.setAccount(r):a.log("Error, missing Report Suite ID in AppMeasurement initialization"),a.eb(),a.loadModule("ActivityMap"))}
function s_gi(r){var a,h=window.s_c_il,q,p,m=r.split(","),s,u,t=0;if(h)for(q=0;!t&&q<h.length;){a=h[q];if("s_c"==a._c&&(a.account||a.oun))if(a.account&&a.account==r)t=1;else for(p=a.account?a.account:a.oun,p=a.allAccounts?a.allAccounts:p.split(","),s=0;s<m.length;s++)for(u=0;u<p.length;u++)m[s]==p[u]&&(t=1);q++}t?a.setAccount&&a.setAccount(r):a=new AppMeasurement(r);return a}AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);function s_pgicq(){var r=window,a=r.s_giq,h,q,p;if(a)for(h=0;h<a.length;h++)q=a[h],p=s_gi(q.oun),p.setAccount(q.un),p.setTagContainer(q.tagContainerName);r.s_giq=0}s_pgicq();function toBoolean(val){val=val||"";return val===true||val.toLowerCase()==="true"||val.toLowerCase()==="on";};try{(function(id,loader){window.utag.tagsettings=window.utag.tagsettings||{};window.utag.tagsettings.adobe=window.utag.tagsettings.adobe||{};var vAPI=window.utag.tagsettings.adobe.visitorAPI=window.utag.tagsettings.adobe.visitorAPI||(function(){return{getInstance:function(orgID,callback){if(orgID){utag.DB("["+u.id+"] OrgID used, but no 'Adobe Marketing Cloud ID Service' tag detected");}
return callback();}};}());var u={"id":id};u.queue=[];utag.o[loader].sender[id]=u;u.ev={'view':1,'link':1,'video':1,'click':1,'adobe_event':1};u.o=window[instanceName];u.varlist={pageName:'pageName',channel:'ch',campaign:'v0',hier1:'h1',hier2:'h2',hier3:'h3',hier4:'h4'};for(var i=1;i<76;i++){u.varlist['prop'+i]='c'+i;u.varlist['eVar'+i]='v'+i;}
u.combineLinkVar=false;u.pushlt=function(l,v){if(typeof l!="undefined")l.push(v)};if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
u.typeCheck=function(linkTrack,type){if(u.typeOf(linkTrack)==="string"){u[type]=linkTrack.split(",");}else if(u.typeOf(linkTrack)==="array"){u[type]=linkTrack;}else{u[type]=[];}}
u.toBoolean=function(val){val=val||"";return val===true||val.toLowerCase()==="true"||val.toLowerCase()==="on";};u.hasadobeView=function(){if(utag.ut.adobeViewScriptRequested){return true;}
var i,s=document.getElementsByTagName("script");for(i=0;i<s.length;i++){if(s[i].src&&s[i].src.indexOf("https://www.everestjs.net/static/le/last-event-tag-latest.min.js")>=0){return true;}}
return false;};u.map={"Tags_AdobeAnalytics_TrafficSourceCid_ThisSession":"campaign,eVar1,prop1","Order_Currency":"currencyCode,eVar40","Page_Country":"prop2,eVar6","User_Id":"prop9,eVar9","Order_PaymentType":"prop10,eVar31","User_LoginStatus":"prop39,eVar39","Search_Keyword":"prop13,eVar12","Search_ResultItemsQnt":"prop14,eVar13","Error_Code":"prop25,eVar25,eVar83","Order_DiscountCode":"eVar29","Order_GiftCardCode":"eVar30","Order_CancellationId":"eVar34","User_ZipCode":"zip","Device_UserAgent":"prop22,eVar22","Order_Id_Prefixed":"eVar35,prop6","Order_DiscountAmount":"eVar27","Return_Reasons":"prop46","Patch_Message":"prop30","Error_Message":"prop32","User_Country":"eVar52","Action":"prop60,eVar60,eVar44","Action_PreviousAction":"prop61,eVar61,eVar80","User_Language":"eVar53","Page_QueryString":"prop67","dom.referrer":"prop68,eVar68,referrer","User_IdTimeStamp":"prop62,eVar62","Page_Section1":"channel,prop20,eVar26","Page_Name":"prop58,eVar58","Tags_ClickTale_UserId":"eVar38,prop34","Page_Region":"eVar32","Error_Details":"prop36,eVar36","Order_ShippingMode":"eVar23","Order_PaymentInstallments":"eVar41","Products_DiscountUnits_Array":"PRODUCTS_event44","Page_DeviceType":"prop59,eVar59","Device_Screen":"eVar54,prop54","Search_FacetValues_String":"list2,eVar95","Session_Time":"prop7,eVar7","Tags_AdobeAnalytics_PageName":"pageName","User_Segments":"eVar45,prop45","Order_DiscountMethod":"eVar43","Tags_Tealium_ReleaseCode":"prop48,eVar48","Products_Revenue_Array":"PRODUCTS_event60","Products_Tax_Array":"PRODUCTS_event24,PRODUCTS_event65","Products_Discount_Array":"PRODUCTS_event37,PRODUCTS_event62","Action_Combo":"list3,prop38","Page_PathQueryString":"prop8,eVar8","Tags_AdobeAnalytics_RSID":"s_account","Order_CartId":"prop5,eVar5","Tags_AdobeAnalytics_ServerSecure":"trackingServer,trackingServerSecure","dom.domain":"server","Order_Insured":"prop65,eVar65","Order_PrescriptionMethod":"prop70,eVar70","Tracking_EventId":"prop3","Search_Type":"eVar37","Products_GiftCardRevenue_Array":"PRODUCTS_event83,PRODUCTS_event84","Products_GiftCardUnits_Array":"PRODUCTS_event85","Products_OosOptions_Array":"PRODUCTS_eVar133","Order_SubscriptionFrequency":"prop49,eVar76","Tags_AdobeAnalytics_TrafficSourceMid_ThisHit":"prop19,eVar19","User_International":"prop51,eVar51","User_Email_MD5":"prop40,eVar17","AnalyticsLogEventId":"prop72","qp.gclid":"eVar77","Page_Consent":"eVar84,prop71","Store_Search_Keyword":"eVar24","Exam_Id":"eVar66","Exam_PatientNum":"eVar67","Exam_WornBefore":"eVar69","Exam_Fitting":"eVar78","qp.ad":"eVar85","cp.Cookie-Bot":"eVar81","Event_Category":"eVar86","Event_Label":"eVar87","Event_Scope":"eVar88","Event_Source":"eVar89","Order_InsuranceCode":"eVar82","Page_PlatformRelease":"eVar91","Store_Id":"prop15,eVar92","Fs_IsConnected":"eVar93","Page_Brand":"prop74,eVar74","Products_LensUPC_Array":"PRODUCTS_eVar100","Order_InsuranceBenefits":"eVar97","Tags_Tealium_Triggered_Csv":"eVar120","Order_Id_PurchaseAdobe":"purchaseID","Order_State":"eVar14","Search_View":"eVar15","1LX_User_WorkLocation":"eVar121","1LX_User_BusinessUnit":"eVar122","1LX_User_BusinessFuntion":"eVar123","1LX_User_GroupIdap":"eVar124","1LX_User_BrandRetail":"eVar125","User_LoginType":"prop41,eVar71","Page_Url":"eVar126,pageURL","Adobe_VisitorId":"visitorID","Order_DiscountName":"eVar127","Cid_Override":"eVar16","cp.utag_main_v_id":"prop52,eVar112","cp.utag_main_ses_id":"prop53,eVar113","User_Nation":"prop42","Store_Configuration":"prop16,eVar10","qp.h5e":"eVar140,eVar141","Search_KeyActual":"eVar114,prop50","Products_ShippingTo_Array":"PRODUCTS_eVar132","Products_Status_Array":"PRODUCTS_eVar131","Products_CartUnits_Array":"PRODUCTS_event143","Error_QA":"prop23","Order_Type":"eVar128","Products_Preorder_Array":"PRODUCTS_eVar129","Products_Visibility_Array":"PRODUCTS_eVar130","Products_CartUnique_Array":"PRODUCTS_event142","Products_FrameType_Array":"PRODUCTS_eVar115","Products_LensType_Array":"PRODUCTS_eVar98","Fg_Release":"eVar119","Products_Fg_Badge_Array":"PRODUCTS_eVar116","Products_Fg_BestMatch_Array":"PRODUCTS_eVar118","User_Phone_MD5":"eVar63","Store_Segment":"prop18","Vm_Release":"eVar142","Take_Mode":"eVar143","Products_Vm_Badge_Array":"PRODUCTS_eVar144","Oc_Release":"eVar139","Products_Conf_Change_Array":"PRODUCTS_eVar28","Store_Chain":"prop12,eVar11","Sg_Release":"eVar148","Products_Sg_Badge_Array":"PRODUCTS_eVar138","Return_Cost":"eVar151","Products_Conf_IsUpcSupported_Array":"PRODUCTS_eVar149","Products_La_Badge_Array":"PRODUCTS_eVar153","Products_ModelName_Array":"PRODUCTS_eVar154","Page_Language":"prop66","qp.dclid":"eVar72","Page_Creativities":"prop28","Products_PricePerUnits_Array":"PRODUCTS_event175","Products_PriceFullPerUnits_Array":"PRODUCTS_event176","Products_DiscountPricePerUnits_Array":"PRODUCTS_eVar157","Page_Server":"prop17","Order_ShippingType":"eVar155","Store_Search_StoreId":"eVar156","Order_ShippingSameDay":"eVar158","Products_Recom_Badge_Array":"PRODUCTS_eVar160","User_HasPrescription":"eVar159","Content_TestList":"list1,prop24","Store_Search_Type":"eVar137","Store_Search_ResultItemsQnt":"eVar145","Exam_ZipCode":"eVar134","Exam_PreviousExam":"eVar135","Exam_InsuranceCode":"eVar161","Order_InsuranceMethod":"eVar150","Order_QuotId":"eVar163","Content_Answers":"eVar162","Products_Warranty_Array":"PRODUCTS_eVar164","Page_Url_EnUs":"eVar165","Rtr_Release":"eVar166","Products_Rtr_Badge_Array":"PRODUCTS_eVar167","Rx_Release":"eVar75","RX_Release":"eVar75","User_LoyaltyCard":"eVar46","User_LoyaltyTier":"eVar47","Products_Fis_Badge_Array":"PRODUCTS_eVar168","Products_LoyaltyExclusive_Array":"PRODUCTS_eVar146","Rx_Renewal_Release":"eVar169","Renewal_Ko":"eVar79","Products_Language_Array":"PRODUCTS_eVar110","Products_Mandatory_Array":"PRODUCTS_eVar111","Products_Domain_Array":"PRODUCTS_eVar170","Products_ContextId_Array":"PRODUCTS_eVar171","qp.cid":"eVar174","_sm_2_169":"pageType","Page_UserProfile":"eVar96","Fg_Face":"eVar96","Fg_Playlist":"eVar172","Products_Fg_Badge_Lite_Array":"PRODUCTS_eVar173","DebugInputVars":"prop55","Products_ReorderSource_Array":"PRODUCTS_eVar117","Products_Label_Array":"PRODUCTS_eVar94","User_ActiveSubscriptions":"eVar18","Products_PriceSegment_Array":"PRODUCTS_eVar99","Products_Engraving_Array":"PRODUCTS_eVar175","Products_SecondLens_Array":"PRODUCTS_eVar176","Products_SecondMicrobag_Array":"PRODUCTS_eVar177","Products_Leash_Array":"PRODUCTS_eVar178","Session_Time_WeekNumber":"eVar3","Action_PreviousPage":"eVar56","Action_PreviousClick":"eVar57","Vmmv_Release":"eVar179","Vm_PageContext":"eVar180","View_Mode":"eVar181","Products_Frame_Array":"PRODUCTS_eVar182","Products_Lens_Array":"PRODUCTS_eVar183","Products_Temple_Array":"PRODUCTS_eVar184","Products_Etching_Array":"PRODUCTS_eVar185","Products_Microbag_Array":"PRODUCTS_eVar186","Products_SpeedyRx_Eligible_Array":"PRODUCTS_eVar101","Products_SpeedyRx_Badge_Array":"PRODUCTS_eVar102","Products_Case_Array":"PRODUCTS_eVar187","Products_MixMatch_Badge_Array":"PRODUCTS_eVar90"};u.extend=[function(a,b){try{b['_sm_2_169']=/404/.test(b.Error_Code)?'errorPage':undefined;}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['qp.h5e']!='undefined'&&b['qp.h5e']=='')){b['qp.h5e']='empty'}}catch(e){utag.DB(e);}},function(a,b){try{if(1){if(b['cp.utag_main_v_id'])utag_data.Adobe_VisitorId=b.Adobe_VisitorId=b['cp.utag_main_v_id'];}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b};var tealiumExtensionName='8.2.1 - Adobe - Settings';var tealiumExtensionCode=function(){b.Tags_AdobeAnalytics_ServerSecure='smetrics.oliverpeoples.com';var rsid_dev='lux-lf-dev';var rsid_prod='lux-oliver-prod';b.Tags_AdobeAnalytics_RSID=b['ut.env']=='prod'?rsid_prod:rsid_dev;};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b,u:u};var tealiumExtensionName='8.3 - Adobe - Event Mapping';var tealiumExtensionCode=function(){try{window.adobeEventMapping=function(b,u){try{var addEvent=function(eventInfo){if(eventInfo&&typeof eventInfo==='object'&&eventInfo.name){u.addEvent(eventInfo.name+(eventInfo.serial?(':'+eventInfo.serial):'')+((eventInfo.value||eventInfo.value===0)?('='+eventInfo.value):''));}};var OtherView,PlpView,PdpView,Cart,Checkout,Order;{if(b.Order_Id)Order=1;else if(/Checkout/i.test(b.Page_Section1))Checkout=1;else if(/Cart/i.test(b.Page_Type))Cart=1;else if((/Impression/i.test(b.Tracking_EventId)&&/QuickView/i.test(b.Page_Section2))||(b['ut.event']==='view'&&/Pdp/i.test(b.Page_Type))||(b['ut.event']==='view'&&/Pcp/i.test(b.Page_Type)&&/^oakley(si)?$/.test(b['ut.profile']))||(/OneConfigurator/i.test(b.Tracking_EventId)&&b.Oneconf_Action==='Loaded')||(/Loading-Ready/i.test(b.Tracking_EventId)&&/Pcp/i.test(b.Page_Type)&&b.Events_CPLoaded==='1'))PdpView=1;else if(b['ut.event']==='view'&&/Plp/i.test(b.Page_Type))PlpView=1;else if(b.Products_Id_Array)OtherView=1;}
{if(!(OtherView||PdpView||PlpView))delete b.Products_OosOptions_Array;if(!(PdpView||b.Events_CartAdd=='1'||Cart||Order||((b['ut.event']==='view'&&/Overlay/i.test(b.Page_Type)&&/MiniCart/i.test(b.Page_Section2))||/MiniCartOverlay-Open|Cart-Preview/i.test(b.Tracking_EventId))))['PricePerUnits','PriceFull','PriceFullPerUnits','DiscountPricePerUnits'].forEach(function(prop){delete b['Products_'+prop+'_Array'];});if(!(b.Events_CartAdd=='1'||Cart||Checkout))delete b.Products_CartUnits_Array;if(!(b.Events_CartAdd=='1'||Cart||Checkout||Order))delete b.Products_CartUnique_Array;if(!(Cart||Checkout||Order))delete b.Products_Warranty_Array;if(!Order)['Tax','InsuranceAmount','Discount','DiscountUnits','DiscountPerUnit','PriceNet','Revenue','RevenuePerUnit','GiftCardUnits','GiftCardRevenue',].forEach(function(prop){delete b['Products_'+prop+'_Array'];});}
{if(b.Events_ActionContactUs=='1')addEvent({name:'event72'});if(b.Events_SocialShare=='1')addEvent({name:'event14'});if(b.Events_VoucherDownload=='1')addEvent({name:'event57'});if(PdpView&&b.Products_Id_Array){addEvent({name:'prodView'});addEvent({name:'event32'});addEvent({name:'event47'});if(/available(|-(oneleft|twoleft|fewleft|MTO|PreOrder))/i.test(b.Products_Status_Array))addEvent({name:'event13'});if(/out-of-stock/i.test(b.Products_Status_Array)){addEvent({name:'event27'});if(/EmailMeWhenAvailable/i.test(b.Products_OosOptions_Array))addEvent({name:'event66'});}}
if(b.Events_ProdViewEcomOosEmailClick=='1')addEvent({name:'event46'});if(b['ut.event']==='view'&&/^Plp$/i.test(b.Page_Type)&&b.Products_Id_Array)addEvent({name:'event96'});if(b['ut.event']==='view'&&/^Comparator$/i.test(b.Page_Type)&&/^Comparator$/i.test(b.Page_Section1))addEvent({name:'event192'});if(b.Events_ProdFavAdd=='1'){addEvent({name:'prodView'});addEvent({name:'event9'});}
if(b.Events_CartAdd=='1'){addEvent({name:'scAdd'});addEvent({name:'scOpen'});}
if(b.Events_CartRemove=='1')addEvent({name:'scRemove'});if(b['ut.event']==='view'&&/^(CartPage|Cart)$/i.test(b.Page_Type)){addEvent({name:'scView'});addEvent({name:'event187'});}
if(b['ut.event']==='view'&&/^Login&Register$/i.test(b.Page_Type)&&/Checkout/i.test(b.Page_Section1)){addEvent({name:'scCheckout'});addEvent({name:'event186'});}
if(b['ut.event']==='view'&&/^Delivery$/i.test(b.Page_Type)){addEvent({name:'scCheckout'});addEvent({name:'event21'});}
if(b['ut.event']==='view'&&/^Shipping$/i.test(b.Page_Type)){addEvent({name:'scCheckout'});addEvent({name:'event136'});}
if(b['ut.event']==='view'&&/^Payment$/i.test(b.Page_Type)){addEvent({name:'scCheckout'});addEvent({name:'event22'});}
if(b['ut.event']==='view'&&/^OrderSummary$/i.test(b.Page_Type)){addEvent({name:'scCheckout'});addEvent({name:'event74'});}
if(b['ut.event']==='view'&&/^Thankyou$/i.test(b.Page_Type))addEvent({name:'scCheckout'});if(b['ut.event']==='view'&&/^(Checkout|Doctor|Prescription|PrescriptionOk)$/i.test(b.Page_Type)&&/Checkout/i.test(b.Page_Section1))addEvent({name:'scCheckout'});if(b['ut.event']==='view'&&(!/^(Thankyou|Login&Register)$/i.test(b.Page_Type))&&/^Checkout$/i.test(b.Page_Section1)&&/^Standard$/i.test(b.Page_Section2)){addEvent({name:'scCheckout'});addEvent({name:'event184'});}
if(b['ut.event']==='view'&&/^Checkout$/i.test(b.Page_Section1)&&(/^Express$/i.test(b.Page_Section2)||/ExpressCheckout/i.test(b.Order_PaymentType))){addEvent({name:'scCheckout'});addEvent({name:'event185'});}
if(b['ut.event']==='view'&&(!/^(Thankyou|Login&Register)$/i.test(b.Page_Type))&&/^Checkout$/i.test(b.Page_Section1)&&/^Qoto$/i.test(b.Page_Section2)){addEvent({name:'scCheckout'});addEvent({name:'event188'});}
if(b['ut.event']==='view'&&!/^(Thankyou|Login&Register)$/i.test(b.Page_Type)&&/^Checkout$/i.test(b.Page_Section1)&&/^Reorder$/i.test(b.Page_Section2)){addEvent({name:'scCheckout'});addEvent({name:'event189'});}
if(/^(CONTENT|MARKETING)$/i.test(b.Error_SourceLabel)&&/404/.test(b.Error_Source)&&(!/Checkout|Cart/i.test(b.Page_Section1)))addEvent({name:'event51'});if(/^IT$/i.test(b.Error_SourceLabel)||/404/.test(b.Error_Source)&&/Checkout|Cart/i.test(b.Page_Section1)){addEvent({name:'event4'});addEvent({name:'event52'});}
if(/^CONTENT$/i.test(b.Error_SourceLabel)){addEvent({name:'event4'});addEvent({name:'event55'});}
if(/^MARKETING$/i.test(b.Error_SourceLabel)){addEvent({name:'event4'});addEvent({name:'event82'});}
if(/^UX$/i.test(b.Error_SourceLabel)){addEvent({name:'event58'});addEvent({name:'event53'});}
if(/^PRODUCT$/i.test(b.Error_SourceLabel)){addEvent({name:'event58'});addEvent({name:'event50'});}
if(b.Error_SourceLabel&&(!/^(IT|CONTENT|MARKETING|UX|PRODUCT)$/i.test(b.Error_SourceLabel)))addEvent({name:'event58'});if(b.Events_UserLogin=='1')addEvent({name:'event1'});if(b.Events_UserAccountNew=='1')addEvent({name:'event2'});if(b.Events_UserEmailSub=='1')addEvent({name:'event3'});if(b.Events_UserEmailUnsub=='1')addEvent({name:'event38'});if(b.Events_UserPhoneSub=='1')addEvent({name:'event12'});if(b.Events_UserLoyaltySub=='1')addEvent({name:'event137'});if(b.Events_SavePrescriptionCL=='1')addEvent({name:'event190'});if(b.Events_SavePrescriptionEyewear=='1')addEvent({name:'event191'});if(b.Events_OrderReminderSave=='1')addEvent({name:'event28'});if(b.Events_OrderCancel=='1')addEvent({name:'event70'});if(Order&&b.Order_SubscriptionFrequency)addEvent({name:'event94'});if(Order&&/gift/i.test(b.Products_Category_Array))addEvent({name:'event20'});if(Order&&b.Order_GiftCardCode)addEvent({name:'event61'});if(Order&&b.Order_ShippingAmount){addEvent({name:'event25',value:b.Order_ShippingAmount});addEvent({name:'event26',value:b.Order_ShippingAmount});}
if(Order&&b.Order_DiscountAmount)addEvent({name:'event19'});if(b.Events_ReturnCreate=='1')addEvent({name:'event39'});if(b.Events_SearchRun=='1'||b.Search_Keyword){addEvent({name:'event5'});addEvent({name:'event6'});if(/^text$/i.test(b.Search_Type))addEvent({name:'event92'});else if(/^suggested$/i.test(b.Search_Type))addEvent({name:'event93'});else if(/^img$/i.test(b.Search_Type))addEvent({name:'event91'});else if(/^barcode$/i.test(b.Search_Type))addEvent({name:'event95'});}
if(b.Events_SearchFiltering=='1'||b.Search_FacetValues_String){addEvent({name:'event10'});addEvent({name:'event23'});}
if(b.Events_InsuranceApplied=='1'){addEvent({name:'event182'});addEvent({name:'event180'});}
if(b.Events_InsuranceTentative=='1'){addEvent({name:'event182'});addEvent({name:'event181'});}
if(b['ut.event']==='view'&&/^Overlay$/i.test(b.Page_Type)&&/^InsurancePanel$/i.test(b.Page_Section2))addEvent({name:'event183'});if(Order&&b.Order_InsuranceAmount)addEvent({name:'event88',value:b.Order_InsuranceAmount});if((b.Store_Search_Keyword||b.Store_Search_Type)&&b.Store_Search_ResultItemsQnt=='0')addEvent({name:'event36'});if(b.Events_FindStoreOpen=='1')addEvent({name:'event11'});if(b.FIS_isSupported=='1')addEvent({name:'event197'});{if(b.Events_FunnelFindStore=='1'||b['ut.event']==='view'&&((/^FindStore/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1))||/^FindStore$/i.test(b.Page_Section2)))addEvent({name:'event73'});if(b.Events_FunnelStoreSearch=='1'||b.Store_Search_Keyword||b.Store_Search_Type){addEvent({name:'event35'});addEvent({name:'event87'});}
if(b['ut.event']==='view'&&/^Info$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1)){if(/^Question1$/i.test(b.Page_Section2)){addEvent({name:'event7'});addEvent({name:'event113'});}
if(/^Question2$/i.test(b.Page_Section2))addEvent({name:'event114'});if(/^Question3$/i.test(b.Page_Section2))addEvent({name:'event115'});if(/^Question4$/i.test(b.Page_Section2))addEvent({name:'event116'});if(/^Question5$/i.test(b.Page_Section2))addEvent({name:'event117'});if(/^Scheduler$/i.test(b.Page_Section2))addEvent({name:'event118'});if(!b.Page_Section2||b.Page_Section2==''||/^PersonalInfo$/i.test(b.Page_Section2))addEvent({name:'event86'});}
if(b['ut.event']==='view'&&/^Review$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1))addEvent({name:'event119'});if(b['ut.event']==='view'&&/^Cancellation$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1))addEvent({name:'event75'});if(b['ut.event']==='view'&&/^Confirmation$/i.test(b.Page_Type)&&/^Exam$/i.test(b.Page_Section1)){addEvent({name:'event76'});addEvent({name:'event8'});}
if(b.Events_FunnelAddExam=='1')addEvent({name:'event76'});}
if(b.Vm_IsBrowserSupported=='1')addEvent({name:'event103'});if(b.Vm_IsUpcSupported=='1')addEvent({name:'event104'});if(b.Events_VMRender=='1')addEvent({name:'event108'});if(b.Events_VMFit=='1')addEvent({name:'event111'});if(b['ut.event']==='click'&&/VirtualMirror Close/i.test(b.data_element_id))addEvent({name:'event109'});if(b['ut.event']==='click'&&/VirtualMirror Adjust/i.test(b.data_element_id))addEvent({name:'event112'});if(b['ut.event']==='click'&&/VirtualMirror Screenshot/i.test(b.data_element_id))addEvent({name:'event135'});if(/Y/.test(b.Products_Conf_IsUpcSupported_Array))addEvent({name:'event120'});if(b.Events_CPLoaded=='1')addEvent({name:'event121'});if(b.Events_CPConfirmConf=='1')addEvent({name:'event124'});if(b.Events_CPClosed=='1')addEvent({name:'event125'});if(b.Events_CPComponentsEngagementIndexByVisit=='1')addEvent({name:'event126'});if(b.Events_CPComponentsEngagementIndexByModel=='1')addEvent({name:'event129'});if(b.Events_CPComponentsFirstInteractionsByVisit=='1')addEvent({name:'event127'});if(b.Events_CPComponentsFirstInteractionsByModel=='1')addEvent({name:'event128'});if(b.Events_CPSizeChanged=='1')addEvent({name:'event97'});if(b.Events_CPEngravingChanged=='1')addEvent({name:'event98'});if(b.Events_CPRecipeSaved=='1')addEvent({name:'event99'});if(b.Events_CPCaseEngravingChanged=='1')addEvent({name:'event17'});if(b['ut.event']==='view'&&/^Overlay$/i.test(b.Page_Type)&&/LensPanel/i.test(b.Page_Section1)){if(/LensAdvisor:Prescription/i.test(b.Page_Section2))addEvent({name:'event138'});if(/LensAdvisor:Results/i.test(b.Page_Section2))addEvent({name:'event139'});if(/LensType/i.test(b.Page_Section2))addEvent({name:'event150'});if(/LensBrand/i.test(b.Page_Section2))addEvent({name:'event151'});if(/LensMaterial/i.test(b.Page_Section2))addEvent({name:'event152'});if(/LensTreatment/i.test(b.Page_Section2))addEvent({name:'event153'});if(/LensReview/i.test(b.Page_Section2))addEvent({name:'event154'});if(/LensPerformance/i.test(b.Page_Section2))addEvent({name:'event155'});if(/LensLight/i.test(b.Page_Section2))addEvent({name:'event177'});if(/LensColour/i.test(b.Page_Section2))addEvent({name:'event178'});}
if(b.Events_PrescriptionOk=='1')addEvent({name:'event77'});if(b.Events_RenewalEligibility=='1')addEvent({name:'event179'});if(b.Events_FSCapture=='1'){addEvent({name:'event170'});addEvent({name:'event171'});}
if(/^Plp$/i.test(b.Page_Type)&&/^FrameAdv$/i.test(b.Page_Section1)){addEvent({name:'event172'});addEvent({name:'event173'});}
if(/^(Connection|Facescan|Survey)$/i.test(b.Page_Type)&&/^FrameAdv$/i.test(b.Page_Section1))addEvent({name:'event174'});if(/^FrameGenius$/i.test(b.Page_Section1)&&/^Pdp$/i.test(b.Page_Section2))addEvent({name:'event144'});if(b.Events_FAProfileSkinConfirmed=='1')addEvent({name:'event145'});if(b.Events_FAProfileChanged=='1')addEvent({name:'event146'});if(b.Events_FGFit=='1')addEvent({name:'event147'});if(b.Events_FGScreenshot=='1')addEvent({name:'event198'});if(b.Rtr_IsUpcSupported=='1')addEvent({name:'event193'});if(b.Events_RTRZoom=='1')addEvent({name:'event194'});if(b.Events_RTRRotation=='1')addEvent({name:'event195'});if(b.Events_RTRExplosion=='1')addEvent({name:'event196'});if(b.Events_SessionStart=='1')addEvent({name:'event140'});if(b.Events_EditorialAdd=='1')addEvent({name:'event130'});if(b.Events_EditorialRemove=='1')addEvent({name:'event131'});if(b.Events_EditorialShare=='1')addEvent({name:'event132'});if(b.Events_EditorialDownload=='1')addEvent({name:'event133'});if(b.Events_EditorialSend=='1')addEvent({name:'event134'});if(b.Events_EditorialSend=='1')addEvent({name:'event134'});if(b.Events_CourseStart=='1')addEvent({name:'event41'});if(b.Events_CourseContinue=='1')addEvent({name:'event42'});if(b.Events_LicenceActivation=='1')addEvent({name:'event157'});if(b.Events_BookingEvent=='1')addEvent({name:'event158'});if(b['ut.event']==='view'&&/^PdWeb$/i.test(b.Page_Section1)&&/^Landing$/i.test(b.Page_Section2))addEvent({name:'event165'});if(b['ut.event']==='view'&&/^PdWeb$/i.test(b.Page_Section1)&&/^Results$/i.test(b.Page_Section2))addEvent({name:'event166'});}}catch(e){__Utils__.UtagHelper.throwSystemError('adobe',b,{component:'Adobe Event Mapping',context:'handler',details:e});}};}catch(e){__Utils__.UtagHelper.throwSystemError('adobe',b,{component:'Adobe Event Mapping',context:'constructor',details:e});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b,u:u};var tealiumExtensionName='8.4 - Adobe - Initialization';var tealiumExtensionCode=function(){var analyticsLogContext='';try{__Utils__.UtagHelper.updateAnalyticsLog(b,'set','adobe',{status:'missing'});analyticsLogContext='order variables';(function __buildOrder(b){if(b.Order_Id){{if(b['ut.env']==='prod')b.Order_Id_Prefixed=b.Order_Id;else b.Order_Id_Prefixed=b.Order_Id+'_'+function(d){return d.getDate()+(d.getMonth()>8?'':'0')+(d.getMonth()+1)+(''+d.getFullYear()).slice(2);}(new Date());}
b.Order_Id_PurchaseAdobe=/^smartshopper2$/.test(b['ut.profile'])?(''+b.Order_Id).split('#')[0]+(''+b.Order_Id).slice((''+b.Order_Id).length-(20-(''+b.Order_Id).split('#')[0].length-1))
:((''+b.Order_Id_Prefixed).length>20)?(''+b.Order_Id_Prefixed).slice((''+b.Order_Id_Prefixed).length-20)
:b.Order_Id_Prefixed;}})(b);if(b.Products_Id_Array)(function __buildProduct(b){['PriceSegment','OosOptions','Engraving','SecondLens','SecondMicrobag','Leash','Badges',].forEach(function(key){var productKey='Products_'+key+'_Array';if(b.hasOwnProperty(productKey)&&Array.isArray(b[productKey])){b[productKey]=b[productKey].map(function(value){return value.replace(/,/g,'%2C');});}});(Object.keys(b)||[]).forEach(function(key){if(/^Products_/.test(key)&&/_Array$/.test(key)&&Array.isArray(b[key])){b[key]=b[key].map(function(value){if(typeof value==='string'){value=value.replace(/&#?\w+;/gi,'');value=value.replace(/\|/g,'%7C');value=value.replace(/;/g,'%3B');value=value.replace(/,/g,'%2C');}
return value;});}});})(b);analyticsLogContext='device variables';(function __buildDevice(b){if(window.navigator&&window.navigator.userAgent){b.Device_UserAgent=window.navigator.userAgent;if(/@/.test(b.Device_UserAgent)){var emailAddressTokens=b.Device_UserAgent.split('@');if(emailAddressTokens.length>1&&(!/\w+([\.-]?\w+)*(\.\w{2,3})+/.test(emailAddressTokens[1]))){b.Device_UserAgent=emailAddressTokens[0]+'***';}
}
if(b.Device_UserAgent.length>100)b.Device_UserAgent=b.Device_UserAgent.substring(b.Device_UserAgent.length-100);}
if(window.screen)b.Device_ScreenSize=window.screen.width+'x'+window.screen.height;var isHighDensity=function(){if(window.devicePixelRatio&&window.devicePixelRatio>1.3)return true;if(window.matchMedia){if(window.matchMedia('only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)').matches)return true;if(window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)').matches)return true;}
return false;};var isRetina=function(){if(window.navigator&&/(Macintosh|iPad|iPhone|iPod)/g.test(window.navigator.userAgent)){if(window.devicePixelRatio&&window.devicePixelRatio>=2)return true;if(window.matchMedia){if(window.matchMedia('only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)').matches)return true;if(window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)').matches)return true;}}
return false;};b.Device_ScreenDensity=isRetina()?'Retina':isHighDensity()?'HD':'SD';b.Device_ScreenZoom=(function(){if(b.Page_DeviceType==='mobile')return'mobile';if(window.devicePixelRatio&&b.Device_ScreenDensity){var factor=b.Device_ScreenDensity==='HD'?3:b.Device_ScreenDensity==='Retina'?2:1;return Math.round(window.devicePixelRatio*100/factor);}
return'n.a.';})();b.Device_ScreenOrientation=(function(){if(window.matchMedia){if(window.matchMedia('(orientation: portrait)').matches)return'portrait';if(window.matchMedia('(orientation: landscape)').matches)return'landscape';}
return'';})();b.Device_Screen=b.Device_ScreenSize+' z'+b.Device_ScreenZoom+' d'+b.Device_ScreenDensity+' o'+b.Device_ScreenOrientation;})(b);analyticsLogContext='adobe event mapping';if(typeof window.adobeEventMapping==='function')window.adobeEventMapping(b,u);analyticsLogContext='adobe pagename';{if(/Impression/.test(b.Tracking_EventId)||/SignUp|RenewalPopup|MiniCart|MiniWishlist|Overlay|Cart|Checkout|Account/i.test(b.Page_Name)){b.Tags_AdobeAnalytics_PageName=b.Page_Name;}
else b.Tags_AdobeAnalytics_PageName=b.Page_Path;}
analyticsLogContext='tags collection triggered';{var list=new __Utils__.ArrayList('string',true,true,',');list.setData(window.utag_data.Tags_Tealium_Triggered_Array||[]);if(!list.isEmpty())b.Tags_Tealium_Triggered_Csv=list.getData(true);}
analyticsLogContext='cs integration';{b.Tags_ClickTale_UserId=window.utag_data.Tags_ClickTale_UserId||b.Tags_ClickTale_UserId;}
if(__Utils__.TypeChecking.isCustomObject(window.__AppMeasurement__)){analyticsLogContext='register preTrackCallback once';{if(!window.__isPreTrackCallbackRegistered){window.__AppMeasurement__.registerPreTrackCallback(function(requestUrl){if(/VirtualPage-View/i.test(b.Tracking_EventId))window.__AppMeasurement__.clearVars();});window.__isPreTrackCallbackRegistered=true;}}
analyticsLogContext='register postTrackCallback once';{if(!window.__isPostTrackCallbackRegistered){var mapAdobeDatalayer=function(adobeRequestURL){var adobeDatalayer={};try{var queryString=adobeRequestURL.split('?')[1]||'';var queryParams=queryString.split('&');queryParams.forEach(function(param){var entry=param.split('=');var key=entry[0]?entry[0]:'';var value=entry[1]?decodeURIComponent(entry[1]):'';if(key)adobeDatalayer[key]=value;});}catch(e){__Utils__.MessageLogging.showMessage({type:'error',cname:'Adobe Initialization',fname:'mapAdobeDatalayer',msg:'has not been completed successfully! => caused by: '+e.stack});}finally{return adobeDatalayer;}};window.__AppMeasurement__.registerPostTrackCallback(function(requestUrl){var datalayer=mapAdobeDatalayer(requestUrl);datalayer.account=window.__AppMeasurement__.account;datalayer.AnalyticsLogEventId=datalayer.c72;__Utils__.UtagHelper.updateAnalyticsLog(datalayer,'set','adobe',{status:'done',notes:'',datalayer:datalayer});if(window.__AppMeasurement__.un)__Utils__.Cookie.set('s_un',window.__AppMeasurement__.un);});window.__isPostTrackCallbackRegistered=true;}}
analyticsLogContext='doPlugin';{window.__AppMeasurement__.usePlugins=true;window.__AppMeasurement__.doPlugins=function(s){if(s.prop68&&(s.prop68.indexOf('?')>-1))s.prop68=s.prop68.substring(0,s.prop68.indexOf('?'));for(var p in s){if(s.hasOwnProperty(p)&&/^(eVar|prop|list)/i.test(p)&&typeof s[p]==='string'){if(s[p]==='')delete s[p];else s[p]=s[p].replace(/[a-z0-9\.\-_]+(@|%40)[a-z0-9\-]+\.[a-z0-9\.\-]+/ig,'***$1***');}}};}}}catch(e){__Utils__.UtagHelper.throwSystemError('adobe',b,{component:'Adobe Initialization',context:analyticsLogContext,details:e});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();window.LuxotticaFrameworkVersion=window.LuxotticaFrameworkVersion||{};LuxotticaFrameworkVersion.adobe_init="25-06-01";}}catch(e){utag.DB(e)}}];u.send=function(a,b,c,d,e,f,g,h,ev){if(u.ev[a]||typeof u.ev.all!="undefined"){utag.DB("send:2");u.data={"adobe_org_id":"","cookieDomain":(function(){return utag.loader.RC('utag_main').vapi_domain||(function(){var i=0,d=document.domain,p=d.split('.'),s='_vapi'+new Date().getTime();while(i<(p.length-1)&&document.cookie.indexOf(s+'='+s)===-1){d=p.slice(-1-(++i)).join('.');document.cookie=s+'='+s+';domain='+d+';';}
document.cookie=s+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain='+d+';';utag.loader.SC('utag_main',{'vapi_domain':d});return d;}());}()),"a":{},"serial":{},"linkName":"","linkType":"","runviewthrough":"no","viewthroughloaded":u.hasadobeView(),"viewthroughinterval":"100","viewthroughmaxtries":"3","clearVars_in_RPTCallback":false,"send_timestamp":"no","timestamp":"",collectHighEntropyUserAgentHints:false};if(u.data.runviewthrough==="yes"&&!u.data.viewthroughloaded){(function(el,script){el=document.createElement("script");el.async=!0;el.src="https://www.everestjs.net/static/le/last-event-tag-latest.min.js";script=document.getElementsByTagName("script")[0];script.parentNode.insertBefore(el,script);})();utag.ut.adobeViewScriptRequested=true;u.data.viewthroughloaded=true;}
for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){if(e[f]==="adobe_org_id"||e[f]==="linkTrackVars"||e[f]==="linkTrackEvents"||e[f]==="linkType"||e[f]==="linkName"||e[f]==='collectHighEntropyUserAgentHints'){u.data[e[f]]=b[d];if(e[f]==="linkName"&&b[d]!==""&&b[d]!==null&&b[d]!==undefined){if(u.typeOf(window.tealium)!=="undefined"&&u.typeOf(window.tealium.track)==="function"){utag.DB("Found mapping of linkName. Calling Adobe link tracking function tl().");a="link";}}}else if(e[f]==="combineLinkVar"){u.combineLinkVar=b[d];}}}}
if(u.typeOf(window.tealium)!=="undefined"&&u.typeOf(window.tealium.track)==="function"){if(window.utag_cfg_ovrd&&window.utag_cfg_ovrd.link_attribute&&b[window.utag_cfg_ovrd.link_attribute]){utag.DB("Config utag_cfg_ovrd.link_attribute property set. Calling Adobe link tracking function tl().");a="link";}}
u.o.collectHighEntropyUserAgentHints=u.toBoolean(u.data.collectHighEntropyUserAgentHints);u.queue.push({"a":a,"b":b,"u.data":u.data});vAPI.getInstance(u.data.adobe_org_id,function(instance){var data=u.queue.shift();a=data["a"];b=data["b"];u.data=data["u.data"];u.a=a;b.sc_events=b.sc_events||{};u.addEvent=function(v,n){var t=[];if(v instanceof Array){t=v.slice(0);}else if(typeof n!=="undefined"){t.push(v+"="+n);}else{t.push(v);}
for(var i=0;i<t.length;i++){b.sc_events[t[i]]=1;u.pushlt(u.lte,t[i].indexOf("=")>-1?t[i].split('=')[0]:t[i].split(':')[0]);}
return b.sc_events;};u.addProduct=function(v){u.data.sc_addProd="";if(v instanceof Array){u.data.sc_addProd=v.join(",");}else{u.data.sc_addProd=v;}};if(u.data.runviewthrough==="yes"){var editedReportSuite="".toLowerCase();editedReportSuite=editedReportSuite.replace(/\s/g,"");var attempt_counter=0;var adcloud_interval=setInterval(function(){attempt_counter++;if(window["AdCloudEvent"]){clearInterval(adcloud_interval);AdCloudEvent(u.data.adobe_org_id,editedReportSuite);processAnalytics();}else if(attempt_counter>u.data.viewthroughmaxtries){clearInterval(adcloud_interval);processAnalytics();}},u.data.viewthroughinterval);}else{processAnalytics();}
function processAnalytics(){if(u.a==="link"||u.a==="click"||u.a==="adobe_event"){u.ltflag=true;if(typeof u.data.linkTrackVars==="undefined"&&typeof b.linkTrackVars==="undefined"){u.ltv=[];}
if(u.combineLinkVar&&typeof u.data.linkTrackVars!=="undefined"){u.typeCheck(u.data.linkTrackVars,"ltv");}else if(u.combineLinkVar&&typeof b.linkTrackVars!=="undefined"){u.typeCheck(b.linkTrackVars,"ltv");}
if(typeof u.data.linkTrackEvents==="undefined"&&typeof b.linkTrackEvents==="undefined"){u.lte=[];}
if(u.combineLinkVar&&typeof u.data.linkTrackEvents!=="undefined"){u.typeCheck(u.data.linkTrackEvents,"lte");}else if(u.combineLinkVar&&typeof b.linkTrackEvents!=="undefined"){u.typeCheck(b.linkTrackEvents,"lte");}}
u.data.tagdevicetype="standard";u.data.detectserial="no";for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){if(typeof utag_err!='undefined'){utag_err.push({e:'extension error:'+e,s:utag.cfg.path+'utag.'+id+'.js',l:c,t:'ex'})}}};try{if(window.sessionStorage){var standardDimensions=sessionStorage.getItem("s_dmdbase")||"";var customDimensions1=sessionStorage.getItem("s_dmdbase_custom1")||"";var customDimensions2=sessionStorage.getItem("s_dmdbase_custom2")||"";var customDimensions3=sessionStorage.getItem("s_dmdbase_custom3")||"";var customDimensions4=sessionStorage.getItem("s_dmdbase_custom4")||"";u.o.contextData.s_dmdbase=standardDimensions;u.o.contextData.s_dmdbase_custom1=customDimensions1;u.o.contextData.s_dmdbase_custom2=customDimensions2;u.o.contextData.s_dmdbase_custom3=customDimensions3;u.o.contextData.s_dmdbase_custom4=customDimensions4;}}
catch(e){utag.DB("AppMeasurement Demandbase Error: "+e.message);}
if(u.data.tagdevicetype==="mobile"){u.data.timestamp=u.data.timestamp||b.timestamp||b.timestamp_unix;if(isTrue(u.data.send_timestamp)&&u.data.timestamp){u.o.timestamp=u.data.timestamp;}
u.data.a={"AppID":b.app_id||"","CarrierName":b.carrier||"","DeviceName":b.device||"","HourOfDay":b.lifecycle_hourofday_local||"","DayOfWeek":b.lifecycle_dayofweek_local||"","OSVersion":b.os_version||b.platform_version||"","Resolution":b.device_resolution||""};if(b.lifecycle_type){u.data.a.disable_wake_track=false;u.data.a.disable_sleep_track=false;u.data.a.DaysSinceFirstUse=b.lifecycle_dayssincelaunch||"";u.data.a.DaysSinceLastUpgrade=b.lifecycle_dayssinceupdate||"";u.data.a.DaysSinceLastUse=b.lifecycle_dayssincelastwake||"";u.data.a.Launches=b.lifecycle_launchcount||"";u.data.a.InstallDate=b.lifecycle_firstlaunchdate_MMDDYYYY||"";u.data.a.UpgradeEvent=b.lifecycle_isfirstlaunchupdate||"";u.data.a.PrevSessionLength=b.lifecycle_priorsecondsawake||"";}
if(b.lifecycle_isfirstlaunch){u.data.a.InstallEvent="InstallEvent";}
if(b.lifecycle_diddetectcrash){u.data.a.CrashEvent="CrashEvent";}
if(b.lifecycle_type==="launch"){u.data.a.LaunchEvent="LaunchEvent";}
if(b.lifecycle_isfirstlaunchupdate){u.data.a.UpgradeEvent="UpgradeEvent";}}
for(e in utag.loader.GV(u.map)){if(typeof b[e]!="undefined"&&typeof u.map[e]=="string"&&u.map[e].indexOf("SERIAL_")>-1){f=u.map[e].split(",");for(g=0;g<f.length;g++){if(f[g].indexOf("SERIAL_")===0){u.data.serial[f[g].substring(7)]=b[e];}}}else if(typeof b[e]!="undefined"&&typeof u.map[e]=="string"&&u.map[e].indexOf("PRODUCTS_")>-1){f=u.map[e].split(",");for(g=0;g<f.length;g++){if(f[g].indexOf("PRODUCTS_id")||f[g].indexOf("PRODUCTS_category")||f[g].indexOf("PRODUCTS_quantity")||f[g].indexOf("PRODUCTS_price")){u.data[f[g].substring(9)]=b[e];}}}
if(u.data.tagdevicetype==="mobile"){if(typeof b[e]!="undefined"&&typeof u.map[e]=="string"&&u.map[e].indexOf("contextData.a.")>-1){f=u.map[e].split(",");for(g=0;g<f.length;g++){if(f[g].indexOf("contextData.a.")===0){u.data.a[f[g].substring(14)]=b[e];}}}}}
if(u.data.a.disable_wake_track===true||u.data.a.disable_wake_track==="true"){if(b.lifecycle_type==="wake"){return false;}}
if(u.data.a.disable_sleep_track===true||u.data.a.disable_sleep_track==="true"){if(b.lifecycle_type==="sleep"){return false;}}
u.data.id=u.data.id||(typeof b._cprod!="undefined"?b._cprod.slice(0):[]);u.data.category=u.data.category||(typeof b._ccat!="undefined"?b._ccat.slice(0):[]);u.data.quantity=u.data.quantity||(typeof b._cquan!="undefined"?b._cquan.slice(0):[]);u.data.price=u.data.price||(typeof b._cprice!="undefined"?b._cprice.slice(0):[]);if(typeof u.data.id!="undefined"&&u.data.id!=""){c=[];d={};ev={};for(e in utag.loader.GV(u.map)){if(typeof b[e]!="undefined"&&typeof u.map[e]=="string"&&u.map[e].indexOf("PRODUCTS_")>-1){f=u.map[e].split(",");for(g=0;g<f.length;g++){var pv=f[g].substring(9);if(f[g].indexOf("PRODUCTS_evar")==0||f[g].indexOf("PRODUCTS_eVar")==0){if(b[e]instanceof Array){b.sc_prodevars=b.sc_prodevars||[];for(var i=0;i<b[e].length;i++){var prodvars={};if(typeof b.sc_prodevars[i]!="undefined"&&b.sc_prodevars[i]!=""){b.sc_prodevars[i][pv]=b[e][i];}else{prodvars[pv]=b[e][i];b.sc_prodevars.push(prodvars);}}}else{d[pv]=(b[e]+"").split(",");}}else if(f[g].indexOf("PRODUCTS_event")==0){if(b[e]instanceof Array){b.sc_prodevents=b.sc_prodevents||[];for(var i=0;i<b[e].length;i++){var prodevents={};if(typeof b.sc_prodevents[i]!="undefined"&&b.sc_prodevents[i]!=""){b.sc_prodevents[i][pv]=b[e][i];}else{prodevents[pv]=b[e][i];b.sc_prodevents.push(prodevents);}}
u.addEvent(pv);}else if(b[e]!==""){ev[pv]=b[e];u.addEvent(pv);}}}}}
e="";for(f in utag.loader.GV(d)){for(g=0;g<d[f].length;g++){if(e!=""){e+="|"+f+"="+d[f][g];}else{e=f+"="+d[f][g];}}}
h="";for(f in utag.loader.GV(ev)){if(h){h+="|"+f+"="+((isNaN(ev[f]))?"1":ev[f]);}else{h=f+"="+((isNaN(ev[f]))?"1":ev[f]);}}
b.sc_prodevents=b.sc_prodevents||[];b.sc_prodevars=b.sc_prodevars||[];for(d=0;d<u.data.id.length;d++){var h2=h;var h3=e;if(typeof b.sc_prodevents!="undefined"){for(f in b.sc_prodevents[d]){if(typeof b.sc_prodevents[d][f]!="undefined"){var l=b.sc_prodevents[d][f];if(typeof l!="undefined"&&l!=""&&isNaN(l)==false){if(h2){h2+="|"+f+"="+l;}else{h2=f+"="+l;}}}}}
if(typeof b.sc_prodevars!="undefined"){for(f in b.sc_prodevars[d]){if(typeof b.sc_prodevars[d][f]!="undefined"){var l=b.sc_prodevars[d][f];if(typeof l!="undefined"&&l!=""){if(h3){h3+="|"+f+'='+l;}else{h3=f+'='+l;}}}}}
c.push((u.data.category[d]?u.data.category[d]:"")+";"+u.data.id[d]+";"+(u.data.quantity[d]?u.data.quantity[d]:"")+";"+(u.data.price[d]?((u.data.quantity[d]?parseInt(u.data.quantity[d]):1)*parseFloat(u.data.price[d])).toFixed(2):"")+";"+h2+";"+h3);}
if(typeof u.data.sc_addProd!=="undefined"&&u.data.sc_addProd){c.push(u.data.sc_addProd);}
u.o.products=c.join(",");}else{u.o.products="";}
var evt=/^event|prodView|scOpen|scAdd|scRemove|scView|scCheckout|purchase$/;for(c in utag.loader.GV(b)){if(b[c]!==""){f=(""+b[c]).split(",");for(g=0;g<f.length;g++){h=f[g].split(":");d=[];if(u.data.detectserial==="no"){if(typeof u.map[c+":"+h.join(":")]!="undefined"){d=u.map[c+":"+h.join(":")].split(",");}else if(typeof u.map[c]!="undefined"){d=u.map[c].split(",");}}else{if(h.length>1){var subTrigger=h[0];for(var i=1;i<h.length-1;i++){subTrigger+=":"+h[i];}
h[0]=subTrigger;h[1]=h[h.length-1];}
if(typeof u.map[c+":"+h[0]]!="undefined"){d=u.map[c+":"+h[0]].split(",");}else if(typeof u.map[c]!="undefined"){d=u.map[c].split(",");}}
for(e=0;e<d.length;e++){if(d[e]!="events"&&evt.test(d[e])&&d[e].indexOf("SERIAL_")!==0){if(u.data.serial[d[e]]!==undefined&&u.data.serial[d[e]]!==""){u.addEvent(d[e]+":"+u.data.serial[d[e]]);}else{if(u.data.detectserial==="yes"){u.addEvent(d[e]+(h.length>1?":"+h[1]:""));}else{u.addEvent(d[e]);}}}}}}}
for(var m in u.data.a){u.o.contextData["a."+m]=u.data.a[m];u.pushlt(u.ltv,"contextData.a."+m);}
for(c in utag.loader.GV(b)){if(typeof u.map[c]!="undefined"){d=u.map[c].split(",");for(e=0;e<d.length;e++){if(d[e].indexOf("VALUE_")==0){if(u.data.serial[d[e]]!==undefined&&u.data.serial[d[e]]!==""){u.addEvent(d[e].substring(6),b[c]+":"+u.data.serial[d[e]]);}else{u.addEvent(d[e].substring(6),b[c]);}}else if(d[e]=="doneAction"){b.doneAction=b[c];if(b.doneAction!="navigate"){b.doneAction=eval(b[c]);}}else if(d[e].indexOf("c.")==0||d[e].indexOf("contextData.")==0){d[e]=d[e].replace("contextData.","c.");if(!(d[e][2]==="a"&&d[e][3]===".")){u.o.contextData[d[e].substring(2)]=b[c];u.pushlt(u.ltv,"contextData."+d[e].substring(2))}}else if(d[e]==="clearVars_in_RPTCallback"){u.data[d[e]]=b[c];}else{if(c=="sc_events"||c=="sc_prodevents"||c=="sc_prodevars"){utag.DB("Error:2: Mapping reserved object name "+c)}else{u.o[d[e]]=b[c];}
if(d[e]=="s_account"){u.o.account=b[c];}else if(d[e]=="linkTrackVars"){u.ltflag=false;}else{if(u.combineLinkVar){u.ltflag=true;}
if(d[e]!=="combineLinkVar"){u.pushlt(u.ltv,d[e]);}}}}}}
d=[];for(c in utag.loader.GV(b.sc_events)){if(b.sc_events[c]){d.push(c)}}
if(d.length>0){u.o.events=d.join(",");u.pushlt(u.lte,u.o.events);}else{u.o.events="";}
if(b._ccurrency){u.o.currencyCode=b._ccurrency;}
if(b._corder){u.pushlt(u.lte,"purchase");u.pushlt(u.ltv,"purchaseID");u.o.purchaseID=((u.o.purchaseID)?u.o.purchaseID:b._corder);u.o.events=((u.o.events)?u.o.events:"purchase");if(u.o.events.indexOf("purchase")<0){u.o.events+=",purchase";}}
if(instance){u.o.visitor=instance;}
if(!u.o.visitor){if(typeof visitor!=="undefined"){u.o.visitor=window.visitor;}else if(typeof Visitor!=="undefined"&&typeof Visitor.getInstance!=="undefined"){u.o.visitor=Visitor.getInstance(u.data.adobe_org_id);}}
u.o.cookieDomain=u.o.visitor?u.o.visitor.cookieDomain||u.data.cookieDomain:u.data.cookieDomain;u.o.cookieDomainPeriods=u.o.cookieDomain.split('.').length;if(u.a==="view"){var img=u.o.t();if(typeof img!=="undefined"&&img!==""){u.img=new Image();u.img.src=img.substring(img.indexOf("src=")+5,img.indexOf("width=")-2);}}else if(u.a==="link"||u.a==="click"||u.a==="adobe_event"){if(typeof u.ltv!=="undefined"&&u.ltflag){if(u.o.events){u.ltv.push("events");}
if(u.o.products){u.ltv.push("products");}
b.linkTrackVars=u.ltv.join(",");}
if(typeof u.lte!=="undefined"&&u.ltflag){b.linkTrackEvents=u.lte.join(",");}
u.o.linkTrackVars=u.data.linkTrackVars||b.linkTrackVars||"None";u.o.linkTrackEvents=u.data.linkTrackEvents||b.linkTrackEvents||"None";if(!u.data.linkType){if(b.link_type==="download link"){u.data.linkType="d";}else if(b.link_type==="exit link"){u.data.linkType="e";}}
u.o.linkType=u.data.linkType||u.o.linkType||"o";u.data.linkName=u.data.linkName||b.link_name||b.link_text||"no link_name";u.o.tl(((b.link_obj)?b.link_obj:true),u.o.linkType,u.data.linkName,null,(b.doneAction?b.doneAction:null));}
if("no"==="yes"){if(u.data.clearVars_in_RPTCallback===true||u.data.clearVars_in_RPTCallback==="true"){u.o.registerPostTrackCallback(u.o.clearVars);}else{u.o.clearVars();}}}
utag.DB("send:2:COMPLETE");});}};function isTrue(input){if(typeof input==="boolean"){return input;}else if(typeof input==="string"&&(input.toLowerCase()==="yes"||input.toLowerCase()==="true")){return true;}else{return false;}}
try{utag.o[loader].loader.LOAD(id)}catch(e){utag.loader.LOAD(id)}})("2","luxottica.oliverpeoples");}catch(e){utag.DB(e);}

//tealium universal tag - utag.39 ut4.0.202509221016, Copyright 2025 Tealium.com Inc. All Rights Reserved.
if(typeof JSON!=='object'){JSON={};}
(function(){'use strict';var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(n){return n<10?'0'+n:n;}
function this_value(){return this.valueOf();}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z':null;};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value;}
var gap,indent,meta,rep;function quote(string){rx_escapable.lastIndex=0;return rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}}());try{(function(id,loader,u){try{u=utag.o[loader].sender[id]={"id":id};}catch(e){u=utag.sender[id];}
utag.globals=window.utag.globals||{};u.toBoolean=function(val){val=String(val)||"";return val===true||val.toLowerCase()==="true"||val.toLowerCase()==="on";};u.ev={"all":1};u.do_enrichment=function(){};u.deepCopy=function(input){var key,copy;if(typeof input==="object"&&input!==null){if(utag.ut.typeOf(input)==="array"){copy=[];}else{copy={};}
for(key in input){if(typeof input[key]==="object"){copy[key]=u.deepCopy(input[key]);}else{copy[key]=input[key];}}}else{copy=input;}
return copy;}
u.get_account_profile=function(s){var p;if(u.visitor_service_override||u.tag_config_server.indexOf("tealiumiq.com")===-1){p=[u.tag_config_server.split("//")[1],u.account,u.profile]}else if(u.tag_config_server===u.event_url){p=[s.substring(s.indexOf(u.server_domain)).split("/")[1],u.account,u.profile]}else{p=s.substring(s.indexOf(u.server_domain)).split("/");}
return p;};function infixParameters(url,params){var updated_url,url_parts=url.split("?");if(params){if(url_parts[1]===undefined){updated_url=url+"?"+params;}else if(url_parts[1]===""){updated_url=url+params;}else{updated_url=url_parts[0]+"?"+params+"&"+url_parts[1];}}else{updated_url=url;}
return updated_url;}
u.is_in_sample_group=function(b){var group="100";if(u.tag_config_sampling===""||u.tag_config_sampling==="100"){return true;}
if(b["cp.utag_main_dc_group"]){group=b["cp.utag_main_dc_group"];}else{group=Math.floor(Math.random()*100)+1;utag.loader.SC("utag_main",{"dc_group":group});}
if(parseInt(group)<=parseInt(u.tag_config_sampling)){return true;}else{return false;}};u.get_performance_timing=function(b){var t,timing;var data={};function subtract(val1,val2){var difference=0;if(val1>val2){difference=val1-val2;}
return difference;}
try{timing=localStorage.getItem("tealium_timing");t=window.performance.timing;if(timing!==null&&timing!=="{}"&&typeof b!=="undefined"&&u.performance_timing_count===0){utag.ut.merge(b,utag.ut.flatten({timing:JSON.parse(timing)}),1);}}catch(e){utag.DB(e);return;}
u.performance_timing_count++;for(var k in t){if((k.indexOf("dom")===0||k.indexOf("load")===0)&&t[k]===0&&u.performance_timing_count<20){setTimeout(u.get_performance_timing,1000);}}
data["domain"]=location.hostname+"";data["pathname"]=location.pathname+"";data["query_string"]=(""+location.search).substring(1);data["timestamp"]=(new Date()).getTime();data["dns"]=subtract(t.domainLookupEnd,t.domainLookupStart);data["connect"]=subtract(t.connectEnd,t.connectStart);data["response"]=subtract(t.responseEnd,t.responseStart);data["dom_loading_to_interactive"]=subtract(t.domInteractive,t.domLoading);data["dom_interactive_to_complete"]=subtract(t.domComplete,t.domInteractive);data["load"]=subtract(t.loadEventEnd,t.loadEventStart);data["time_to_first_byte"]=subtract(t.responseStart,t.connectEnd);data["front_end"]=subtract(t.loadEventStart,t.responseEnd);data["fetch_to_response"]=subtract(t.responseStart,t.fetchStart);data["fetch_to_complete"]=subtract(t.domComplete,t.fetchStart);data["fetch_to_interactive"]=subtract(t.domInteractive,t.fetchStart);try{localStorage.setItem("tealium_timing",JSON.stringify(data));}catch(e){utag.DB(e);}};u.validateProtocol=function(address,force_ssl){if(/^https?:\/\//i.test(address)){if(force_ssl){if(/^http:\/\//i.test(address)){address=address.toLowerCase().replace("http","https");}}}else{if(/^\/\//.test(address)){if(force_ssl){address="https:"+address;}else{address=location.protocol+address;}
}else{if(force_ssl){address="https://"+address;}else{address=location.protocol+"//"+address;}}}
return address;}
u.server_domain="tealiumiq.com";u.server_prefix="";u.tag_config_server="";u.tag_config_sampling="100"||"100";if(utag.cfg.utagdb){u.tag_config_sampling="100";}
u.tag_config_region="eu-west-1"||"default";u.region="";u.performance_timing_count=0;u.event_url='//collect.tealiumiq.com/event';u.account=utag.cfg.utid.split("/")[0];u.data_source="";u.profile=""||utag.cfg.utid.split("/")[1];u.visitor_service_override='';u.request_increment=1;u.iab_v20_compliance=true;u.tc_string="";u.use_sendBeacon='true';u.use_event_endpoint='false';u.tealium_cookie_domain='';u.tealium_cookie_expiry='';u.data_enrichment="frequent";u.send_udo_variables="true"||true;u.send_dom_values="true"||true;u.send_cookie_values="true"||true;u.send_meta_values="true"||true;u.send_query_param_values="true"||true;u.send_localstorage_variables="false"||false;u.send_sessionstorage_variables="false"||false;u.profile_specific_vid=0;u.enrichment_polling=1;u.enrichment_polling_delay=500;u.enrichment_enabled={};u.suppress_v_id_generation=false;u.map={};u.extend=[function(a,b){try{if(1){(function(){var tealiumExtensionClosureVars={b:b,u:u};var tealiumExtensionName='8.5 - Old Collect - Initialization';var tealiumExtensionCode=function(){try{for(var prop in b){if(b.hasOwnProperty(prop)&&typeof b[prop]==='undefined'||b[prop]===''||(Array.isArray(b[prop])&&b[prop].length===0)||(typeof b[prop]==='object'&&(!Array.isArray(b[prop]))))delete b[prop];}
['Products_Id_Array','Products_Category_Array','Products_LensUPC_Array','Products_Brand_Array'].forEach(function(key){if(b.hasOwnProperty(key)&&Array.isArray(b[key]))b[key.replace(/_Array/,'_Csv')]=b[key].map(function(value){return value.replace(/,/g,'%2C');}).join(',');});}catch(e){__Utils__.UtagHelper.throwSystemError('collect',b,{component:'Collect',context:'Initialization',details:e});}};return window.TealiumBetaExtService&&TealiumBetaExtService.create?TealiumBetaExtService.create(tealiumExtensionName,tealiumExtensionCode,tealiumExtensionClosureVars):tealiumExtensionCode();})();}}catch(e){utag.DB(e)}}];u.send=function(a,b){var c,d,i;if(u.ev[a]||typeof u.ev["all"]!=="undefined"){if(a==="remote_api"){utag.DB("Remote API event suppressed.");return;}
if(a==='update_consent_cookie'){utag.DB('Update Consent Cookie event supressed.');return;}
try{if(utag.gdpr.consent_prompt.isEnabled||utag.gdpr.getConsentState()){b["consent_categories"]=utag.gdpr.getSelectedCategories();b["policy"]="gdpr";}}catch(e){utag.DB(e)}for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){if(typeof utag_err!='undefined'){utag_err.push({e:'extension error:'+e,s:utag.cfg.path+'utag.'+id+'.js',l:c,t:'ex'})}}};utag.DB("send:39:EXTENSIONS");utag.DB(b);c=[];Object.keys(utag.loader.GV(u.map)).forEach(function(mapping_key){if(b[mapping_key]!==undefined&&b[mapping_key]!==''){var destinations=u.map[mapping_key].split(',');destinations.forEach(function(parameter){u[parameter]=b[mapping_key];});}});utag.DB("send:39:MAPPINGS");utag.DB(u);u.use_sendBeacon=u.toBoolean(u.use_sendBeacon);u.use_event_endpoint=u.toBoolean(u.use_event_endpoint);u.send_udo_variables=u.toBoolean(u.send_udo_variables);u.send_cookie_values=u.toBoolean(u.send_cookie_values);u.send_dom_values=u.toBoolean(u.send_dom_values);u.send_meta_values=u.toBoolean(u.send_meta_values);u.send_query_param_values=u.toBoolean(u.send_query_param_values);u.send_localstorage_variables=u.toBoolean(u.send_localstorage_variables);u.send_sessionstorage_variables=u.toBoolean(u.send_sessionstorage_variables);if(u.tag_config_server.indexOf("-collect."+u.server_domain)>1){u.server_prefix=u.tag_config_server.split("collect."+u.server_domain)[0];if(u.tag_config_server.indexOf("/i.gif")<0){u.tag_config_server="https://"+[u.server_prefix+"collect."+u.server_domain,u.account,u.profile,"2","i.gif"].join("/");}}
if(u.tag_config_server===""){if(u.use_event_endpoint){u.tag_config_server=u.event_url;}else if(u.tag_config_region==="default"){u.tag_config_server="https://"+[u.server_prefix+"collect."+u.server_domain,u.account,u.profile,"2","i.gif"].join("/");}else{u.tag_config_server="https://"+[u.server_prefix+"collect-"+u.tag_config_region+"."+u.server_domain,u.account,u.profile,"2","i.gif"].join("/");}}
if(u.tag_config_server.indexOf("-collect-")>-1){u.server_prefix=u.tag_config_server.split("collect-")[0];}
if(u.tag_config_region!=="default"&&u.tag_config_server.indexOf(u.server_prefix+"collect."+u.server_domain)>0){u.tag_config_server=u.tag_config_server.replace(u.server_prefix+"collect."+u.server_domain,u.server_prefix+"collect-"+u.tag_config_region+"."+u.server_domain);u.region=u.tag_config_region;}
var q=u.tag_config_server.indexOf("?");if(q>0&&(q+1)==u.tag_config_server.length){u.tag_config_server=u.tag_config_server.replace("?","");}
u.server_list=u.tag_config_server.split("|");if(u.tealium_cookie_domain){b.tealium_cookie_domain=u.tealium_cookie_domain;}
if(u.tealium_cookie_expiry){b.tealium_cookie_expiry=parseInt(u.tealium_cookie_expiry);}
if(u.iab_v20_compliance===true||u.iab_v20_compliance==="true"){if(typeof __tcfapi==="function"){__tcfapi("getTCData",2,function(tcData,success){if(success){u.tc_string="gdpr=";if(tcData.gdprApplies===true){u.tc_string+="1";}else if(tcData.gdprApplies===false){u.tc_string+="0";}else{u.tc_string+=String(tcData.gdprApplies);}
u.tc_string+="&gdpr_consent="+tcData.tcString;execute_send();}});}else{var frame=window;var cmpFrame;var cmpCallbacks={};while(frame){try{if(frame.frames["__tcfapiLocator"]){cmpFrame=frame;break;}}catch(error){utag.DB(error);}
if(frame===window.top){break;}
frame=frame.parent;}
if(!cmpFrame){execute_send();}else{window.__tcfapi=function(cmd,version,callback,arg){var callId=String(Math.random());var msg={__tcfapiCall:{command:cmd,parameter:arg,version:version,callId:callId}};cmpCallbacks[callId]=callback;cmpFrame.postMessage(msg,"*");};window.tealiumiabPostMessageHandler=function(event){var json={};try{json=typeof event.data==="string"?JSON.parse(event.data):event.data;}catch(error){utag.DB(error);}
var payload=json.__tcfapiReturn;if(payload){if(typeof cmpCallbacks[payload.callId]==="function"){cmpCallbacks[payload.callId](payload.returnValue,payload.success);cmpCallbacks[payload.callId]=null;}}};window.addEventListener("message",tealiumiabPostMessageHandler,false);__tcfapi("getTCData",2,function(tcData,success){if(success){u.tc_string="gdpr=";if(tcData.gdprApplies===true){u.tc_string+="1";}else if(tcData.gdprApplies===false){u.tc_string+="0";}else{u.tc_string+=String(tcData.gdprApplies);}
u.tc_string+="&gdpr_consent="+tcData.tcString;execute_send();}});}}}else{execute_send();}
function execute_send(){if(u.data_source){b.tealium_datasource=u.data_source;}
u.make_enrichment_request=false;if(!u.is_in_sample_group(b)){return false;}
u.get_performance_timing(b);for(i=0;i<u.server_list.length;i++){if(u.server_list[i].toLowerCase().indexOf("http")===-1){u.server_list[i]=u.validateProtocol(u.server_list[i],true);}
if(u.enrichment_enabled[i]!==false){u.enrichment_enabled[u.server_list[i]]=true;}}
if(u.server_list.length>1){u.profile_specific_vid=1;}
u.data=utag.datacloud||{};u.data["loader.cfg"]={};for(d in utag.loader.GV(utag.loader.cfg)){if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){utag.loader.cfg[d].executed=1;}else{utag.loader.cfg[d].executed=0;}
u.data["loader.cfg"][d]=utag.loader.GV(utag.loader.cfg[d]);}
u.data.data=b;for(d in u.data.data){if((d+'').indexOf("qp.")===0){u.data.data[d]=encodeURIComponent(u.data.data[d]);}else if((d+'').indexOf("va.")===0){delete u.data.data[d];}}
if(!u.suppress_v_id_generation){var consentCookies=utag.gdpr&&typeof utag.gdpr.getCookieValues==='function'&&utag.gdpr.getCookieValues();var consentCookieId=consentCookies&&consentCookies.id;u.visitor_id=u.visitor_id||b.tealium_visitor_id||b["cp.utag_main_v_id"]||consentCookieId||utag.ut.vi((new Date()).getTime());utag.loader.SC("utag_main",{v_id:u.visitor_id});b["cp.utag_main_v_id"]=u.visitor_id;b["ut.visitor_id"]=u.visitor_id;b["tealium_visitor_id"]=u.visitor_id;}
if(!b["cp.utag_main_dc_event"]){b["cp.utag_main_dc_visit"]=(1+(b["cp.utag_main_dc_visit"]?parseInt(b["cp.utag_main_dc_visit"]):0))+"";}
b["cp.utag_main_dc_event"]=(1+(b["cp.utag_main_dc_event"]?parseInt(b["cp.utag_main_dc_event"]):0))+"";utag.loader.SC("utag_main",{"dc_visit":b["cp.utag_main_dc_visit"],"dc_event":b["cp.utag_main_dc_event"]+";exp-session"});utag.data["cp.utag_main_dc_visit"]=b["cp.utag_main_dc_visit"];utag.data["cp.utag_main_dc_event"]=b["cp.utag_main_dc_event"];var dt=new Date();u.data.browser={};try{u.data.browser["height"]=window.innerHeight||document.body.clientHeight;u.data.browser["width"]=window.innerWidth||document.body.clientWidth;u.data.browser["screen_height"]=screen.height;u.data.browser["screen_width"]=screen.width;u.data.browser["timezone_offset"]=dt.getTimezoneOffset();}catch(e){utag.DB(e);}
u.data["event"]=a+'';u.data["post_time"]=dt.getTime();if(u.data_enrichment==="frequent"||u.data_enrichment==="infrequent"){u.visit_num=b["cp.utag_main_dc_visit"];if(parseInt(u.visit_num)>1&&b["cp.utag_main_dc_event"]==="1"){u.enrichment_polling=2;}
try{u.va_update=parseInt(localStorage.getItem("tealium_va_update")||0);}catch(e){utag.DB(e);}
u.visitor_id=u.visitor_id||b.tealium_visitor_id||b["cp.utag_main_v_id"];if(u.data_enrichment==="frequent"||(u.data_enrichment==="infrequent"&&parseInt(u.visit_num)>1&&parseInt(b["cp.utag_main_dc_event"])<=5&&u.visit_num!==u.va_update)){u.make_enrichment_request=true;}
u.visitor_service_request=function(t,server){var s,p=u.get_account_profile(server);if(u.visitor_service_override){s=u.validateProtocol(u.visitor_service_override,true);}else{s=u.validateProtocol(u.server_prefix,true)+"visitor-service"+(u.region?"-"+u.region:"").replace(/[^-A-Za-z0-9+_.]/g,"")+"."+u.server_domain;}
(function(p){var prefix="tealium_va";var key="_"+p[1]+"_"+p[2];utag.ut["writeva"+p[2]]=function(o){utag.DB("Visitor Attributes: "+prefix+key);utag.DB(o);var str=JSON.stringify(o);if(str!=="{}"&&str!==""){try{localStorage.setItem("tealium_va_update",utag.data["cp.utag_main_dc_visit"]);localStorage.setItem(prefix,str);localStorage.setItem(prefix+key,str);}catch(e){utag.DB(e);}
if(typeof tealium_enrichment==="function"){tealium_enrichment(o,prefix+key);}}};}(p.slice(0)));var vid=u.visitor_id;if(u.profile_specific_vid===1){vid+=p[2];}
var srcUrl=s+'/'+p[1]+'/'+p[2]+'/'+vid.replace(/[\?\&]callback=.*/g,'')+'?callback=utag.ut%5B%22writeva'+p[2]+'%22%5D&rnd='+t;if(b.tealium_cookie_domain){srcUrl=srcUrl+'&tealium_cookie_domain='+b.tealium_cookie_domain
if(b.tealium_cookie_expiry){srcUrl=srcUrl+'&tealium_cookie_expiry='+b.tealium_cookie_expiry}}
utag.ut.loader({id:'tealium_visitor_service_39'+p[2]+'_'+u.request_increment++,src:srcUrl});};u.do_enrichment=function(server,enrichment_polling,enrichment_polling_delay){if(typeof utag.ut.loader!="undefined"){for(i=0;i<enrichment_polling;i++){setTimeout(function(){u.visitor_service_request((new Date).getTime(),server);},i*enrichment_polling_delay+1);}}};}
var json_string,regExpReplace=new RegExp(u.visitor_id,"g");if(b.tealium_random&&typeof utag.globals[b.tealium_random]==="object"){for(var downstream_param in utag.globals[b.tealium_random]){u.data.data[downstream_param]=u.deepCopy(utag.globals[b.tealium_random][downstream_param]);}}
function getSendData(useEventData,server){var dataStringify=u.data;var filterObject=u.data.data
if(useEventData){dataStringify=u.data.data;filterObject=u.data.data;u.data.data.tealium_profile=u.profile;}
Object.keys(filterObject).forEach(dataKey=>{if(['cp.trace_id','tealium_account','tealium_profile'].indexOf(dataKey)!==-1){return;}
if(dataKey.indexOf('cp.')===0){!u.send_cookie_values&&delete filterObject[dataKey];return;}
if(dataKey.indexOf('meta.')===0){!u.send_meta_values&&delete filterObject[dataKey];return;}
if(dataKey.indexOf('qp.')===0){!u.send_query_param_values&&delete filterObject[dataKey];return;}
if(dataKey.indexOf('ls.')===0){!u.send_localstorage_variables&&delete filterObject[dataKey];return;}
if(dataKey.indexOf('ss.')===0){!u.send_sessionstorage_variables&&delete filterObject[dataKey];return;}
if(dataKey.indexOf('dom.')===0){!u.send_dom_values&&delete filterObject[dataKey];return;}
if(dataKey.indexOf('dom.')!==0&&dataKey.indexOf('ss.')!==0&&dataKey.indexOf('ls.')!==0&&dataKey.indexOf('qp.')!==0&&dataKey.indexOf('meta.')!==0&&dataKey.indexOf('cp.')!==0){!u.send_udo_variables&&delete filterObject[dataKey];return;}});json_string=JSON.stringify(dataStringify);if(u.profile_specific_vid===1&&u.visitor_id){json_string=json_string.replace(regExpReplace,u.visitor_id+u.get_account_profile(server)[2]);}
if(useEventData){return json_string;}
var formData=new FormData();formData.append("data",json_string);return formData;}
function postData(server_index,enrichment_polling,enrichment_polling_delay,useEventData){if(server_index+1>u.server_list.length){return;}
var xhr=new XMLHttpRequest();var server=u.validateProtocol(u.server_list[server_index],true);var data=getSendData(useEventData,server);u.region=utag.loader.RC("utag_main")["dc_region"]||u.region||"";if(typeof navigator.sendBeacon==='function'&&u.region!==""&&u.use_sendBeacon){u.server_list.forEach(function(serverItem){var beaconSent=navigator.sendBeacon(infixParameters(serverItem,u.tc_string),data);if(!beaconSent){xhr.open("post",infixParameters(serverItem,u.tc_string),true);xhr.withCredentials=true;xhr.send(data);}
if(u.make_enrichment_request&&u.enrichment_enabled[serverItem]){u.do_enrichment(serverItem,enrichment_polling,enrichment_polling_delay);}});utag.DB("Data sent using sendBeacon");return;}
xhr.addEventListener("readystatechange",function(){if(xhr.readyState===3){try{u.region=xhr.getResponseHeader("X-Region")||u.region||"";}catch(res_error){utag.DB(res_error);u.region=u.region||"";}
if(u.region)utag.loader.SC("utag_main",{"dc_region":u.region+";exp-session"});utag.DB("dc_region:"+u.region);}else if(xhr.readyState===4){postData(server_index+1,enrichment_polling,enrichment_polling_delay,useEventData);if(u.make_enrichment_request&&u.enrichment_enabled[server]){u.do_enrichment(server,enrichment_polling,enrichment_polling_delay);}}});if(u.server_list[server_index].toLowerCase().indexOf("http")!==0){u.server_list[server_index]=u.validateProtocol(u.server_list[server_index],true);}
var serverUrl=infixParameters(u.server_list[server_index],u.tc_string);xhr.open("post",serverUrl,true);xhr.withCredentials=true;xhr.send(data);}
if(u.use_event_endpoint&&(u.tag_config_server===u.event_url||u.tag_config_region!=="default")&&window.FormData){postData(0,u.enrichment_polling,u.enrichment_polling_delay,true);}else if(window.FormData){postData(0,u.enrichment_polling,u.enrichment_polling_delay,false);}else{for(i=0;i<u.server_list.length;i++){(function(i,enrichment_polling,enrichment_polling_delay){var server=u.server_list[i];setTimeout(function(){json_string=JSON.stringify(u.data);if(u.profile_specific_vid==1&&u.visitor_id){json_string=json_string.replace(regExpReplace,u.visitor_id+u.get_account_profile(server)[2]);}
var img=new Image();img.src=server+"?"+(u.tc_string?u.tc_string+"&":"")+"data="+encodeURIComponent(json_string);if(u.make_enrichment_request&&u.enrichment_enabled[server]){u.do_enrichment(server,enrichment_polling,enrichment_polling_delay);}},i*700);}(i,u.enrichment_polling,u.enrichment_polling_delay));}}}}};try{utag.o[loader].loader.LOAD(id);}catch(e){utag.loader.LOAD(id);}})("39","luxottica.oliverpeoples");}catch(e){utag.DB(e);}
(function(){ if(typeof utag!='undefined' && !utag_condload){utag.initcatch=true;for(var i in utag.loader.GV(utag.loader.cfg)){var b=utag.loader.cfg[i];if(b.load!=4){utag.initcatch=false;break};if(b.wait==1){utag.initcatch=false;break}};if(utag.initcatch)utag.handler.INIT();} })();